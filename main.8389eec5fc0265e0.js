(self.webpackChunkmy_portfolio_v1=self.webpackChunkmy_portfolio_v1||[]).push([[179],{6304:(ht,Te,k)=>{"use strict";k.d(Te,{Dh:()=>Ae,GT:()=>U,cc:()=>Pe,hO:()=>Be,on:()=>q,pX:()=>ue,xv:()=>he});var f=k(5879),ne=k(3071),L=k(1277);ht=k.hmd(ht);const ae=["ngOnDestroy"],ue=(Ne,ot,Xe,se={})=>new Proxy(Ne,{get:(ye,te)=>Xe.runOutsideAngular(()=>{var me;if(Ne[te])return!(null===(me=se?.spy)||void 0===me)&&me.get&&se.spy.get(te,Ne[te]),Ne[te];if(ae.indexOf(te)>-1)return()=>{};const Le=ot.toPromise().then(H=>{const Ie=H&&H[te];return"function"==typeof Ie?Ie.bind(H):Ie&&Ie.then?Ie.then(De=>Xe.run(()=>De)):Xe.run(()=>Ie)});return new Proxy(()=>{},{get:(H,Ie)=>Le[Ie],apply:(H,Ie,De)=>Le.then(Pt=>{var Wt;const nn=Pt&&Pt(...De);return!(null===(Wt=se?.spy)||void 0===Wt)&&Wt.apply&&se.spy.apply(te,De,nn),nn})})})}),U=(Ne,ot)=>{ot.forEach(Xe=>{Object.getOwnPropertyNames(Xe.prototype||Xe).forEach(se=>{Object.defineProperty(Ne.prototype,se,Object.getOwnPropertyDescriptor(Xe.prototype||Xe,se))})})};class be{constructor(ot){return ot}}const Ae=new f.OlP("angularfire2.app.options"),he=new f.OlP("angularfire2.app.name");function q(Ne,ot,Xe){const ye="object"==typeof Xe&&Xe||{};ye.name=ye.name||"string"==typeof Xe&&Xe||"[DEFAULT]";const me=ne.Z.apps.filter(Le=>Le&&Le.name===ye.name)[0]||ot.runOutsideAngular(()=>ne.Z.initializeApp(Ne,ye));try{JSON.stringify(Ne)!==JSON.stringify(me.options)&&G("error",`${me.name} Firebase App already initialized with different options${ht.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new be(me)}const G=(Ne,...ot)=>{(0,f.X6Q)()&&typeof console<"u"&&console[Ne](...ot)},ie={provide:be,useFactory:q,deps:[Ae,f.R0b,[new f.FiY,he]]};let Be=(()=>{class Ne{constructor(Xe){ne.Z.registerVersion("angularfire",L.q4.full,"core"),ne.Z.registerVersion("angularfire",L.q4.full,"app-compat"),ne.Z.registerVersion("angular",f.q4F.full,Xe.toString())}static initializeApp(Xe,se){return{ngModule:Ne,providers:[{provide:Ae,useValue:Xe},{provide:he,useValue:se}]}}}return Ne.\u0275fac=function(Xe){return new(Xe||Ne)(f.LFG(f.Lbi))},Ne.\u0275mod=f.oAB({type:Ne}),Ne.\u0275inj=f.cJS({providers:[ie]}),Ne})();function Pe(Ne,ot,Xe,se,ye){const[,te,me]=globalThis.\u0275AngularfireInstanceCache.find(Le=>Le[0]===Ne)||[];if(te)return function Ke(Ne,ot){try{return Ne.toString()===ot.toString()}catch{return Ne===ot}}(ye,me)||(Ze("error",`${ot} was already initialized on the ${Xe} Firebase App with different settings.${Oe?" You may need to reload as Firebase is not HMR aware.":""}`),Ze("warn",{is:ye,was:me})),te;{const Le=se();return globalThis.\u0275AngularfireInstanceCache.push([Ne,Le,ye]),Le}}const Oe=!!ht.hot,Ze=(Ne,...ot)=>{(0,f.X6Q)()&&typeof console<"u"&&console[Ne](...ot)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1277:(ht,Te,k)=>{"use strict";k.d(Te,{q4:()=>Sc,iC:()=>Bu,fc:()=>Ha,HU:()=>Tc,vb:()=>Vd,JM:()=>Ld});var f=k(5879),ne=k(301),L=k(5861),ae=k(4303),ue=k(9058),U=k(4537),be=k(7879),Ae=k(1878);const he="@firebase/installations",q="0.5.12",G=1e4,ie=`w:${q}`,Be="FIS_v2",Pe="https://firebaseinstallations.googleapis.com/v1",Ke=36e5,ot=new ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Xe(S){return S instanceof ue.ZR&&S.code.includes("request-failed")}function se({projectId:S}){return`${Pe}/projects/${S}/installations`}function ye(S){return{token:S.token,requestStatus:2,expiresIn:Pt(S.expiresIn),creationTime:Date.now()}}function te(S,A){return me.apply(this,arguments)}function me(){return(me=(0,L.Z)(function*(S,A){const j=(yield A.json()).error;return ot.create("request-failed",{requestName:S,serverCode:j.code,serverMessage:j.message,serverStatus:j.status})})).apply(this,arguments)}function Le({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function Ie(S){return De.apply(this,arguments)}function De(){return(De=(0,L.Z)(function*(S){const A=yield S();return A.status>=500&&A.status<600?S():A})).apply(this,arguments)}function Pt(S){return Number(S.replace("s","000"))}function hn(){return(hn=(0,L.Z)(function*({appConfig:S,heartbeatServiceProvider:A},{fid:N}){const j=se(S),re=Le(S),ce=A.getImmediate({optional:!0});if(ce){const kt=yield ce.getHeartbeatsHeader();kt&&re.append("x-firebase-client",kt)}const et={method:"POST",headers:re,body:JSON.stringify({fid:N,authVersion:Be,appId:S.appId,sdkVersion:ie})},Et=yield Ie(()=>fetch(j,et));if(Et.ok){const kt=yield Et.json();return{fid:kt.fid||N,registrationStatus:2,refreshToken:kt.refreshToken,authToken:ye(kt.authToken)}}throw yield te("Create Installation",Et)})).apply(this,arguments)}function fn(S){return new Promise(A=>{setTimeout(A,S)})}const xr=/^[cdef][\w-]{21}$/,le="";function ge(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const N=function ve(S){return function Qn(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return xr.test(N)?N:le}catch{return le}}function _e(S){return`${S.appName}!${S.appId}`}const Ve=new Map;function He(S,A){const N=_e(S);sn(N,A),function ft(S,A){const N=function wt(){return!Ut&&"BroadcastChannel"in self&&(Ut=new BroadcastChannel("[Firebase] FID Change"),Ut.onmessage=S=>{sn(S.data.key,S.data.fid)}),Ut}();N&&N.postMessage({key:S,fid:A}),function Lt(){0===Ve.size&&Ut&&(Ut.close(),Ut=null)}()}(N,A)}function sn(S,A){const N=Ve.get(S);if(N)for(const j of N)j(A)}let Ut=null;const xn="firebase-installations-database",Xn=1,cn="firebase-installations-store";let _t=null;function Ln(){return _t||(_t=(0,Ae.X3)(xn,Xn,{upgrade:(S,A)=>{0===A&&S.createObjectStore(cn)}})),_t}function zn(S,A){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,L.Z)(function*(S,A){const N=_e(S),re=(yield Ln()).transaction(cn,"readwrite"),ce=re.objectStore(cn),Fe=yield ce.get(N);return yield ce.put(A,N),yield re.done,(!Fe||Fe.fid!==A.fid)&&He(S,A.fid),A})).apply(this,arguments)}function vn(S){return mn.apply(this,arguments)}function mn(){return(mn=(0,L.Z)(function*(S){const A=_e(S),j=(yield Ln()).transaction(cn,"readwrite");yield j.objectStore(cn).delete(A),yield j.done})).apply(this,arguments)}function fi(S,A){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,L.Z)(function*(S,A){const N=_e(S),re=(yield Ln()).transaction(cn,"readwrite"),ce=re.objectStore(cn),Fe=yield ce.get(N),et=A(Fe);return void 0===et?yield ce.delete(N):yield ce.put(et,N),yield re.done,et&&(!Fe||Fe.fid!==et.fid)&&He(S,et.fid),et})).apply(this,arguments)}function nt(S){return Tt.apply(this,arguments)}function Tt(){return Tt=(0,L.Z)(function*(S){let A;const N=yield fi(S.appConfig,j=>{const re=function $n(S){return gr(S||{fid:ge(),registrationStatus:0})}(j),ce=function pi(S,A){if(0===A.registrationStatus){if(!navigator.onLine)return{installationEntry:A,registrationPromise:Promise.reject(ot.create("app-offline"))};const N={fid:A.fid,registrationStatus:1,registrationTime:Date.now()},j=function er(S,A){return pn.apply(this,arguments)}(S,N);return{installationEntry:N,registrationPromise:j}}return 1===A.registrationStatus?{installationEntry:A,registrationPromise:In(S)}:{installationEntry:A}}(S,re);return A=ce.registrationPromise,ce.installationEntry});return N.fid===le?{installationEntry:yield A}:{installationEntry:N,registrationPromise:A}}),Tt.apply(this,arguments)}function pn(){return pn=(0,L.Z)(function*(S,A){try{const N=yield function nn(S,A){return hn.apply(this,arguments)}(S,A);return zn(S.appConfig,N)}catch(N){throw Xe(N)&&409===N.customData.serverCode?yield vn(S.appConfig):yield zn(S.appConfig,{fid:A.fid,registrationStatus:0}),N}}),pn.apply(this,arguments)}function In(S){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,L.Z)(function*(S){let A=yield Tn(S.appConfig);for(;1===A.registrationStatus;)yield fn(100),A=yield Tn(S.appConfig);if(0===A.registrationStatus){const{installationEntry:N,registrationPromise:j}=yield nt(S);return j||N}return A})).apply(this,arguments)}function Tn(S){return fi(S,A=>{if(!A)throw ot.create("installation-not-found");return gr(A)})}function gr(S){return function an(S){return 1===S.registrationStatus&&S.registrationTime+G<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function Qr(){return(Qr=(0,L.Z)(function*({appConfig:S,heartbeatServiceProvider:A},N){const j=function Lo(S,{fid:A}){return`${se(S)}/${A}/authTokens:generate`}(S,N),re=function H(S,{refreshToken:A}){const N=Le(S);return N.append("Authorization",function Wt(S){return`${Be} ${S}`}(A)),N}(S,N),ce=A.getImmediate({optional:!0});if(ce){const kt=yield ce.getHeartbeatsHeader();kt&&re.append("x-firebase-client",kt)}const et={method:"POST",headers:re,body:JSON.stringify({installation:{sdkVersion:ie,appId:S.appId}})},Et=yield Ie(()=>fetch(j,et));if(Et.ok)return ye(yield Et.json());throw yield te("Generate Auth Token",Et)})).apply(this,arguments)}function J(S){return Z.apply(this,arguments)}function Z(){return Z=(0,L.Z)(function*(S,A=!1){let N;const j=yield fi(S.appConfig,ce=>{if(!mt(ce))throw ot.create("not-registered");const Fe=ce.authToken;if(!A&&function At(S){return 2===S.requestStatus&&!function dn(S){const A=Date.now();return A<S.creationTime||S.creationTime+S.expiresIn<A+Ke}(S)}(Fe))return ce;if(1===Fe.requestStatus)return N=function z(S,A){return Y.apply(this,arguments)}(S,A),ce;{if(!navigator.onLine)throw ot.create("app-offline");const et=function tr(S){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:A})}(ce);return N=function ke(S,A){return $e.apply(this,arguments)}(S,et),et}});return N?yield N:j.authToken}),Z.apply(this,arguments)}function Y(){return(Y=(0,L.Z)(function*(S,A){let N=yield W(S.appConfig);for(;1===N.authToken.requestStatus;)yield fn(100),N=yield W(S.appConfig);const j=N.authToken;return 0===j.requestStatus?J(S,A):j})).apply(this,arguments)}function W(S){return fi(S,A=>{if(!mt(A))throw ot.create("not-registered");return function Kt(S){return 1===S.requestStatus&&S.requestTime+G<Date.now()}(A.authToken)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}function $e(){return $e=(0,L.Z)(function*(S,A){try{const N=yield function Yr(S,A){return Qr.apply(this,arguments)}(S,A),j=Object.assign(Object.assign({},A),{authToken:N});return yield zn(S.appConfig,j),N}catch(N){if(!Xe(N)||401!==N.customData.serverCode&&404!==N.customData.serverCode){const j=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});yield zn(S.appConfig,j)}else yield vn(S.appConfig);throw N}}),$e.apply(this,arguments)}function mt(S){return void 0!==S&&2===S.registrationStatus}function Yi(){return(Yi=(0,L.Z)(function*(S){const A=S,{installationEntry:N,registrationPromise:j}=yield nt(A);return j?j.catch(console.error):J(A).catch(console.error),N.fid})).apply(this,arguments)}function Ir(){return Ir=(0,L.Z)(function*(S,A=!1){const N=S;return yield function Cr(S){return mr.apply(this,arguments)}(N),(yield J(N,A)).token}),Ir.apply(this,arguments)}function mr(){return(mr=(0,L.Z)(function*(S){const{registrationPromise:A}=yield nt(S);A&&(yield A)})).apply(this,arguments)}function Os(S){return ot.create("missing-app-config-values",{valueName:S})}const fu="installations",Kn=S=>{const A=S.getProvider("app").getImmediate(),N=function Vo(S){if(!S||!S.options)throw Os("App Configuration");if(!S.name)throw Os("App Name");const A=["projectId","apiKey","appId"];for(const N of A)if(!S.options[N])throw Os(N);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(A);return{app:A,appConfig:N,heartbeatServiceProvider:(0,ae._getProvider)(A,"heartbeat"),_delete:()=>Promise.resolve()}},Uo=S=>{const A=S.getProvider("app").getImmediate(),N=(0,ae._getProvider)(A,fu).getImmediate();return{getId:()=>function Ur(S){return Yi.apply(this,arguments)}(N),getToken:re=>function io(S){return Ir.apply(this,arguments)}(N,re)}};(function ks(){(0,ae._registerComponent)(new U.wA(fu,Kn,"PUBLIC")),(0,ae._registerComponent)(new U.wA("installations-internal",Uo,"PRIVATE"))})(),(0,ae.registerVersion)(he,q),(0,ae.registerVersion)(he,q,"esm2017");const Fs="@firebase/remote-config",yr=new ue.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class pc{constructor(A,N,j,re){this.client=A,this.storage=N,this.storageCache=j,this.logger=re}isCachedDataFresh(A,N){if(!N)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const j=Date.now()-N,re=j<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${j}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${re}.`),re}fetch(A){var N=this;return(0,L.Z)(function*(){const[j,re]=yield Promise.all([N.storage.getLastSuccessfulFetchTimestampMillis(),N.storage.getLastSuccessfulFetchResponse()]);if(re&&N.isCachedDataFresh(A.cacheMaxAgeMillis,j))return re;A.eTag=re&&re.eTag;const ce=yield N.client.fetch(A),Fe=[N.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ce.status&&Fe.push(N.storage.setLastSuccessfulFetchResponse(ce)),yield Promise.all(Fe),ce})()}}function xt(S=navigator){return S.languages&&S.languages[0]||S.language}class Gn{constructor(A,N,j,re,ce,Fe){this.firebaseInstallations=A,this.sdkVersion=N,this.namespace=j,this.projectId=re,this.apiKey=ce,this.appId=Fe}fetch(A){var N=this;return(0,L.Z)(function*(){var j,re,ce;const[Fe,et]=yield Promise.all([N.firebaseInstallations.getId(),N.firebaseInstallations.getToken()]),kt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${N.projectId}/namespaces/${N.namespace}:fetch?key=${N.apiKey}`,zt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},Ct={sdk_version:N.sdkVersion,app_instance_id:Fe,app_instance_id_token:et,app_id:N.appId,language_code:xt()},Yn={method:"POST",headers:zt,body:JSON.stringify(Ct)},cr=fetch(kt,Yn),ju=new Promise((Ws,Ga)=>{A.signal.addEventListener(()=>{const Mc=new Error("The operation was aborted.");Mc.name="AbortError",Ga(Mc)})});let oa;try{yield Promise.race([cr,ju]),oa=yield cr}catch(Ws){let Ga="fetch-client-network";throw"AbortError"===(null===(j=Ws)||void 0===j?void 0:j.name)&&(Ga="fetch-timeout"),yr.create(Ga,{originalErrorMessage:null===(re=Ws)||void 0===re?void 0:re.message})}let bo=oa.status;const za=oa.headers.get("ETag")||void 0;let Tl,Eo;if(200===oa.status){let Ws;try{Ws=yield oa.json()}catch(Ga){throw yr.create("fetch-client-parse",{originalErrorMessage:null===(ce=Ga)||void 0===ce?void 0:ce.message})}Tl=Ws.entries,Eo=Ws.state}if("INSTANCE_STATE_UNSPECIFIED"===Eo?bo=500:"NO_CHANGE"===Eo?bo=304:("NO_TEMPLATE"===Eo||"EMPTY_CONFIG"===Eo)&&(Tl={}),304!==bo&&200!==bo)throw yr.create("fetch-status",{httpStatus:bo});return{status:bo,eTag:za,config:Tl}})()}}class Br{constructor(A,N){this.client=A,this.storage=N}fetch(A){var N=this;return(0,L.Z)(function*(){const j=(yield N.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return N.attemptFetch(A,j)})()}attemptFetch(A,{throttleEndTimeMillis:N,backoffCount:j}){var re=this;return(0,L.Z)(function*(){yield function Rn(S,A){return new Promise((N,j)=>{const re=Math.max(A-Date.now(),0),ce=setTimeout(N,re);S.addEventListener(()=>{clearTimeout(ce),j(yr.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(A.signal,N);try{const ce=yield re.client.fetch(A);return yield re.storage.deleteThrottleMetadata(),ce}catch(ce){if(!function Qi(S){if(!(S instanceof ue.ZR&&S.customData))return!1;const A=Number(S.customData.httpStatus);return 429===A||500===A||503===A||504===A}(ce))throw ce;const Fe={throttleEndTimeMillis:Date.now()+(0,ue.$s)(j),backoffCount:j+1};return yield re.storage.setThrottleMetadata(Fe),re.attemptFetch(A,Fe)}})()}}class co{constructor(A,N,j,re,ce){this.app=A,this._client=N,this._storageCache=j,this._storage=re,this._logger=ce,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ma(S,A){var N;const j=S.target.error||void 0;return yr.create(A,{originalErrorMessage:j&&(null===(N=j)||void 0===N?void 0:N.message)})}const Xi="app_namespace_store";class Pn{constructor(A,N,j,re=function Ot(){return new Promise((S,A)=>{var N;try{const j=indexedDB.open("firebase_remote_config",1);j.onerror=re=>{A(Ma(re,"storage-open"))},j.onsuccess=re=>{S(re.target.result)},j.onupgradeneeded=re=>{0===re.oldVersion&&re.target.result.createObjectStore(Xi,{keyPath:"compositeKey"})}}catch(j){A(yr.create("storage-open",{originalErrorMessage:null===(N=j)||void 0===N?void 0:N.message}))}})}()){this.appId=A,this.appName=N,this.namespace=j,this.openDbPromise=re}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var N=this;return(0,L.Z)(function*(){const j=yield N.openDbPromise;return new Promise((re,ce)=>{var Fe;const Et=j.transaction([Xi],"readonly").objectStore(Xi),kt=N.createCompositeKey(A);try{const zt=Et.get(kt);zt.onerror=Ct=>{ce(Ma(Ct,"storage-get"))},zt.onsuccess=Ct=>{const Yn=Ct.target.result;re(Yn?Yn.value:void 0)}}catch(zt){ce(yr.create("storage-get",{originalErrorMessage:null===(Fe=zt)||void 0===Fe?void 0:Fe.message}))}})})()}set(A,N){var j=this;return(0,L.Z)(function*(){const re=yield j.openDbPromise;return new Promise((ce,Fe)=>{var et;const kt=re.transaction([Xi],"readwrite").objectStore(Xi),zt=j.createCompositeKey(A);try{const Ct=kt.put({compositeKey:zt,value:N});Ct.onerror=Yn=>{Fe(Ma(Yn,"storage-set"))},Ct.onsuccess=()=>{ce()}}catch(Ct){Fe(yr.create("storage-set",{originalErrorMessage:null===(et=Ct)||void 0===et?void 0:et.message}))}})})()}delete(A){var N=this;return(0,L.Z)(function*(){const j=yield N.openDbPromise;return new Promise((re,ce)=>{var Fe;const Et=j.transaction([Xi],"readwrite").objectStore(Xi),kt=N.createCompositeKey(A);try{const zt=Et.delete(kt);zt.onerror=Ct=>{ce(Ma(Ct,"storage-delete"))},zt.onsuccess=()=>{re()}}catch(zt){ce(yr.create("storage-delete",{originalErrorMessage:null===(Fe=zt)||void 0===Fe?void 0:Fe.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class Pr{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,L.Z)(function*(){const N=A.storage.getLastFetchStatus(),j=A.storage.getLastSuccessfulFetchTimestampMillis(),re=A.storage.getActiveConfig(),ce=yield N;ce&&(A.lastFetchStatus=ce);const Fe=yield j;Fe&&(A.lastSuccessfulFetchTimestampMillis=Fe);const et=yield re;et&&(A.activeConfig=et)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function wn(){return vi.apply(this,arguments)}function vi(){return(vi=(0,L.Z)(function*(){if(!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}!function yi(){(0,ae._registerComponent)(new U.wA("remote-config",function S(A,{instanceIdentifier:N}){const j=A.getProvider("app").getImmediate(),re=A.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw yr.create("registration-window");if(!(0,ue.hl)())throw yr.create("indexed-db-unavailable");const{projectId:ce,apiKey:Fe,appId:et}=j.options;if(!ce)throw yr.create("registration-project-id");if(!Fe)throw yr.create("registration-api-key");if(!et)throw yr.create("registration-app-id");const Et=new Pn(et,j.name,N=N||"firebase"),kt=new Pr(Et),zt=new be.Yd(Fs);zt.logLevel=be.in.ERROR;const Ct=new Gn(re,ae.SDK_VERSION,N,ce,Fe,et),Yn=new Br(Ct,Et),cr=new pc(Yn,Et,kt,zt),ju=new co(j,cr,kt,Et,zt);return function Ls(S){const A=(0,ue.m9)(S);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(ju),ju},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(Fs,"0.3.11"),(0,ae.registerVersion)(Fs,"0.3.11","esm2017")}();const Pi="/firebase-messaging-sw.js",bt="/firebase-cloud-messaging-push-scope",_i="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",gs="https://fcmregistrations.googleapis.com/v1",Dr="google.c.a.c_id",An="google.c.a.c_l",Ho="google.c.a.ts";var jr=(()=>((jr=jr||{}).PUSH_RECEIVED="push-received",jr.NOTIFICATION_CLICKED="notification-clicked",jr))();function $r(S){const A=new Uint8Array(S);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ji(S){const N=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),j=atob(N),re=new Uint8Array(j.length);for(let ce=0;ce<j.length;++ce)re[ce]=j.charCodeAt(ce);return re}const Jr="fcm_token_details_db",Go=5,Hn="fcm_token_object_Store";function gc(){return gc=(0,L.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ce=>ce.name).includes(Jr))return null;let A=null;return(yield(0,Ae.X3)(Jr,Go,{upgrade:(j=(0,L.Z)(function*(re,ce,Fe,et){var Et;if(ce<2||!re.objectStoreNames.contains(Hn))return;const kt=et.objectStore(Hn),zt=yield kt.index("fcmSenderId").get(S);if(yield kt.clear(),zt)if(2===ce){const Ct=zt;if(!Ct.auth||!Ct.p256dh||!Ct.endpoint)return;A={token:Ct.fcmToken,createTime:null!==(Et=Ct.createTime)&&void 0!==Et?Et:Date.now(),subscriptionOptions:{auth:Ct.auth,p256dh:Ct.p256dh,endpoint:Ct.endpoint,swScope:Ct.swScope,vapidKey:"string"==typeof Ct.vapidKey?Ct.vapidKey:$r(Ct.vapidKey)}}}else if(3===ce){const Ct=zt;A={token:Ct.fcmToken,createTime:Ct.createTime,subscriptionOptions:{auth:$r(Ct.auth),p256dh:$r(Ct.p256dh),endpoint:Ct.endpoint,swScope:Ct.swScope,vapidKey:$r(Ct.vapidKey)}}}else if(4===ce){const Ct=zt;A={token:Ct.fcmToken,createTime:Ct.createTime,subscriptionOptions:{auth:$r(Ct.auth),p256dh:$r(Ct.p256dh),endpoint:Ct.endpoint,swScope:Ct.swScope,vapidKey:$r(Ct.vapidKey)}}}}),function(ce,Fe,et,Et){return j.apply(this,arguments)})})).close(),yield(0,Ae.Lj)(Jr),yield(0,Ae.Lj)("fcm_vapid_details_db"),yield(0,Ae.Lj)("undefined"),function xa(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:A}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}(A)?A:null;var j}),gc.apply(this,arguments)}const qo="firebase-messaging-database",ei=1,ti="firebase-messaging-store";let Ni=null;function es(){return Ni||(Ni=(0,Ae.X3)(qo,ei,{upgrade:(S,A)=>{0===A&&S.createObjectStore(ti)}})),Ni}function qn(S){return Wo.apply(this,arguments)}function Wo(){return Wo=(0,L.Z)(function*(S){const A=ms(S),j=yield(yield es()).transaction(ti).objectStore(ti).get(A);if(j)return j;{const re=yield function Yt(S){return gc.apply(this,arguments)}(S.appConfig.senderId);if(re)return yield Nn(S,re),re}}),Wo.apply(this,arguments)}function Nn(S,A){return ur.apply(this,arguments)}function ur(){return(ur=(0,L.Z)(function*(S,A){const N=ms(S),re=(yield es()).transaction(ti,"readwrite");return yield re.objectStore(ti).put(A,N),yield re.done,A})).apply(this,arguments)}function ni(){return(ni=(0,L.Z)(function*(S){const A=ms(S),j=(yield es()).transaction(ti,"readwrite");yield j.objectStore(ti).delete(A),yield j.done})).apply(this,arguments)}function ms({appConfig:S}){return S.appId}const On=new ue.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function vu(S,A){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,L.Z)(function*(S,A){var N;const j=yield ol(S),re=Oa(A),ce={method:"POST",headers:j,body:JSON.stringify(re)};let Fe;try{Fe=yield(yield fetch(Pa(S.appConfig),ce)).json()}catch(et){throw On.create("token-subscribe-failed",{errorInfo:null===(N=et)||void 0===N?void 0:N.toString()})}if(Fe.error)throw On.create("token-subscribe-failed",{errorInfo:Fe.error.message});if(!Fe.token)throw On.create("token-subscribe-no-token");return Fe.token})).apply(this,arguments)}function Ra(){return(Ra=(0,L.Z)(function*(S,A){var N;const j=yield ol(S),re=Oa(A.subscriptionOptions),ce={method:"PATCH",headers:j,body:JSON.stringify(re)};let Fe;try{Fe=yield(yield fetch(`${Pa(S.appConfig)}/${A.token}`,ce)).json()}catch(et){throw On.create("token-update-failed",{errorInfo:null===(N=et)||void 0===N?void 0:N.toString()})}if(Fe.error)throw On.create("token-update-failed",{errorInfo:Fe.error.message});if(!Fe.token)throw On.create("token-update-no-token");return Fe.token})).apply(this,arguments)}function ys(S,A){return sl.apply(this,arguments)}function sl(){return(sl=(0,L.Z)(function*(S,A){var N;const re={method:"DELETE",headers:yield ol(S)};try{const Fe=yield(yield fetch(`${Pa(S.appConfig)}/${A}`,re)).json();if(Fe.error)throw On.create("token-unsubscribe-failed",{errorInfo:Fe.error.message})}catch(ce){throw On.create("token-unsubscribe-failed",{errorInfo:null===(N=ce)||void 0===N?void 0:N.toString()})}})).apply(this,arguments)}function Pa({projectId:S}){return`${gs}/projects/${S}/registrations`}function ol(S){return Na.apply(this,arguments)}function Na(){return(Na=(0,L.Z)(function*({appConfig:S,installations:A}){const N=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${N}`})})).apply(this,arguments)}function Oa({p256dh:S,auth:A,endpoint:N,vapidKey:j}){const re={web:{endpoint:N,auth:A,p256dh:S}};return j!==_i&&(re.web.applicationPubKey=j),re}const wu=6048e5;function al(){return al=(0,L.Z)(function*(S){const A=yield function cl(S,A){return Mn.apply(this,arguments)}(S.swRegistration,S.vapidKey),N={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:A.endpoint,auth:$r(A.getKey("auth")),p256dh:$r(A.getKey("p256dh"))},j=yield qn(S.firebaseDependencies);if(j){if(function yc(S,A){return A.vapidKey===S.vapidKey&&A.endpoint===S.endpoint&&A.auth===S.auth&&A.p256dh===S.p256dh}(j.subscriptionOptions,N))return Date.now()>=j.createTime+wu?function Eu(S,A){return ll.apply(this,arguments)}(S,{token:j.token,createTime:Date.now(),subscriptionOptions:N}):j.token;try{yield ys(S.firebaseDependencies,j.token)}catch(re){console.warn(re)}return ho(S.firebaseDependencies,N)}return ho(S.firebaseDependencies,N)}),al.apply(this,arguments)}function mc(){return mc=(0,L.Z)(function*(S){const A=yield qn(S.firebaseDependencies);A&&(yield ys(S.firebaseDependencies,A.token),yield function Ko(S){return ni.apply(this,arguments)}(S.firebaseDependencies));const N=yield S.swRegistration.pushManager.getSubscription();return!N||N.unsubscribe()}),mc.apply(this,arguments)}function ll(){return ll=(0,L.Z)(function*(S,A){try{const N=yield function _u(S,A){return Ra.apply(this,arguments)}(S.firebaseDependencies,A),j=Object.assign(Object.assign({},A),{token:N,createTime:Date.now()});return yield Nn(S.firebaseDependencies,j),N}catch(N){throw yield function ul(S){return mc.apply(this,arguments)}(S),N}}),ll.apply(this,arguments)}function ho(S,A){return ka.apply(this,arguments)}function ka(){return(ka=(0,L.Z)(function*(S,A){const j={token:yield vu(S,A),createTime:Date.now(),subscriptionOptions:A};return yield Nn(S,j),j.token})).apply(this,arguments)}function Mn(){return(Mn=(0,L.Z)(function*(S,A){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ji(A)})})).apply(this,arguments)}function Vs(S){const A={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function Iu(S,A){if(!A.notification)return;S.notification={};const N=A.notification.title;N&&(S.notification.title=N);const j=A.notification.body;j&&(S.notification.body=j);const re=A.notification.image;re&&(S.notification.image=re)}(A,S),function rf(S,A){A.data&&(S.data=A.data)}(A,S),function Yo(S,A){var N,j,re,ce,Fe;if(!(A.fcmOptions||null!==(N=A.notification)&&void 0!==N&&N.click_action))return;S.fcmOptions={};const et=null!==(re=null===(j=A.fcmOptions)||void 0===j?void 0:j.link)&&void 0!==re?re:null===(ce=A.notification)||void 0===ce?void 0:ce.click_action;et&&(S.fcmOptions.link=et);const Et=null===(Fe=A.fcmOptions)||void 0===Fe?void 0:Fe.analytics_label;Et&&(S.fcmOptions.analyticsLabel=Et)}(A,S),A}function dl(S,A){const N=[];for(let j=0;j<S.length;j++)N.push(S.charAt(j)),j<A.length&&N.push(A.charAt(j));return N.join("")}function Fa(S){return On.create("missing-app-config-values",{valueName:S})}dl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),dl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Dd{constructor(A,N,j){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const re=function Cd(S){if(!S||!S.options)throw Fa("App Configuration Object");if(!S.name)throw Fa("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:N}=S;for(const j of A)if(!N[j])throw Fa(j);return{appName:S.name,projectId:N.projectId,apiKey:N.apiKey,appId:N.appId,senderId:N.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:re,installations:N,analyticsProvider:j}}_delete(){return Promise.resolve()}}function ri(){return(ri=(0,L.Z)(function*(S){var A;try{S.swRegistration=yield navigator.serviceWorker.register(Pi,{scope:bt}),S.swRegistration.update().catch(()=>{})}catch(N){throw On.create("failed-service-worker-registration",{browserErrorMessage:null===(A=N)||void 0===A?void 0:A.message})}})).apply(this,arguments)}function Bn(){return(Bn=(0,L.Z)(function*(S,A){if(!A&&!S.swRegistration&&(yield function Qo(S){return ri.apply(this,arguments)}(S)),A||!S.swRegistration){if(!(A instanceof ServiceWorkerRegistration))throw On.create("invalid-sw-registration");S.swRegistration=A}})).apply(this,arguments)}function hl(){return(hl=(0,L.Z)(function*(S,A){A?S.vapidKey=A:S.vapidKey||(S.vapidKey=_i)})).apply(this,arguments)}function po(){return po=(0,L.Z)(function*(S,A){if(!navigator)throw On.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw On.create("permission-blocked");return yield function ts(S,A){return hl.apply(this,arguments)}(S,A?.vapidKey),yield function fo(S,A){return Bn.apply(this,arguments)}(S,A?.serviceWorkerRegistration),function bu(S){return al.apply(this,arguments)}(S)}),po.apply(this,arguments)}function Du(){return(Du=(0,L.Z)(function*(S,A,N){const j=function Su(S){switch(S){case jr.NOTIFICATION_CLICKED:return"notification_open";case jr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(A);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(j,{message_id:N[Dr],message_name:N[An],message_time:N[Ho],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function go(){return go=(0,L.Z)(function*(S,A){const N=A.data;if(!N.isFirebaseMessaging)return;S.onMessageHandler&&N.messageType===jr.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(Vs(N)):S.onMessageHandler.next(Vs(N)));const j=N.data;(function Cu(S){return"object"==typeof S&&!!S&&Dr in S})(j)&&"1"===j["google.c.a.e"]&&(yield function Us(S,A,N){return Du.apply(this,arguments)}(S,N.messageType,j))}),go.apply(this,arguments)}const pl="@firebase/messaging",vc=S=>{const A=new Dd(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",N=>function fl(S,A){return go.apply(this,arguments)}(A,N)),A},La=S=>{const A=S.getProvider("messaging").getImmediate();return{getToken:j=>function Xo(S,A){return po.apply(this,arguments)}(A,j)}};function _c(){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,L.Z)(function*(){try{yield(0,ue.eu)()}catch{return!1}return typeof window<"u"&&(0,ue.hl)()&&(0,ue.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Sd(){(0,ae._registerComponent)(new U.wA("messaging",vc,"PUBLIC")),(0,ae._registerComponent)(new U.wA("messaging-internal",La,"PRIVATE")),(0,ae.registerVersion)(pl,"0.9.16"),(0,ae.registerVersion)(pl,"0.9.16","esm2017")}();const Mu="analytics",wc="firebase_id",uf="origin",wi=6e4,vs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Va="https://www.googletagmanager.com/gtag/js",Ht=new be.Yd("@firebase/analytics");function Jo(S){return Promise.all(S.map(A=>A.catch(N=>N)))}function yo(){return(yo=(0,L.Z)(function*(S,A,N,j,re,ce){const Fe=j[re];try{if(Fe)yield A[Fe];else{const Et=(yield Jo(N)).find(kt=>kt.measurementId===re);Et&&(yield A[Et.appId])}}catch(et){Ht.error(et)}S("config",re,ce)})).apply(this,arguments)}function nr(){return(nr=(0,L.Z)(function*(S,A,N,j,re){try{let ce=[];if(re&&re.send_to){let Fe=re.send_to;Array.isArray(Fe)||(Fe=[Fe]);const et=yield Jo(N);for(const Et of Fe){const kt=et.find(Ct=>Ct.measurementId===Et),zt=kt&&A[kt.appId];if(!zt){ce=[];break}ce.push(zt)}}0===ce.length&&(ce=Object.values(A)),yield Promise.all(ce),S("event",j,re||{})}catch(ce){Ht.error(ce)}})).apply(this,arguments)}const E=new ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),D=30,Ee=new class B{constructor(A={},N=1e3){this.throttleMetadata=A,this.intervalMillis=N}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,N){this.throttleMetadata[A]=N}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function dt(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function jn(){return(jn=(0,L.Z)(function*(S){var A;const{appId:N,apiKey:j}=S,re={method:"GET",headers:dt(j)},ce=vs.replace("{app-id}",N),Fe=yield fetch(ce,re);if(200!==Fe.status&&304!==Fe.status){let et="";try{const Et=yield Fe.json();null!==(A=Et.error)&&void 0!==A&&A.message&&(et=Et.error.message)}catch{}throw E.create("config-fetch-failed",{httpStatus:Fe.status,responseMessage:et})}return Fe.json()})).apply(this,arguments)}function _s(){return(_s=(0,L.Z)(function*(S,A=Ee,N){const{appId:j,apiKey:re,measurementId:ce}=S.options;if(!j)throw E.create("no-app-id");if(!re){if(ce)return{measurementId:ce,appId:j};throw E.create("no-api-key")}const Fe=A.getThrottleMetadata(j)||{backoffCount:0,throttleEndTimeMillis:Date.now()},et=new Ic;return setTimeout((0,L.Z)(function*(){et.abort()}),void 0!==N?N:wi),vo({appId:j,apiKey:re,measurementId:ce},Fe,et,A)})).apply(this,arguments)}function vo(S,A,N){return Ec.apply(this,arguments)}function Ec(){return Ec=(0,L.Z)(function*(S,{throttleEndTimeMillis:A,backoffCount:N},j,re=Ee){var ce,Fe;const{appId:et,measurementId:Et}=S;try{yield function Ru(S,A){return new Promise((N,j)=>{const re=Math.max(A-Date.now(),0),ce=setTimeout(N,re);S.addEventListener(()=>{clearTimeout(ce),j(E.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(j,A)}catch(kt){if(Et)return Ht.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Et} provided in the "measurementId" field in the local Firebase config. [${null===(ce=kt)||void 0===ce?void 0:ce.message}]`),{appId:et,measurementId:Et};throw kt}try{const kt=yield function Ge(S){return jn.apply(this,arguments)}(S);return re.deleteThrottleMetadata(et),kt}catch(kt){const zt=kt;if(!function _o(S){if(!(S instanceof ue.ZR&&S.customData))return!1;const A=Number(S.customData.httpStatus);return 429===A||500===A||503===A||504===A}(zt)){if(re.deleteThrottleMetadata(et),Et)return Ht.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Et} provided in the "measurementId" field in the local Firebase config. [${zt?.message}]`),{appId:et,measurementId:Et};throw kt}const Ct=503===Number(null===(Fe=zt?.customData)||void 0===Fe?void 0:Fe.httpStatus)?(0,ue.$s)(N,re.intervalMillis,D):(0,ue.$s)(N,re.intervalMillis),Yn={throttleEndTimeMillis:Date.now()+Ct,backoffCount:N+1};return re.setThrottleMetadata(et,Yn),Ht.debug(`Calling attemptFetch again in ${Ct} millis`),vo(S,Yn,j,re)}}),Ec.apply(this,arguments)}class Ic{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}let yl,bi;function ea(){return(ea=(0,L.Z)(function*(S,A,N,j,re){if(re&&re.global)S("event",N,j);else{const ce=yield A;S("event",N,Object.assign(Object.assign({},j),{send_to:ce}))}})).apply(this,arguments)}function lf(){return(lf=(0,L.Z)(function*(){var S;if(!(0,ue.hl)())return Ht.warn(E.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eu)()}catch(A){return Ht.warn(E.create("indexeddb-unavailable",{errorInfo:null===(S=A)||void 0===S?void 0:S.toString()}).message),!1}return!0})).apply(this,arguments)}function Sr(){return Sr=(0,L.Z)(function*(S,A,N,j,re,ce,Fe){var et;const Et=function Xt(S){return _s.apply(this,arguments)}(S);Et.then(cr=>{N[cr.measurementId]=cr.appId,S.options.measurementId&&cr.measurementId!==S.options.measurementId&&Ht.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${cr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(cr=>Ht.error(cr)),A.push(Et);const kt=function Pg(){return lf.apply(this,arguments)}().then(cr=>{if(cr)return j.getId()}),[zt,Ct]=yield Promise.all([Et,kt]);(function xu(){const S=window.document.getElementsByTagName("script");for(const A of Object.values(S))if(A.src&&A.src.includes(Va))return A;return null})()||function Or(S,A){const N=document.createElement("script");N.src=`${Va}?l=${S}&id=${A}`,N.async=!0,document.head.appendChild(N)}(ce,zt.measurementId),bi&&(re("consent","default",bi),function wl(S){bi=S}(void 0)),re("js",new Date);const Yn=null!==(et=Fe?.config)&&void 0!==et?et:{};return Yn[uf]="firebase",Yn.update=!0,null!=Ct&&(Yn[wc]=Ct),re("config",zt.measurementId,Yn),yl&&(re("set",yl),function Nu(S){yl=S}(void 0)),zt.measurementId}),Sr.apply(this,arguments)}class ws{constructor(A){this.app=A}_delete(){return delete bs[this.app.options.appId],Promise.resolve()}}let bs={},$s=[];const rs={};let cf,Hs,Ua="dataLayer",ra=!1;function bl(S,A,N){!function Cc(){const S=[];if((0,ue.ru)()&&S.push("This is a browser extension environment."),(0,ue.zI)()||S.push("Cookies are not available."),S.length>0){const A=S.map((j,re)=>`(${re+1}) ${j}`).join(" "),N=E.create("invalid-analytics-context",{errorInfo:A});Ht.warn(N.message)}}();const j=S.options.appId;if(!j)throw E.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw E.create("no-api-key");Ht.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=bs[j])throw E.create("already-exists",{id:j});if(!ra){!function Jt(S){let A=[];Array.isArray(window[S])?A=window[S]:window[S]=A}(Ua);const{wrappedGtag:ce,gtagCore:Fe}=function bc(S,A,N,j,re){let ce=function(...Fe){window[j].push(arguments)};return window[re]&&"function"==typeof window[re]&&(ce=window[re]),window[re]=function ml(S,A,N,j){function ce(){return ce=(0,L.Z)(function*(Fe,et,Et){try{"event"===Fe?yield function ns(S,A,N,j,re){return nr.apply(this,arguments)}(S,A,N,et,Et):"config"===Fe?yield function js(S,A,N,j,re,ce){return yo.apply(this,arguments)}(S,A,N,j,et,Et):"consent"===Fe?S("consent","update",Et):S("set",et)}catch(kt){Ht.error(kt)}}),ce.apply(this,arguments)}return function re(Fe,et,Et){return ce.apply(this,arguments)}}(ce,S,A,N),{gtagCore:ce,wrappedGtag:window[re]}}(bs,$s,rs,Ua,"gtag");Hs=ce,cf=Fe,ra=!0}return bs[j]=function na(S,A,N,j,re,ce,Fe){return Sr.apply(this,arguments)}(S,$s,rs,A,cf,Ua,N),new ws(S)}function Dc(){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,L.Z)(function*(){if((0,ue.ru)()||!(0,ue.zI)()||!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}const ia="@firebase/analytics";!function Fg(){(0,ae._registerComponent)(new U.wA(Mu,(A,{options:N})=>bl(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),N),"PUBLIC")),(0,ae._registerComponent)(new U.wA("analytics-internal",function S(A){try{const N=A.getProvider(Mu).getImmediate();return{logEvent:(j,re,ce)=>function kg(S,A,N,j){S=(0,ue.m9)(S),function Rg(S,A,N,j,re){return ea.apply(this,arguments)}(Hs,bs[S.app.options.appId],A,N,j).catch(re=>Ht.error(re))}(N,j,re,ce)}}catch(N){throw E.create("interop-component-reg-failed",{reason:N})}},"PRIVATE")),(0,ae.registerVersion)(ia,"0.8.0"),(0,ae.registerVersion)(ia,"0.8.0","esm2017")}();var Od=k(1954),kd=k(2631);const Fu=new class ku extends kd.v{}(class Lg extends Od.o{constructor(A,N){super(A,N),this.scheduler=A,this.work=N}schedule(A,N=0){return N>0?super.schedule(A,N):(this.delay=N,this.state=A,this.scheduler.flush(this),this)}execute(A,N){return N>0||this.closed?super.execute(A,N):this._execute(A,N)}requestAsyncId(A,N,j=0){return null!=j&&j>0||null==j&&this.delay>0?super.requestAsyncId(A,N,j):(A.flush(this),0)}});var Gs=k(6321),El=k(9397),Es=k(3093),Lu=k(5137);const Sc=new f.GfV("7.6.1"),Il="__angularfire_symbol__analyticsIsSupportedValue",Vu="__angularfire_symbol__analyticsIsSupported",ja="__angularfire_symbol__remoteConfigIsSupportedValue",Oi="__angularfire_symbol__remoteConfigIsSupported",sa="__angularfire_symbol__messagingIsSupportedValue",$a="__angularfire_symbol__messagingIsSupported";function Ld(S,A,N){if(A){if(1===A.length)return A[0];const ce=A.filter(Fe=>Fe.app===N);if(1===ce.length)return ce[0]}return N.container.getProvider(S).getImmediate({optional:!0})}globalThis[Vu]||(globalThis[Vu]=Dc().then(S=>globalThis[Il]=S).catch(()=>globalThis[Il]=!1)),globalThis[$a]||(globalThis[$a]=_c().then(S=>globalThis[sa]=S).catch(()=>globalThis[sa]=!1)),globalThis[Oi]||(globalThis[Oi]=wn().then(S=>globalThis[ja]=S).catch(()=>globalThis[ja]=!1));const Vd=(S,A)=>{const N=A?[A]:(0,ne.C6)(),j=[];return N.forEach(re=>{re.container.getProvider(S).instances.forEach(Fe=>{j.includes(Fe)||j.push(Fe)})}),j};function Dl(){}class Sl{constructor(A,N=Fu){this.zone=A,this.delegate=N}now(){return this.delegate.now()}schedule(A,N,j){const re=this.zone;return this.delegate.schedule(function(Fe){re.runGuarded(()=>{A.apply(this,[Fe])})},N,j)}}class ff{constructor(A){this.zone=A,this.task=null}call(A,N){const j=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Dl,{},Dl,Dl)),N.pipe((0,El.b)({next:j,complete:j,error:j})).subscribe(A).add(j)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Tc=(()=>{class S{constructor(N){this.ngZone=N,this.outsideAngular=N.runOutsideAngular(()=>new Sl(Zone.current)),this.insideAngular=N.run(()=>new Sl(Zone.current,Gs.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(N){return new(N||S)(f.LFG(f.R0b))},S.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function wo(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function Ha(S){return S.pipe((0,Es.Q)(wo().outsideAngular))}function Bu(S){return wo(),function Ac(S){return function(N){return(N=N.lift(new ff(S.ngZone))).pipe((0,Lu.R)(S.outsideAngular),(0,Es.Q)(S.insideAngular))}}(wo())(S)}},9058:(ht,Te,k)=>{"use strict";k.d(Te,{$s:()=>an,BH:()=>Be,G6:()=>Le,L:()=>Ae,LL:()=>hn,Mn:()=>te,Sg:()=>Pe,UG:()=>Ze,US:()=>U,ZB:()=>G,ZR:()=>nn,b$:()=>Xe,d:()=>se,eu:()=>Ie,hl:()=>H,jU:()=>Ne,m9:()=>Lo,ne:()=>Ln,pd:()=>cn,r3:()=>ut,ru:()=>ot,tV:()=>he,uI:()=>Oe,vZ:()=>Ut,w1:()=>ye,xO:()=>xn,xb:()=>sn,z$:()=>Ke,zI:()=>De,zd:()=>Xn});const ae=function(J){const Z=[];let z=0;for(let Y=0;Y<J.length;Y++){let W=J.charCodeAt(Y);W<128?Z[z++]=W:W<2048?(Z[z++]=W>>6|192,Z[z++]=63&W|128):55296==(64512&W)&&Y+1<J.length&&56320==(64512&J.charCodeAt(Y+1))?(W=65536+((1023&W)<<10)+(1023&J.charCodeAt(++Y)),Z[z++]=W>>18|240,Z[z++]=W>>12&63|128,Z[z++]=W>>6&63|128,Z[z++]=63&W|128):(Z[z++]=W>>12|224,Z[z++]=W>>6&63|128,Z[z++]=63&W|128)}return Z},U={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(J,Z){if(!Array.isArray(J))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=Z?this.byteToCharMapWebSafe_:this.byteToCharMap_,Y=[];for(let W=0;W<J.length;W+=3){const ke=J[W],$e=W+1<J.length,mt=$e?J[W+1]:0,At=W+2<J.length,dn=At?J[W+2]:0;let Ur=(15&mt)<<2|dn>>6,Yi=63&dn;At||(Yi=64,$e||(Ur=64)),Y.push(z[ke>>2],z[(3&ke)<<4|mt>>4],z[Ur],z[Yi])}return Y.join("")},encodeString(J,Z){return this.HAS_NATIVE_SUPPORT&&!Z?btoa(J):this.encodeByteArray(ae(J),Z)},decodeString(J,Z){return this.HAS_NATIVE_SUPPORT&&!Z?atob(J):function(J){const Z=[];let z=0,Y=0;for(;z<J.length;){const W=J[z++];if(W<128)Z[Y++]=String.fromCharCode(W);else if(W>191&&W<224){const ke=J[z++];Z[Y++]=String.fromCharCode((31&W)<<6|63&ke)}else if(W>239&&W<365){const At=((7&W)<<18|(63&J[z++])<<12|(63&J[z++])<<6|63&J[z++])-65536;Z[Y++]=String.fromCharCode(55296+(At>>10)),Z[Y++]=String.fromCharCode(56320+(1023&At))}else{const ke=J[z++],$e=J[z++];Z[Y++]=String.fromCharCode((15&W)<<12|(63&ke)<<6|63&$e)}}return Z.join("")}(this.decodeStringToByteArray(J,Z))},decodeStringToByteArray(J,Z){this.init_();const z=Z?this.charToByteMapWebSafe_:this.charToByteMap_,Y=[];for(let W=0;W<J.length;){const ke=z[J.charAt(W++)],mt=W<J.length?z[J.charAt(W)]:0;++W;const dn=W<J.length?z[J.charAt(W)]:64;++W;const Kt=W<J.length?z[J.charAt(W)]:64;if(++W,null==ke||null==mt||null==dn||null==Kt)throw Error();Y.push(ke<<2|mt>>4),64!==dn&&(Y.push(mt<<4&240|dn>>2),64!==Kt&&Y.push(dn<<6&192|Kt))}return Y},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let J=0;J<this.ENCODED_VALS.length;J++)this.byteToCharMap_[J]=this.ENCODED_VALS.charAt(J),this.charToByteMap_[this.byteToCharMap_[J]]=J,this.byteToCharMapWebSafe_[J]=this.ENCODED_VALS_WEBSAFE.charAt(J),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[J]]=J,J>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(J)]=J,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(J)]=J)}}},Ae=function(J){return function(J){const Z=ae(J);return U.encodeByteArray(Z,!0)}(J).replace(/\./g,"")},he=function(J){try{return U.decodeString(J,!0)}catch(Z){console.error("base64Decode failed: ",Z)}return null};function G(J,Z){if(!(Z instanceof Object))return Z;switch(Z.constructor){case Date:return new Date(Z.getTime());case Object:void 0===J&&(J={});break;case Array:J=[];break;default:return Z}for(const z in Z)!Z.hasOwnProperty(z)||!ie(z)||(J[z]=G(J[z],Z[z]));return J}function ie(J){return"__proto__"!==J}class Be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Z,z)=>{this.resolve=Z,this.reject=z})}wrapCallback(Z){return(z,Y)=>{z?this.reject(z):this.resolve(Y),"function"==typeof Z&&(this.promise.catch(()=>{}),1===Z.length?Z(z):Z(z,Y))}}}function Pe(J,Z){if(J.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Y=Z||"demo-project",W=J.iat||0,ke=J.sub||J.user_id;if(!ke)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const $e=Object.assign({iss:`https://securetoken.google.com/${Y}`,aud:Y,iat:W,exp:W+3600,auth_time:W,sub:ke,user_id:ke,firebase:{sign_in_provider:"custom",identities:{}}},J);return[Ae(JSON.stringify({alg:"none",type:"JWT"})),Ae(JSON.stringify($e)),""].join(".")}function Ke(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Oe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function Ze(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ne(){return"object"==typeof self&&self.self===self}function ot(){const J="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof J&&void 0!==J.id}function Xe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function se(){return Ke().indexOf("Electron/")>=0}function ye(){const J=Ke();return J.indexOf("MSIE ")>=0||J.indexOf("Trident/")>=0}function te(){return Ke().indexOf("MSAppHost/")>=0}function Le(){return!Ze()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function H(){return"object"==typeof indexedDB}function Ie(){return new Promise((J,Z)=>{try{let z=!0;const Y="validate-browser-context-for-indexeddb-analytics-module",W=self.indexedDB.open(Y);W.onsuccess=()=>{W.result.close(),z||self.indexedDB.deleteDatabase(Y),J(!0)},W.onupgradeneeded=()=>{z=!1},W.onerror=()=>{var ke;Z((null===(ke=W.error)||void 0===ke?void 0:ke.message)||"")}}catch(z){Z(z)}})}function De(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class nn extends Error{constructor(Z,z,Y){super(z),this.code=Z,this.customData=Y,this.name="FirebaseError",Object.setPrototypeOf(this,nn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hn.prototype.create)}}class hn{constructor(Z,z,Y){this.service=Z,this.serviceName=z,this.errors=Y}create(Z,...z){const Y=z[0]||{},W=`${this.service}/${Z}`,ke=this.errors[Z],$e=ke?function fn(J,Z){return J.replace(Qn,(z,Y)=>{const W=Z[Y];return null!=W?String(W):`<${Y}?>`})}(ke,Y):"Error";return new nn(W,`${this.serviceName}: ${$e} (${W}).`,Y)}}const Qn=/\{\$([^}]+)}/g;function ut(J,Z){return Object.prototype.hasOwnProperty.call(J,Z)}function sn(J){for(const Z in J)if(Object.prototype.hasOwnProperty.call(J,Z))return!1;return!0}function Ut(J,Z){if(J===Z)return!0;const z=Object.keys(J),Y=Object.keys(Z);for(const W of z){if(!Y.includes(W))return!1;const ke=J[W],$e=Z[W];if(wt(ke)&&wt($e)){if(!Ut(ke,$e))return!1}else if(ke!==$e)return!1}for(const W of Y)if(!z.includes(W))return!1;return!0}function wt(J){return null!==J&&"object"==typeof J}function xn(J){const Z=[];for(const[z,Y]of Object.entries(J))Array.isArray(Y)?Y.forEach(W=>{Z.push(encodeURIComponent(z)+"="+encodeURIComponent(W))}):Z.push(encodeURIComponent(z)+"="+encodeURIComponent(Y));return Z.length?"&"+Z.join("&"):""}function Xn(J){const Z={};return J.replace(/^\?/,"").split("&").forEach(Y=>{if(Y){const[W,ke]=Y.split("=");Z[decodeURIComponent(W)]=decodeURIComponent(ke)}}),Z}function cn(J){const Z=J.indexOf("?");if(!Z)return"";const z=J.indexOf("#",Z);return J.substring(Z,z>0?z:void 0)}function Ln(J,Z){const z=new zn(J,Z);return z.subscribe.bind(z)}class zn{constructor(Z,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{Z(this)}).catch(Y=>{this.error(Y)})}next(Z){this.forEachObserver(z=>{z.next(Z)})}error(Z){this.forEachObserver(z=>{z.error(Z)}),this.close(Z)}complete(){this.forEachObserver(Z=>{Z.complete()}),this.close()}subscribe(Z,z,Y){let W;if(void 0===Z&&void 0===z&&void 0===Y)throw new Error("Missing Observer.");W=function vn(J,Z){if("object"!=typeof J||null===J)return!1;for(const z of Z)if(z in J&&"function"==typeof J[z])return!0;return!1}(Z,["next","error","complete"])?Z:{next:Z,error:z,complete:Y},void 0===W.next&&(W.next=mn),void 0===W.error&&(W.error=mn),void 0===W.complete&&(W.complete=mn);const ke=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?W.error(this.finalError):W.complete()}catch{}}),this.observers.push(W),ke}unsubscribeOne(Z){void 0===this.observers||void 0===this.observers[Z]||(delete this.observers[Z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Z){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,Z)}sendOne(Z,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Z])try{z(this.observers[Z])}catch(Y){typeof console<"u"&&console.error&&console.error(Y)}})}close(Z){this.finalized||(this.finalized=!0,void 0!==Z&&(this.finalError=Z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mn(){}const In=1e3,Zi=2,Tn=144e5,gr=.5;function an(J,Z=In,z=Zi){const Y=Z*Math.pow(z,J),W=Math.round(gr*Y*(Math.random()-.5)*2);return Math.min(Tn,Y+W)}function Lo(J){return J&&J._delegate?J._delegate:J}},1538:(ht,Te,k)=>{"use strict";var f=k(5879);let ne=null;function L(){return ne}class ue{}const U=new f.OlP("DocumentToken");let be=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return(0,f.f3M)(he)},providedIn:"platform"}),n})();const Ae=new f.OlP("Location Initialized");let he=(()=>{class n extends be{constructor(){super(),this._doc=(0,f.f3M)(U),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(t){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,s){this._history.pushState(t,r,s)}replaceState(t,r,s){this._history.replaceState(t,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function q(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function G(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ie(n){return n&&"?"!==n[0]?"?"+n:n}let Be=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return(0,f.f3M)(Ke)},providedIn:"root"}),n})();const Pe=new f.OlP("appBaseHref");let Ke=(()=>{class n extends Be{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,f.f3M)(U).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return q(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ie(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${r}${s}`:r}pushState(t,r,s,u){const c=this.prepareExternalUrl(s+ie(u));this._platformLocation.pushState(t,r,c)}replaceState(t,r,s,u){const c=this.prepareExternalUrl(s+ie(u));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(be),f.LFG(Pe,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Oe=(()=>{class n extends Be{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=q(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,s,u){let c=this.prepareExternalUrl(s+ie(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,s,u){let c=this.prepareExternalUrl(s+ie(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(be),f.LFG(Pe,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Ze=(()=>{class n{constructor(t){this._subject=new f.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function se(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(G(Xe(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ie(r))}normalize(t){return n.stripTrailingSlash(function ot(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Xe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",s=null){this._locationStrategy.pushState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ie(r)),s)}replaceState(t,r="",s=null){this._locationStrategy.replaceState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ie(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(s=>s(t,r))}subscribe(t,r,s){return this._subject.subscribe({next:t,error:r,complete:s})}}return n.normalizeQueryParams=ie,n.joinWithSlash=q,n.stripTrailingSlash=G,n.\u0275fac=function(t){return new(t||n)(f.LFG(Be))},n.\u0275prov=f.Yz7({token:n,factory:function(){return function Ne(){return new Ze((0,f.LFG)(Be))}()},providedIn:"root"}),n})();function Xe(n){return n.replace(/\/index.html$/,"")}const fs=/\s+/,yr=[];let Rr=(()=>{class n{constructor(t,r,s,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=s,this._renderer=u,this.initialClasses=yr,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(fs):yr}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(fs):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const s=this.stateMap.get(t);void 0!==s?(s.enabled!==r&&(s.changed=!0,s.enabled=r),s.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],s=t[1];s.changed?(this._toggleClass(r,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),s.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(fs).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.ZZ4),f.Y36(f.aQg),f.Y36(f.SBq),f.Y36(f.Qsj))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class nl{constructor(e,t,r,s){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let oo=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,s){this._viewContainer=t,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((s,u,c)=>{if(null==s.previousIndex)r.createEmbeddedView(this._template,new nl(s.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===u?void 0:u);else if(null!==u){const g=r.get(u);r.move(g,c),Ta(g,s)}});for(let s=0,u=r.length;s<u;s++){const g=r.get(s).context;g.index=s,g.count=u,g.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{Ta(r.get(s.currentIndex),s)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Ta(n,e){n.context.$implicit=e.item}let ao=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new jo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ls("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ls("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class jo{constructor(){this.$implicit=null,this.ngIf=null}}function Ls(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,f.AaK)(e)}'.`)}let Nr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();function Hn(n){return"server"===n}let qo=(()=>{class n{}return n.\u0275prov=(0,f.Yz7)({token:n,providedIn:"root",factory:()=>new ei((0,f.LFG)(U),window)}),n})();class ei{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ni(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=r.currentNode;for(;s;){const u=s.shadowRoot;if(u){const c=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(c)return c}s=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],s-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ti(this.window.history)||ti(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ti(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Or extends ue{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Jt extends Or{static makeCurrent(){!function ae(n){ne||(ne=n)}(new Jt)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function yo(){return js=js||document.querySelector("base"),js?js.getAttribute("href"):null}();return null==t?null:function nr(n){ns=ns||document.createElement("a"),ns.setAttribute("href",n);const e=ns.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){js=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function gu(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[s,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(s.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let ns,js=null,bc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const xu=new f.OlP("EventManagerPlugins");let ii=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(s=>{s.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,s){return this._findPluginFor(r).addEventListener(t,r,s)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(u=>u.supports(t)),!r)throw new f.vHH(5101,!1);return this._eventNameToPlugin.set(t,r),r}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(xu),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class E{constructor(e){this._doc=e}}const D="ng-app-id";let R=(()=>{class n{constructor(t,r,s,u={}){this.doc=t,this.appId=r,this.nonce=s,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Hn(u),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(s=>s.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${D}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(s=>{null!=s.textContent&&r.set(s.textContent,s)}),r}return null}changeUsageCount(t,r){const s=this.styleRef;if(s.has(t)){const u=s.get(t);return u.usage+=r,u.usage}return s.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const s=this.styleNodesInDOM,u=s?.get(r);if(u?.parentNode===t)return s.delete(r),u.removeAttribute(D),u;{const c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=r,this.platformIsServer&&c.setAttribute(D,this.appId),c}}addStyleToHost(t,r){const s=this.getStyleElement(t,r);t.appendChild(s);const u=this.styleRef,c=u.get(r)?.elements;c?c.push(s):u.set(r,{elements:[s],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(U),f.LFG(f.AFp),f.LFG(f.Ojb,8),f.LFG(f.Lbi))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const B={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ee=/%COMP%/g,_s=new f.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ru(n,e){return e.map(t=>t.replace(Ee,n))}let _o=(()=>{class n{constructor(t,r,s,u,c,g,v,I=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=u,this.doc=c,this.platformId=g,this.ngZone=v,this.nonce=I,this.rendererByCompId=new Map,this.platformIsServer=Hn(g),this.defaultRenderer=new Ic(t,c,v,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===f.ifc.ShadowDom&&(r={...r,encapsulation:f.ifc.Emulated});const s=this.getOrCreateRenderer(t,r);return s instanceof en?s.applyToHost(t):s instanceof xe&&s.applyStyles(),s}getOrCreateRenderer(t,r){const s=this.rendererByCompId;let u=s.get(r.id);if(!u){const c=this.doc,g=this.ngZone,v=this.eventManager,I=this.sharedStylesHost,T=this.removeStylesOnCompDestroy,P=this.platformIsServer;switch(r.encapsulation){case f.ifc.Emulated:u=new en(v,I,r,this.appId,T,c,g,P);break;case f.ifc.ShadowDom:return new xd(v,I,t,r,c,g,this.nonce,P);default:u=new xe(v,I,r,T,c,g,P)}s.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ii),f.LFG(R),f.LFG(f.AFp),f.LFG(_s),f.LFG(U),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(f.Ojb))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class Ic{constructor(e,t,r,s){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=s,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(B[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(ea(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(ea(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new f.vHH(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,s){if(s){t=s+":"+t;const u=B[s];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const s=B[r];s?e.removeAttributeNS(s,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,s){s&(f.JOm.DashCase|f.JOm.Important)?e.style.setProperty(t,r,s&f.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&f.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=L().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function ea(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class xd extends Ic{constructor(e,t,r,s,u,c,g,v){super(e,u,c,v),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const I=Ru(s.id,s.styles);for(const T of I){const P=document.createElement("style");g&&P.setAttribute("nonce",g),P.textContent=T,this.shadowRoot.appendChild(P)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class xe extends Ic{constructor(e,t,r,s,u,c,g,v){super(e,u,c,g),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=s,this.styles=v?Ru(v,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class en extends xe{constructor(e,t,r,s,u,c,g,v){const I=s+"-"+r.id;super(e,t,r,u,c,g,v,I),this.contentAttr=function vo(n){return"_ngcontent-%COMP%".replace(Ee,n)}(I),this.hostAttr=function Ec(n){return"_nghost-%COMP%".replace(Ee,n)}(I)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let vl=(()=>{class n extends E{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,s){return t.addEventListener(r,s,!1),()=>this.removeEventListener(t,r,s)}removeEventListener(t,r,s){return t.removeEventListener(r,s)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(U))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Pu=["alt","control","meta","shift"],rr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_l={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ta=(()=>{class n extends E{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,s){const u=n.parseEventName(r),c=n.eventCallback(u.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(t,u.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const u=n._normalizeKey(r.pop());let c="",g=r.indexOf("code");if(g>-1&&(r.splice(g,1),c="code."),Pu.forEach(I=>{const T=r.indexOf(I);T>-1&&(r.splice(T,1),c+=I+".")}),c+=u,0!=r.length||0===u.length)return null;const v={};return v.domEventName=s,v.fullKey=c,v}static matchEventFullKeyCode(t,r){let s=rr[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(s=t.code,u="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),Pu.forEach(c=>{c!==s&&(0,_l[c])(t)&&(u+=c+".")}),u+=s,u===r)}static eventCallback(t,r,s){return u=>{n.matchEventFullKeyCode(u,t)&&s.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(U))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const bs=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:"browser"},{provide:f.g9A,useValue:function lf(){Jt.makeCurrent()},multi:!0},{provide:U,useFactory:function Sr(){return(0,f.RDi)(document),document},deps:[]}]),$s=new f.OlP(""),rs=[{provide:f.rWj,useClass:class ml{addToWindow(e){f.dqk.getAngularTestability=(r,s=!0)=>{const u=e.findTestabilityInTree(r,s);if(null==u)throw new f.vHH(5103,!1);return u},f.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(r=>{const s=f.dqk.getAllAngularTestabilities();let u=s.length,c=!1;const g=function(v){c=c||v,u--,0==u&&r(c)};s.forEach(v=>{v.whenStable(g)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?L().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:f.lri,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]}],Ua=[{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function na(){return new f.qLn},deps:[]},{provide:xu,useClass:vl,multi:!0,deps:[U,f.R0b,f.Lbi]},{provide:xu,useClass:ta,multi:!0,deps:[U]},_o,R,ii,{provide:f.FYo,useExisting:_o},{provide:class qn{},useClass:bc,deps:[]},[]];let Ou=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:f.AFp,useValue:t.appId}]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG($s,12))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[...Ua,...rs],imports:[Nr,f.hGG]}),n})(),Cc=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(U))},n.\u0275prov=f.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Rd(){return new Cc((0,f.LFG)(U))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;class Vu{}class ja{}const Oi="*";function Vg(n,e=null){return{type:2,steps:n,options:e}}function Uu(n){return{type:6,styles:n,offset:null}}class Is{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class ki{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,s=0;const u=this.players.length;0==u?queueMicrotask(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==u&&this._onFinish()}),c.onDestroy(()=>{++r==u&&this._onDestroy()}),c.onStart(()=>{++s==u&&this._onStart()})}),this.totalTime=this.players.reduce((c,g)=>Math.max(c,g.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const s=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(s)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function Bu(n){return new f.vHH(3e3,!1)}function Hu(n){switch(n.length){case 0:return new Is;case 1:return n[0];default:return new ki(n)}}function wv(n,e,t=new Map,r=new Map){const s=[],u=[];let c=-1,g=null;if(e.forEach(v=>{const I=v.get("offset"),T=I==c,P=T&&g||new Map;v.forEach(($,K)=>{let Q=K,de=$;if("offset"!==K)switch(Q=n.normalizePropertyName(Q,s),de){case"!":de=t.get(K);break;case Oi:de=r.get(K);break;default:de=n.normalizeStyleValue(K,Q,de,s)}P.set(Q,de)}),T||u.push(P),g=P,c=I}),s.length)throw function Ws(n){return new f.vHH(3502,!1)}();return u}function jg(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&$g(t,"start",n)));break;case"done":n.onDone(()=>r(t&&$g(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&$g(t,"destroy",n)))}}function $g(n,e,t){const u=Ud(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(u._data=c),u}function Ud(n,e,t,r,s="",u=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:s,totalTime:u,disabled:!!c}}function zr(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function bv(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const gb=(()=>typeof document>"u"?null:document.documentElement)();function dr(n){const e=n.parentNode||n.host||null;return e===gb?null:e}let Cs=null,Hg=!1;function zu(n,e){for(;e;){if(e===n)return!0;e=dr(e)}return!1}function Pl(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]}let Iv=(()=>{class n{validateStyleProperty(t){return function Ds(n){Cs||(Cs=function zg(){return typeof document<"u"?document.body:null}()||{},Hg=!!Cs.style&&"WebkitAppearance"in Cs.style);let e=!0;return Cs.style&&!function Ev(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Cs.style,!e&&Hg&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Cs.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return zu(t,r)}getParentElement(t){return dr(t)}query(t,r,s){return Pl(t,r,s)}computeStyle(t,r,s){return s||""}animate(t,r,s,u,c,g=[],v){return new Is(s,u)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),jd=(()=>{class n{}return n.NOOP=new Iv,n})();const mb=1e3,aa="ng-enter",$d="ng-leave",Rc="ng-trigger",Hd=".ng-trigger",qg="ng-animating",Wg=".ng-animating";function Ei(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:mf(parseFloat(e[1]),e[2])}function mf(n,e){return"s"===e?n*mb:n}function zd(n,e,t){return n.hasOwnProperty("duration")?n:function Pc(n,e,t){let s,u=0,c="";if("string"==typeof n){const g=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===g)return e.push(Bu()),{duration:0,delay:0,easing:""};s=mf(parseFloat(g[1]),g[2]);const v=g[3];null!=v&&(u=mf(parseFloat(v),g[4]));const I=g[5];I&&(c=I)}else s=n;if(!t){let g=!1,v=e.length;s<0&&(e.push(function Ac(){return new f.vHH(3100,!1)}()),g=!0),u<0&&(e.push(function pf(){return new f.vHH(3101,!1)}()),g=!0),g&&e.splice(v,0,Bu())}return{duration:s,delay:u,easing:c}}(n,e,t)}function qa(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Gd(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function is(n,e=new Map,t){if(t)for(let[r,s]of t)e.set(r,s);for(let[r,s]of n)e.set(r,s);return e}function Io(n,e,t){e.forEach((r,s)=>{const u=Oc(s);t&&!t.has(s)&&t.set(s,n.style[u]),n.style[u]=r})}function Wa(n,e){e.forEach((t,r)=>{const s=Oc(r);n.style[s]=""})}function ua(n){return Array.isArray(n)?1==n.length?n[0]:Vg(n):n}const Kd=new RegExp("{{\\s*(.+?)\\s*}}","g");function Zg(n){let e=[];if("string"==typeof n){let t;for(;t=Kd.exec(n);)e.push(t[1]);Kd.lastIndex=0}return e}function Nc(n,e,t){const r=n.toString(),s=r.replace(Kd,(u,c)=>{let g=e[c];return null==g&&(t.push(function S(n){return new f.vHH(3003,!1)}()),g=""),g.toString()});return s==r?n:s}function la(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Nl=/-+([a-z0-9])/g;function Oc(n){return n.replace(Nl,(...e)=>e[1].toUpperCase())}function Fi(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function A(n){return new f.vHH(3004,!1)}()}}function Qg(n,e){return window.getComputedStyle(n)[e]}const wf="*";function Jg(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function _b(n,e,t){if(":"==n[0]){const v=function Dv(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function bo(n){return new f.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof v)return void e.push(v);n=v}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function oa(n){return new f.vHH(3015,!1)}()),e;const s=r[1],u=r[2],c=r[3];e.push(em(s,c));"<"==u[0]&&!(s==wf&&c==wf)&&e.push(em(c,s))}(r,t,e)):t.push(n),t}const Ka=new Set(["true","1"]),Ol=new Set(["false","0"]);function em(n,e){const t=Ka.has(n)||Ol.has(n),r=Ka.has(e)||Ol.has(e);return(s,u)=>{let c=n==wf||n==s,g=e==wf||e==u;return!c&&t&&"boolean"==typeof s&&(c=s?Ka.has(n):Ol.has(n)),!g&&r&&"boolean"==typeof u&&(g=u?Ka.has(e):Ol.has(e)),c&&g}}const bf=new RegExp("s*:selfs*,?","g");function tm(n,e,t,r){return new Av(n).build(e,t,r)}class Av{constructor(e){this._driver=e}build(e,t,r){const s=new im(t);return this._resetContextStyleTimingState(s),Fi(this,ua(e),s)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,s=t.depCount=0;const u=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function j(){return new f.vHH(3006,!1)}()),e.definitions.forEach(g=>{if(this._resetContextStyleTimingState(t),0==g.type){const v=g,I=v.name;I.toString().split(/\s*,\s*/).forEach(T=>{v.name=T,u.push(this.visitState(v,t))}),v.name=I}else if(1==g.type){const v=this.visitTransition(g,t);r+=v.queryCount,s+=v.depCount,c.push(v)}else t.errors.push(function re(){return new f.vHH(3007,!1)}())}),{type:7,name:e.name,states:u,transitions:c,queryCount:r,depCount:s,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),s=e.options&&e.options.params||null;if(r.containsDynamicStyles){const u=new Set,c=s||{};r.styles.forEach(g=>{g instanceof Map&&g.forEach(v=>{Zg(v).forEach(I=>{c.hasOwnProperty(I)||u.add(I)})})}),u.size&&(la(u.values()),t.errors.push(function ce(n,e){return new f.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:s?{params:s}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Fi(this,ua(e.animation),t);return{type:1,matchers:Jg(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Za(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Fi(this,r,t)),options:Za(e.options)}}visitGroup(e,t){const r=t.currentTime;let s=0;const u=e.steps.map(c=>{t.currentTime=r;const g=Fi(this,c,t);return s=Math.max(s,t.currentTime),g});return t.currentTime=s,{type:3,steps:u,options:Za(e.options)}}visitAnimate(e,t){const r=function kl(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return oi(zd(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=oi(0,0,"");return u.dynamic=!0,u.strValue=t,u}const s=zd(t,e);return oi(s.duration,s.delay,s.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let s,u=e.styles?e.styles:Uu({});if(5==u.type)s=this.visitKeyframes(u,t);else{let c=e.styles,g=!1;if(!c){g=!0;const I={};r.easing&&(I.easing=r.easing),c=Uu(I)}t.currentTime+=r.duration+r.delay;const v=this.visitStyle(c,t);v.isEmptyStep=g,s=v}return t.currentAnimateTimings=null,{type:4,timings:r,style:s,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],s=Array.isArray(e.styles)?e.styles:[e.styles];for(let g of s)"string"==typeof g?g===Oi?r.push(g):t.errors.push(new f.vHH(3002,!1)):r.push(Gd(g));let u=!1,c=null;return r.forEach(g=>{if(g instanceof Map&&(g.has("easing")&&(c=g.get("easing"),g.delete("easing")),!u))for(let v of g.values())if(v.toString().indexOf("{{")>=0){u=!0;break}}),{type:6,styles:r,easing:c,offset:e.offset,containsDynamicStyles:u,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let s=t.currentTime,u=t.currentTime;r&&u>0&&(u-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((g,v)=>{const I=t.collectedStyles.get(t.currentQuerySelector),T=I.get(v);let P=!0;T&&(u!=s&&u>=T.startTime&&s<=T.endTime&&(t.errors.push(function Et(n,e,t,r,s){return new f.vHH(3010,!1)}()),P=!1),u=T.startTime),P&&I.set(v,{startTime:u,endTime:s}),t.options&&function Wd(n,e,t){const r=e.params||{},s=Zg(n);s.length&&s.forEach(u=>{r.hasOwnProperty(u)||t.push(function qs(n){return new f.vHH(3001,!1)}())})}(g,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function kt(){return new f.vHH(3011,!1)}()),r;let u=0;const c=[];let g=!1,v=!1,I=0;const T=e.steps.map(it=>{const ct=this._makeStyleAst(it,t);let lt=null!=ct.offset?ct.offset:function Zd(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(ct.styles),Je=0;return null!=lt&&(u++,Je=ct.offset=lt),v=v||Je<0||Je>1,g=g||Je<I,I=Je,c.push(Je),ct});v&&t.errors.push(function zt(){return new f.vHH(3012,!1)}()),g&&t.errors.push(function Ct(){return new f.vHH(3200,!1)}());const P=e.steps.length;let $=0;u>0&&u<P?t.errors.push(function Yn(){return new f.vHH(3202,!1)}()):0==u&&($=1/(P-1));const K=P-1,Q=t.currentTime,de=t.currentAnimateTimings,Me=de.duration;return T.forEach((it,ct)=>{const lt=$>0?ct==K?1:$*ct:c[ct],Je=lt*Me;t.currentTime=Q+de.delay+Je,de.duration=Je,this._validateStyleAst(it,t),it.offset=lt,r.styles.push(it)}),r}visitReference(e,t){return{type:8,animation:Fi(this,ua(e.animation),t),options:Za(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Za(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Za(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,s=e.options||{};t.queryCount++,t.currentQuery=e;const[u,c]=function nm(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(bf,"")),n=n.replace(/@\*/g,Hd).replace(/@\w+/g,t=>Hd+"-"+t.slice(1)).replace(/:animating/g,Wg),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+u:u,zr(t.collectedStyles,t.currentQuerySelector,new Map);const g=Fi(this,ua(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:u,limit:s.limit||0,optional:!!s.optional,includeSelf:c,animation:g,originalSelector:e.selector,options:Za(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function cr(){return new f.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:zd(e.timings,t.errors,!0);return{type:12,animation:Fi(this,ua(e.animation),t),timings:r,options:null}}}class im{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Za(n){return n?(n=qa(n)).params&&(n.params=function rm(n){return n?qa(n):null}(n.params)):n={},n}function oi(n,e,t){return{duration:n,delay:e,easing:t}}function Ya(n,e,t,r,s,u,c=null,g=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:s,delay:u,totalTime:s+u,easing:c,subTimeline:g}}class Co{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Fl=new RegExp(":enter","g"),Ks=new RegExp(":leave","g");function Ef(n,e,t,r,s,u=new Map,c=new Map,g,v,I=[]){return(new Qa).buildKeyframes(n,e,t,r,s,u,c,g,v,I)}class Qa{buildKeyframes(e,t,r,s,u,c,g,v,I,T=[]){I=I||new Co;const P=new Xd(e,t,I,s,u,T,[]);P.options=v;const $=v.delay?Ei(v.delay):0;P.currentTimeline.delayNextStep($),P.currentTimeline.setStyles([c],null,P.errors,v),Fi(this,r,P);const K=P.timelines.filter(Q=>Q.containsAnimation());if(K.length&&g.size){let Q;for(let de=K.length-1;de>=0;de--){const Me=K[de];if(Me.element===t){Q=Me;break}}Q&&!Q.allowOnlyTimelineStyles()&&Q.setStyles([g],null,P.errors,v)}return K.length?K.map(Q=>Q.buildKeyframes()):[Ya(t,[],[],[],0,$,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const s=t.createSubContext(e.options),u=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,s,s.options);u!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const s of e){const u=s?.delay;if(u){const c="number"==typeof u?u:Ei(Nc(u,s?.params??{},t.errors));r.delayNextStep(c)}}}_visitSubInstructions(e,t,r){let u=t.currentTimeline.currentTime;const c=null!=r.duration?Ei(r.duration):null,g=null!=r.delay?Ei(r.delay):null;return 0!==c&&e.forEach(v=>{const I=t.appendInstructionToTimeline(v,c,g);u=Math.max(u,I.duration+I.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),Fi(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let s=t;const u=e.options;if(u&&(u.params||u.delay)&&(s=t.createSubContext(u),s.transformIntoNewTimeline(),null!=u.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=kc);const c=Ei(u.delay);s.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>Fi(this,c,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>r&&s.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let s=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?Ei(e.options.delay):0;e.steps.forEach(c=>{const g=t.createSubContext(e.options);u&&g.delayNextStep(u),Fi(this,c,g),s=Math.max(s,g.currentTimeline.currentTime),r.push(g.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(s),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return zd(t.params?Nc(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),s=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),s.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(r.duration),this.visitStyle(u,t),s.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,s=t.currentAnimateTimings;!s&&r.hasCurrentStyleProperties()&&r.forwardFrame();const u=s&&s.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(u):r.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,s=t.currentTimeline.duration,u=r.duration,g=t.createSubContext().currentTimeline;g.easing=r.easing,e.styles.forEach(v=>{g.forwardTime((v.offset||0)*u),g.setStyles(v.styles,v.easing,t.errors,t.options),g.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(g),t.transformIntoNewTimeline(s+u),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,s=e.options||{},u=s.delay?Ei(s.delay):0;u&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=kc);let c=r;const g=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!s.optional,t.errors);t.currentQueryTotal=g.length;let v=null;g.forEach((I,T)=>{t.currentQueryIndex=T;const P=t.createSubContext(e.options,I);u&&P.delayNextStep(u),I===t.element&&(v=P.currentTimeline),Fi(this,e.animation,P),P.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,P.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),v&&(t.currentTimeline.mergeTimelineCollectedStyles(v),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,s=t.currentTimeline,u=e.timings,c=Math.abs(u.duration),g=c*(t.currentQueryTotal-1);let v=c*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":v=g-v;break;case"full":v=r.currentStaggerTime}const T=t.currentTimeline;v&&T.delayNextStep(v);const P=T.currentTime;Fi(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=s.currentTime-P+(s.startTime-r.currentTimeline.startTime)}}const kc={};class Xd{constructor(e,t,r,s,u,c,g,v){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=s,this._leaveClassName=u,this.errors=c,this.timelines=g,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=kc,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new Ll(this._driver,t,0),g.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let s=this.options;null!=r.duration&&(s.duration=Ei(r.duration)),null!=r.delay&&(s.delay=Ei(r.delay));const u=r.params;if(u){let c=s.params;c||(c=this.options.params={}),Object.keys(u).forEach(g=>{(!t||!c.hasOwnProperty(g))&&(c[g]=Nc(u[g],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(s=>{r[s]=t[s]})}}return e}createSubContext(e=null,t,r){const s=t||this.element,u=new Xd(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,r||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=kc,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const s={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},u=new Mv(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,s,e.stretchStartingKeyframe);return this.timelines.push(u),s}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,s,u,c){let g=[];if(s&&g.push(this.element),e.length>0){e=(e=e.replace(Fl,"."+this._enterClassName)).replace(Ks,"."+this._leaveClassName);let I=this._driver.query(this.element,e,1!=r);0!==r&&(I=r<0?I.slice(I.length+r,I.length):I.slice(0,r)),g.push(...I)}return!u&&0==g.length&&c.push(function ju(n){return new f.vHH(3014,!1)}()),g}}class Ll{constructor(e,t,r,s){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=s,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Ll(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Oi),this._currentKeyframe.set(t,Oi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,s){t&&this._previousKeyframe.set("easing",t);const u=s&&s.params||{},c=function Li(n,e){const t=new Map;let r;return n.forEach(s=>{if("*"===s){r=r||e.keys();for(let u of r)t.set(u,Oi)}else is(s,t)}),t}(e,this._globalTimelineStyles);for(let[g,v]of c){const I=Nc(v,u,r);this._pendingStyles.set(g,I),this._localTimelineStyles.has(g)||this._backFill.set(g,this._globalTimelineStyles.get(g)??Oi),this._updateStyle(g,I)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const s=this._styleSummary.get(r);(!s||t.time>s.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((g,v)=>{const I=is(g,new Map,this._backFill);I.forEach((T,P)=>{"!"===T?e.add(P):T===Oi&&t.add(P)}),r||I.set("offset",v/this.duration),s.push(I)});const u=e.size?la(e.values()):[],c=t.size?la(t.values()):[];if(r){const g=s[0],v=new Map(g);g.set("offset",0),v.set("offset",1),s=[g,v]}return Ya(this.element,s,u,c,this.duration,this.startTime,this.easing,!1)}}class Mv extends Ll{constructor(e,t,r,s,u,c,g=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=s,this.postStyleProps=u,this._stretchStartingKeyframe=g,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:s}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],c=r+t,g=t/c,v=is(e[0]);v.set("offset",0),u.push(v);const I=is(e[0]);I.set("offset",If(g)),u.push(I);const T=e.length-1;for(let P=1;P<=T;P++){let $=is(e[P]);const K=$.get("offset");$.set("offset",If((t+K*r)/c)),u.push($)}r=c,t=0,s="",e=u}return Ya(this.element,e,this.preStyleProps,this.postStyleProps,r,t,s,!0)}}function If(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Fc{}const ir=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Gu extends Fc{normalizePropertyName(e,t){return Oc(e)}normalizeStyleValue(e,t,r,s){let u="";const c=r.toString().trim();if(ir.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)u="px";else{const g=r.match(/^[+-]?[\d\.]+([a-z]*)$/);g&&0==g[1].length&&s.push(function N(n,e){return new f.vHH(3005,!1)}())}return c+u}}function Jd(n,e,t,r,s,u,c,g,v,I,T,P,$){return{type:0,element:n,triggerName:e,isRemovalTransition:s,fromState:t,fromStyles:u,toState:r,toStyles:c,timelines:g,queriedElements:v,preStyleProps:I,postStyleProps:T,totalTime:P,errors:$}}const Vl={};class Gr{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,s){return function om(n,e,t,r,s){return n.some(u=>u(e,t,r,s))}(this.ast.matchers,e,t,r,s)}buildStyles(e,t,r){let s=this._stateStyles.get("*");return void 0!==e&&(s=this._stateStyles.get(e?.toString())||s),s?s.buildStyles(t,r):new Map}build(e,t,r,s,u,c,g,v,I,T){const P=[],$=this.ast.options&&this.ast.options.params||Vl,Q=this.buildStyles(r,g&&g.params||Vl,P),de=v&&v.params||Vl,Me=this.buildStyles(s,de,P),it=new Set,ct=new Map,lt=new Map,Je="void"===s,Mt={params:am(de,$),delay:this.ast.options?.delay},jt=T?[]:Ef(e,t,this.ast.animation,u,c,Q,Me,Mt,I,P);let yn=0;if(jt.forEach(Ia=>{yn=Math.max(Ia.duration+Ia.delay,yn)}),P.length)return Jd(t,this._triggerName,r,s,Je,Q,Me,[],[],ct,lt,yn,P);jt.forEach(Ia=>{const Ed=Ia.element,LL=zr(ct,Ed,new Set);Ia.preStyleProps.forEach(Mg=>LL.add(Mg));const hb=zr(lt,Ed,new Set);Ia.postStyleProps.forEach(Mg=>hb.add(Mg)),Ed!==t&&it.add(Ed)});const Zr=la(it.values());return Jd(t,this._triggerName,r,s,Je,Q,Me,jt,Zr,ct,lt,yn)}}function am(n,e){const t=qa(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class xv{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,s=qa(this.defaultParams);return Object.keys(e).forEach(u=>{const c=e[u];null!==c&&(s[u]=c)}),this.styles.styles.forEach(u=>{"string"!=typeof u&&u.forEach((c,g)=>{c&&(c=Nc(c,s,t));const v=this.normalizer.normalizePropertyName(g,t);c=this.normalizer.normalizeStyleValue(g,v,c,t),r.set(g,c)})}),r}}class _{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(s=>{this.states.set(s.name,new xv(s.style,s.options&&s.options.params||{},r))}),m(this.states,"true","1"),m(this.states,"false","0"),t.transitions.forEach(s=>{this.transitionFactories.push(new Gr(e,s,this.states))}),this.fallbackTransition=function h(n,e,t){return new Gr(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,g)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,s){return this.transitionFactories.find(c=>c.match(e,t,r,s))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function m(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const w=new Co;class x{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],u=tm(this._driver,t,r,[]);if(r.length)throw function Ga(n){return new f.vHH(3503,!1)}();this._animations.set(e,u)}_buildPlayer(e,t,r){const s=e.element,u=wv(this._normalizer,e.keyframes,t,r);return this._driver.animate(s,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const s=[],u=this._animations.get(e);let c;const g=new Map;if(u?(c=Ef(this._driver,t,u,aa,$d,new Map,new Map,r,w,s),c.forEach(T=>{const P=zr(g,T.element,new Map);T.postStyleProps.forEach($=>P.set($,null))})):(s.push(function Mc(){return new f.vHH(3300,!1)}()),c=[]),s.length)throw function xc(n){return new f.vHH(3504,!1)}();g.forEach((T,P)=>{T.forEach(($,K)=>{T.set(K,this._driver.computeStyle(P,K,Oi))})});const I=Hu(c.map(T=>{const P=g.get(T.element);return this._buildPlayer(T,new Map,P)}));return this._playersById.set(e,I),I.onDestroy(()=>this.destroy(e)),this.players.push(I),I}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Al(n){return new f.vHH(3301,!1)}();return t}listen(e,t,r,s){const u=Ud(t,"","","");return jg(this._getPlayer(e),r,u,s),()=>{}}command(e,t,r,s){if("register"==r)return void this.register(e,s[0]);if("create"==r)return void this.create(e,t,s[0]||{});const u=this._getPlayer(e);switch(r){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(e)}}}const F="ng-animate-queued",pe="ng-animate-disabled",It=[],hr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ss={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ii="__ng_removed";class ca{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function Df(n){return n??null}(r?e.value:e),r){const u=qa(e);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(s=>{null==r[s]&&(r[s]=t[s])})}}}const Do="void",Lc=new ca(Do);class eh{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Zs(t,this._hostClassName)}listen(e,t,r,s){if(!this._triggers.has(t))throw function Ml(n,e){return new f.vHH(3302,!1)}();if(null==r||0==r.length)throw function $u(n){return new f.vHH(3303,!1)}();if(!function Rv(n){return"start"==n||"done"==n}(r))throw function Bg(n,e){return new f.vHH(3400,!1)}();const u=zr(this._elementListeners,e,[]),c={name:t,phase:r,callback:s};u.push(c);const g=zr(this._engine.statesByElement,e,new Map);return g.has(t)||(Zs(e,Rc),Zs(e,Rc+"-"+t),g.set(t,Lc)),()=>{this._engine.afterFlush(()=>{const v=u.indexOf(c);v>=0&&u.splice(v,1),this._triggers.has(t)||g.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function xl(n){return new f.vHH(3401,!1)}();return t}trigger(e,t,r,s=!0){const u=this._getTrigger(t),c=new th(this.id,t,e);let g=this._engine.statesByElement.get(e);g||(Zs(e,Rc),Zs(e,Rc+"-"+t),this._engine.statesByElement.set(e,g=new Map));let v=g.get(t);const I=new ca(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&v&&I.absorbOptions(v.options),g.set(t,I),v||(v=Lc),I.value!==Do&&v.value===I.value){if(!function bb(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let s=0;s<t.length;s++){const u=t[s];if(!e.hasOwnProperty(u)||n[u]!==e[u])return!1}return!0}(v.params,I.params)){const de=[],Me=u.matchStyles(v.value,v.params,de),it=u.matchStyles(I.value,I.params,de);de.length?this._engine.reportError(de):this._engine.afterFlush(()=>{Wa(e,Me),Io(e,it)})}return}const $=zr(this._engine.playersByElement,e,[]);$.forEach(de=>{de.namespaceId==this.id&&de.triggerName==t&&de.queued&&de.destroy()});let K=u.matchTransition(v.value,I.value,e,I.params),Q=!1;if(!K){if(!s)return;K=u.fallbackTransition,Q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:K,fromState:v,toState:I,player:c,isFallbackTransition:Q}),Q||(Zs(e,F),c.onStart(()=>{jl(e,F)})),c.onDone(()=>{let de=this.players.indexOf(c);de>=0&&this.players.splice(de,1);const Me=this._engine.playersByElement.get(e);if(Me){let it=Me.indexOf(c);it>=0&&Me.splice(it,1)}}),this.players.push(c),$.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(s=>s.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Hd,!0);r.forEach(s=>{if(s[Ii])return;const u=this._engine.fetchNamespacesByElement(s);u.size?u.forEach(c=>c.triggerLeaveAnimation(s,t,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(e,t,r,s){const u=this._engine.statesByElement.get(e),c=new Map;if(u){const g=[];if(u.forEach((v,I)=>{if(c.set(I,v.value),this._triggers.has(I)){const T=this.trigger(e,I,Do,s);T&&g.push(T)}}),g.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&Hu(g).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const s=new Set;t.forEach(u=>{const c=u.name;if(s.has(c))return;s.add(c);const v=this._triggers.get(c).fallbackTransition,I=r.get(c)||Lc,T=new ca(Do),P=new th(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:v,fromState:I,toState:T,player:P,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let s=!1;if(r.totalAnimations){const u=r.players.length?r.playersByQueriedElement.get(e):[];if(u&&u.length)s=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(e),s)r.markElementAsRemoved(this.id,e,!1,t);else{const u=e[Ii];(!u||u===hr)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Zs(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const s=r.player;if(s.destroyed)return;const u=r.element,c=this._elementListeners.get(u);c&&c.forEach(g=>{if(g.name==r.triggerName){const v=Ud(u,r.triggerName,r.fromState.value,r.toState.value);v._data=e,jg(r.player,g.phase,v,g.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):t.push(r)}),this._queue=[],t.sort((r,s)=>{const u=r.transition.ast.depCount,c=s.transition.ast.depCount;return 0==u||0==c?u-c:this._engine.driver.containsElement(r.element,s.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class Bl{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,u)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new eh(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,s=this.namespacesByHostElement;if(r.length-1>=0){let c=!1,g=this.driver.getParentElement(t);for(;g;){const v=s.get(g);if(v){const I=r.indexOf(v);r.splice(I+1,0,e),c=!0;break}g=this.driver.getParentElement(g)}c||r.unshift(e)}else r.push(e);return s.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let s=this._namespaceLookup[e];s&&s.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const s=this._namespaceList.indexOf(r);s>=0&&this._namespaceList.splice(s,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let s of r.values())if(s.namespaceId){const u=this._fetchNamespace(s.namespaceId);u&&t.add(u)}return t}trigger(e,t,r,s){if(Vc(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,r,s),!0}return!1}insertNode(e,t,r,s){if(!Vc(t))return;const u=t[Ii];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}s&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Zs(e,pe)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),jl(e,pe))}removeNode(e,t,r){if(Vc(t)){const s=e?this._fetchNamespace(e):null;s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,s,u){this.collectedLeaveElements.push(t),t[Ii]={namespaceId:e,setForRemoval:s,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:u}}listen(e,t,r,s,u){return Vc(t)?this._fetchNamespace(e).listen(t,r,s,u):()=>{}}_buildInstruction(e,t,r,s,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,s,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,Hd,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Wg,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Hu(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ii];if(t&&t.setForRemoval){if(e[Ii]=hr,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(pe)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,s)=>this._balanceNamespaceList(r,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Zs(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let s=0;s<r.length;s++)r[s]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Hu(t).onDone(()=>{r.forEach(s=>s())}):r.forEach(s=>s())}}reportError(e){throw function Rl(n){return new f.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new Co,s=[],u=new Map,c=[],g=new Map,v=new Map,I=new Map,T=new Set;this.disabledNodes.forEach(vt=>{T.add(vt);const Nt=this.driver.query(vt,".ng-animate-queued",!0);for(let $t=0;$t<Nt.length;$t++)T.add(Nt[$t])});const P=this.bodyNode,$=Array.from(this.statesByElement.keys()),K=cm($,this.collectedEnterElements),Q=new Map;let de=0;K.forEach((vt,Nt)=>{const $t=aa+de++;Q.set(Nt,$t),vt.forEach(Sn=>Zs(Sn,$t))});const Me=[],it=new Set,ct=new Set;for(let vt=0;vt<this.collectedLeaveElements.length;vt++){const Nt=this.collectedLeaveElements[vt],$t=Nt[Ii];$t&&$t.setForRemoval&&(Me.push(Nt),it.add(Nt),$t.hasAnimation?this.driver.query(Nt,".ng-star-inserted",!0).forEach(Sn=>it.add(Sn)):ct.add(Nt))}const lt=new Map,Je=cm($,Array.from(it));Je.forEach((vt,Nt)=>{const $t=$d+de++;lt.set(Nt,$t),vt.forEach(Sn=>Zs(Sn,$t))}),e.push(()=>{K.forEach((vt,Nt)=>{const $t=Q.get(Nt);vt.forEach(Sn=>jl(Sn,$t))}),Je.forEach((vt,Nt)=>{const $t=lt.get(Nt);vt.forEach(Sn=>jl(Sn,$t))}),Me.forEach(vt=>{this.processLeaveNode(vt)})});const Mt=[],jt=[];for(let vt=this._namespaceList.length-1;vt>=0;vt--)this._namespaceList[vt].drainQueuedTransitions(t).forEach($t=>{const Sn=$t.player,Ki=$t.element;if(Mt.push(Sn),this.collectedEnterElements.length){const Ns=Ki[Ii];if(Ns&&Ns.setForMove){if(Ns.previousTriggersValues&&Ns.previousTriggersValues.has($t.triggerName)){const xg=Ns.previousTriggersValues.get($t.triggerName),hu=this.statesByElement.get($t.element);if(hu&&hu.has($t.triggerName)){const GS=hu.get($t.triggerName);GS.value=xg,hu.set($t.triggerName,GS)}}return void Sn.destroy()}}const dc=!P||!this.driver.containsElement(P,Ki),Ca=lt.get(Ki),nf=Q.get(Ki),Mr=this._buildInstruction($t,r,nf,Ca,dc);if(Mr.errors&&Mr.errors.length)return void jt.push(Mr);if(dc)return Sn.onStart(()=>Wa(Ki,Mr.fromStyles)),Sn.onDestroy(()=>Io(Ki,Mr.toStyles)),void s.push(Sn);if($t.isFallbackTransition)return Sn.onStart(()=>Wa(Ki,Mr.fromStyles)),Sn.onDestroy(()=>Io(Ki,Mr.toStyles)),void s.push(Sn);const BL=[];Mr.timelines.forEach(Ns=>{Ns.stretchStartingKeyframe=!0,this.disabledNodes.has(Ns.element)||BL.push(Ns)}),Mr.timelines=BL,r.append(Ki,Mr.timelines),c.push({instruction:Mr,player:Sn,element:Ki}),Mr.queriedElements.forEach(Ns=>zr(g,Ns,[]).push(Sn)),Mr.preStyleProps.forEach((Ns,xg)=>{if(Ns.size){let hu=v.get(xg);hu||v.set(xg,hu=new Set),Ns.forEach((GS,YP)=>hu.add(YP))}}),Mr.postStyleProps.forEach((Ns,xg)=>{let hu=I.get(xg);hu||I.set(xg,hu=new Set),Ns.forEach((GS,YP)=>hu.add(YP))})});if(jt.length){const vt=[];jt.forEach(Nt=>{vt.push(function _v(n,e){return new f.vHH(3505,!1)}())}),Mt.forEach(Nt=>Nt.destroy()),this.reportError(vt)}const yn=new Map,Zr=new Map;c.forEach(vt=>{const Nt=vt.element;r.has(Nt)&&(Zr.set(Nt,Nt),this._beforeAnimationBuild(vt.player.namespaceId,vt.instruction,yn))}),s.forEach(vt=>{const Nt=vt.element;this._getPreviousPlayers(Nt,!1,vt.namespaceId,vt.triggerName,null).forEach(Sn=>{zr(yn,Nt,[]).push(Sn),Sn.destroy()})});const Ia=Me.filter(vt=>$l(vt,v,I)),Ed=new Map;Sf(Ed,this.driver,ct,I,Oi).forEach(vt=>{$l(vt,v,I)&&Ia.push(vt)});const hb=new Map;K.forEach((vt,Nt)=>{Sf(hb,this.driver,new Set(vt),v,"!")}),Ia.forEach(vt=>{const Nt=Ed.get(vt),$t=hb.get(vt);Ed.set(vt,new Map([...Nt?.entries()??[],...$t?.entries()??[]]))});const Mg=[],VL=[],UL={};c.forEach(vt=>{const{element:Nt,player:$t,instruction:Sn}=vt;if(r.has(Nt)){if(T.has(Nt))return $t.onDestroy(()=>Io(Nt,Sn.toStyles)),$t.disabled=!0,$t.overrideTotalTime(Sn.totalTime),void s.push($t);let Ki=UL;if(Zr.size>1){let Ca=Nt;const nf=[];for(;Ca=Ca.parentNode;){const Mr=Zr.get(Ca);if(Mr){Ki=Mr;break}nf.push(Ca)}nf.forEach(Mr=>Zr.set(Mr,Ki))}const dc=this._buildAnimation($t.namespaceId,Sn,yn,u,hb,Ed);if($t.setRealPlayer(dc),Ki===UL)Mg.push($t);else{const Ca=this.playersByElement.get(Ki);Ca&&Ca.length&&($t.parentPlayer=Hu(Ca)),s.push($t)}}else Wa(Nt,Sn.fromStyles),$t.onDestroy(()=>Io(Nt,Sn.toStyles)),VL.push($t),T.has(Nt)&&s.push($t)}),VL.forEach(vt=>{const Nt=u.get(vt.element);if(Nt&&Nt.length){const $t=Hu(Nt);vt.setRealPlayer($t)}}),s.forEach(vt=>{vt.parentPlayer?vt.syncPlayerEvents(vt.parentPlayer):vt.destroy()});for(let vt=0;vt<Me.length;vt++){const Nt=Me[vt],$t=Nt[Ii];if(jl(Nt,$d),$t&&$t.hasAnimation)continue;let Sn=[];if(g.size){let dc=g.get(Nt);dc&&dc.length&&Sn.push(...dc);let Ca=this.driver.query(Nt,Wg,!0);for(let nf=0;nf<Ca.length;nf++){let Mr=g.get(Ca[nf]);Mr&&Mr.length&&Sn.push(...Mr)}}const Ki=Sn.filter(dc=>!dc.destroyed);Ki.length?KS(this,Nt,Ki):this.processLeaveNode(Nt)}return Me.length=0,Mg.forEach(vt=>{this.players.push(vt),vt.onDone(()=>{vt.destroy();const Nt=this.players.indexOf(vt);this.players.splice(Nt,1)}),vt.play()}),Mg}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,s,u){let c=[];if(t){const g=this.playersByQueriedElement.get(e);g&&(c=g)}else{const g=this.playersByElement.get(e);if(g){const v=!u||u==Do;g.forEach(I=>{I.queued||!v&&I.triggerName!=s||c.push(I)})}}return(r||s)&&(c=c.filter(g=>!(r&&r!=g.namespaceId||s&&s!=g.triggerName))),c}_beforeAnimationBuild(e,t,r){const u=t.element,c=t.isRemovalTransition?void 0:e,g=t.isRemovalTransition?void 0:t.triggerName;for(const v of t.timelines){const I=v.element,T=I!==u,P=zr(r,I,[]);this._getPreviousPlayers(I,T,c,g,t.toState).forEach(K=>{const Q=K.getRealPlayer();Q.beforeDestroy&&Q.beforeDestroy(),K.destroy(),P.push(K)})}Wa(u,t.fromStyles)}_buildAnimation(e,t,r,s,u,c){const g=t.triggerName,v=t.element,I=[],T=new Set,P=new Set,$=t.timelines.map(Q=>{const de=Q.element;T.add(de);const Me=de[Ii];if(Me&&Me.removedBeforeQueried)return new Is(Q.duration,Q.delay);const it=de!==v,ct=function ZS(n){const e=[];return dm(n,e),e}((r.get(de)||It).map(yn=>yn.getRealPlayer())).filter(yn=>!!yn.element&&yn.element===de),lt=u.get(de),Je=c.get(de),Mt=wv(this._normalizer,Q.keyframes,lt,Je),jt=this._buildPlayer(Q,Mt,ct);if(Q.subTimeline&&s&&P.add(de),it){const yn=new th(e,g,de);yn.setRealPlayer(jt),I.push(yn)}return jt});I.forEach(Q=>{zr(this.playersByQueriedElement,Q.element,[]).push(Q),Q.onDone(()=>function lm(n,e,t){let r=n.get(e);if(r){if(r.length){const s=r.indexOf(t);r.splice(s,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,Q.element,Q))}),T.forEach(Q=>Zs(Q,qg));const K=Hu($);return K.onDestroy(()=>{T.forEach(Q=>jl(Q,qg)),Io(v,t.toStyles)}),P.forEach(Q=>{zr(s,Q,[]).push(K)}),K}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Is(e.duration,e.delay)}}class th{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Is,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(s=>jg(e,r,void 0,s))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){zr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Vc(n){return n&&1===n.nodeType}function nh(n,e){const t=n.style.display;return n.style.display=e??"none",t}function Sf(n,e,t,r,s){const u=[];t.forEach(v=>u.push(nh(v)));const c=[];r.forEach((v,I)=>{const T=new Map;v.forEach(P=>{const $=e.computeStyle(I,P,s);T.set(P,$),(!$||0==$.length)&&(I[Ii]=Ss,c.push(I))}),n.set(I,T)});let g=0;return t.forEach(v=>nh(v,u[g++])),c}function cm(n,e){const t=new Map;if(n.forEach(g=>t.set(g,[])),0==e.length)return t;const s=new Set(e),u=new Map;function c(g){if(!g)return 1;let v=u.get(g);if(v)return v;const I=g.parentNode;return v=t.has(I)?I:s.has(I)?1:c(I),u.set(g,v),v}return e.forEach(g=>{const v=c(g);1!==v&&t.get(v).push(g)}),t}function Zs(n,e){n.classList?.add(e)}function jl(n,e){n.classList?.remove(e)}function KS(n,e,t){Hu(t).onDone(()=>n.processLeaveNode(e))}function dm(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof ki?dm(r.players,e):e.push(r)}}function $l(n,e,t){const r=t.get(n);if(!r)return!1;let s=e.get(n);return s?r.forEach(u=>s.add(u)):e.set(n,r),t.delete(n),!0}class Tf{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(s,u)=>{},this._transitionEngine=new Bl(e,t,r),this._timelineEngine=new x(e,t,r),this._transitionEngine.onRemovalComplete=(s,u)=>this.onRemovalComplete(s,u)}registerTrigger(e,t,r,s,u){const c=e+"-"+s;let g=this._triggerCache[c];if(!g){const v=[],T=tm(this._driver,u,v,[]);if(v.length)throw function Eo(n,e){return new f.vHH(3404,!1)}();g=function um(n,e,t){return new _(n,e,t)}(s,T,this._normalizer),this._triggerCache[c]=g}this._transitionEngine.registerTrigger(t,s,g)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,s){this._transitionEngine.insertNode(e,t,r,s)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,s){if("@"==r.charAt(0)){const[u,c]=bv(r);this._timelineEngine.command(u,t,c,s)}else this._transitionEngine.trigger(e,t,r,s)}listen(e,t,r,s,u){if("@"==r.charAt(0)){const[c,g]=bv(r);return this._timelineEngine.listen(c,t,g,u)}return this._transitionEngine.listen(e,t,r,s,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let YS=(()=>{class n{constructor(t,r,s){this._element=t,this._startStyles=r,this._endStyles=s,this._state=0;let u=n.initialStylesByElement.get(t);u||n.initialStylesByElement.set(t,u=new Map),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&Io(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Io(this._element,this._initialStyles),this._endStyles&&(Io(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Wa(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Wa(this._element,this._endStyles),this._endStyles=null),Io(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Ib(n){let e=null;return n.forEach((t,r)=>{(function hm(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class Cb{constructor(e,t,r,s){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,s)=>{"offset"!==s&&e.set(s,this._finished?r:Qg(this.element,s))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Db{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return zu(e,t)}getParentElement(e){return dr(e)}query(e,t,r){return Pl(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,s,u,c=[]){const v={duration:r,delay:s,fill:0==s?"both":"forwards"};u&&(v.easing=u);const I=new Map,T=c.filter(K=>K instanceof Cb);(function Yg(n,e){return 0===n||0===e})(r,s)&&T.forEach(K=>{K.currentSnapshot.forEach((Q,de)=>I.set(de,Q))});let P=function qd(n){return n.length?n[0]instanceof Map?n:n.map(e=>Gd(e)):[]}(t).map(K=>is(K));P=function yf(n,e,t){if(t.size&&e.length){let r=e[0],s=[];if(t.forEach((u,c)=>{r.has(c)||s.push(c),r.set(c,u)}),s.length)for(let u=1;u<e.length;u++){let c=e[u];s.forEach(g=>c.set(g,Qg(n,g)))}}return e}(e,P,I);const $=function Eb(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Ib(e[0]),e.length>1&&(r=Ib(e[e.length-1]))):e instanceof Map&&(t=Ib(e)),t||r?new YS(n,t,r):null}(e,P);return new Cb(e,P,v,$)}}let Sb=(()=>{class n extends Vu{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:f.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(t)?Vg(t):t;return Nv(this._renderer,null,r,"register",[s]),new Tb(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.FYo),f.LFG(U))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class Tb extends ja{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Pv(this._id,e,t||{},this._renderer)}}class Pv{constructor(e,t,r,s){this.id=e,this.element=t,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Nv(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Nv(n,e,t,r,s){return n.setProperty(e,`@@${t}:${r}`,s)}const rh="@.disabled";let Ab=(()=>{class n{constructor(t,r,s){this.delegate=t,this.engine=r,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(u,c)=>{const g=c?.parentNode(u);g&&c.removeChild(g,u)}}createRenderer(t,r){const u=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let T=this._rendererCache.get(u);return T||(T=new fm("",u,this.engine,()=>this._rendererCache.delete(u)),this._rendererCache.set(u,T)),T}const c=r.id,g=r.id+"-"+this._currentId;this._currentId++,this.engine.register(g,t);const v=T=>{Array.isArray(T)?T.forEach(v):this.engine.registerTrigger(c,g,t,T.name,T)};return r.data.animation.forEach(v),new pm(this,g,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,s){t>=0&&t<this._microtaskId?this._zone.run(()=>r(s)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[c,g]=u;c(g)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.FYo),f.LFG(Tf),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class fm{constructor(e,t,r,s){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=s}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,s=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,s)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,s){this.delegate.setAttribute(e,t,r,s)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,s){this.delegate.setStyle(e,t,r,s)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==rh?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class pm extends fm{constructor(e,t,r,s,u){super(t,r,s,u),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==rh?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const s=function Mb(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let u=t.slice(1),c="";return"@"!=u.charAt(0)&&([u,c]=function Ov(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(u)),this.engine.listen(this.namespaceId,s,u,c,g=>{this.factory.scheduleListenerCallback(g._data||-1,r,g)})}return this.delegate.listen(e,t,r)}}let Af=(()=>{class n extends Tf{constructor(t,r,s,u){super(t.body,r,s)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(U),f.LFG(jd),f.LFG(Fc),f.LFG(f.z2F))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Rb=[{provide:Vu,useClass:Sb},{provide:Fc,useFactory:function QS(){return new Gu}},{provide:Tf,useClass:Af},{provide:f.FYo,useFactory:function xb(n,e,t){return new Ab(n,e,t)},deps:[_o,Tf,f.R0b]}],kv=[{provide:jd,useFactory:()=>new Db},{provide:f.QbO,useValue:"BrowserAnimations"},...Rb],Pb=[{provide:jd,useClass:Iv},{provide:f.QbO,useValue:"NoopAnimations"},...Rb];let Nb=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Pb:kv}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:kv,imports:[Ou]}),n})();var Cn=k(2459),Xa=k(5592);const{isArray:JS}=Array,{getPrototypeOf:QP,prototype:eT,keys:Lv}=Object;function kb(n){if(1===n.length){const e=n[0];if(JS(e))return{args:e,keys:null};if(function Mf(n){return n&&"object"==typeof n&&QP(n)===eT}(e)){const t=Lv(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var ih=k(4829),Bc=k(4564),Ts=k(8251),rn=k(7398);const{isArray:Fb}=Array;function Vb(n){return(0,rn.U)(e=>function Lb(n,e){return Fb(e)?n(...e):n(e)}(n,e))}function Ub(n,e){return n.reduce((t,r,s)=>(t[r]=e[s],t),{})}let Bb=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq))},n.\u0275dir=f.lG2({type:n}),n})(),jc=(()=>{class n extends Bb{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275dir=f.lG2({type:n,features:[f.qOj]}),n})();const Ci=new f.OlP("NgValueAccessor"),XP={provide:Ci,useExisting:(0,f.Gpc)(()=>Vv),multi:!0},eN=new f.OlP("CompositionEventMode");let Vv=(()=>{class n extends Bb{constructor(t,r,s){super(t,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function JP(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(eN,8))},n.\u0275dir=f.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&f.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[f._Bn([XP]),f.qOj]}),n})();function $c(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Uv(n){return null!=n&&"number"==typeof n.length}const Vi=new f.OlP("NgValidators"),Hl=new f.OlP("NgAsyncValidators"),nT=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Rf{static min(e){return function gm(n){return e=>{if($c(e.value)||$c(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Ja(n){return e=>{if($c(e.value)||$c(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function sh(n){return $c(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function Bv(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function jv(n){return $c(n.value)||nT.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function $v(n){return e=>$c(e.value)||!Uv(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function rT(n){return e=>Uv(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function iT(n){if(!n)return Hv;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if($c(r.value))return null;const s=r.value;return e.test(s)?null:{pattern:{requiredPattern:t,actualValue:s}}}}(e)}static nullValidator(e){return null}static compose(e){return zb(e)}static composeAsync(e){return Gb(e)}}function Hv(n){return null}function mm(n){return null!=n}function ym(n){return(0,f.QGY)(n)?(0,Cn.D)(n):n}function sT(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function oT(n,e){return e.map(t=>t(n))}function Hb(n){return n.map(e=>function $b(n){return!n.validate}(e)?e:t=>e.validate(t))}function zb(n){if(!n)return null;const e=n.filter(mm);return 0==e.length?null:function(t){return sT(oT(t,e))}}function zv(n){return null!=n?zb(Hb(n)):null}function Gb(n){if(!n)return null;const e=n.filter(mm);return 0==e.length?null:function(t){return function tT(...n){const e=(0,Bc.jO)(n),{args:t,keys:r}=kb(n),s=new Xa.y(u=>{const{length:c}=t;if(!c)return void u.complete();const g=new Array(c);let v=c,I=c;for(let T=0;T<c;T++){let P=!1;(0,ih.Xf)(t[T]).subscribe((0,Ts.x)(u,$=>{P||(P=!0,I--),g[T]=$},()=>v--,void 0,()=>{(!v||!P)&&(I||u.next(r?Ub(r,g):g),u.complete())}))}});return e?s.pipe(Vb(e)):s}(oT(t,e).map(ym)).pipe((0,rn.U)(sT))}}function vm(n){return null!=n?Gb(Hb(n)):null}function Pf(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function qb(n){return n._rawValidators}function _m(n){return n._rawAsyncValidators}function Gv(n){return n?Array.isArray(n)?n:[n]:[]}function fr(n,e){return Array.isArray(n)?n.includes(e):n===e}function Wb(n,e){const t=Gv(e);return Gv(n).forEach(s=>{fr(t,s)||t.push(s)}),t}function Kb(n,e){return Gv(e).filter(t=>!fr(n,t))}class wm{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=zv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=vm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ui extends wm{get formDirective(){return null}get path(){return null}}class zl extends wm{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Zb{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let qv=(()=>{class n extends Zb{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(zl,2))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[f.qOj]}),n})(),aT=(()=>{class n extends Zb{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Ui,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[f.qOj]}),n})();const oh="VALID",eu="INVALID",ah="PENDING",zc="DISABLED";function uh(n){return(tu(n)?n.validators:n)||null}function Nf(n,e){return(tu(e)?e.asyncValidators:n)||null}function tu(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Im(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new f.vHH(1e3,"");if(!r[t])throw new f.vHH(1001,"")}function Cm(n,e,t){n._forEachChild((r,s)=>{if(void 0===t[s])throw new f.vHH(1002,"")})}class Dm{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===oh}get invalid(){return this.status===eu}get pending(){return this.status==ah}get disabled(){return this.status===zc}get enabled(){return this.status!==zc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Wb(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Wb(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Kb(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Kb(e,this._rawAsyncValidators))}hasValidator(e){return fr(this._rawValidators,e)}hasAsyncValidator(e){return fr(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ah,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=zc,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=oh,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===oh||this.status===ah)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zc:oh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ah,this._hasOwnPendingAsyncValidator=!0;const t=ym(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,s)=>r&&r._find(s),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?zc:this.errors?eu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ah)?ah:this._anyControlsHaveStatus(eu)?eu:oh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){tu(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function pT(n){return Array.isArray(n)?zv(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Em(n){return Array.isArray(n)?vm(n):n||null}(this._rawAsyncValidators)}}class Of extends Dm{constructor(e,t,r){super(uh(t),Nf(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Cm(this,0,e),Object.keys(e).forEach(r=>{Im(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const s=this.controls[r];s&&s.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,s)=>((r.enabled||this.disabled)&&(t[s]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((s,u)=>{r=t(r,s,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class eE extends Of{}const lh=new f.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ch}),ch="always";function Lf(n,e,t=ch){Wv(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function mT(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&yT(n,e)})}(n,e),function Tm(n,e){const t=(r,s)=>{e.valueAccessor.writeValue(r),s&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function uN(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&yT(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function aN(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Vf(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Sm(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function dh(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Wv(n,e){const t=qb(n);null!==e.validator?n.setValidators(Pf(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=_m(n);null!==e.asyncValidator?n.setAsyncValidators(Pf(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const s=()=>n.updateValueAndValidity();dh(e._rawValidators,s),dh(e._rawAsyncValidators,s)}function Sm(n,e){let t=!1;if(null!==n){if(null!==e.validator){const s=qb(n);if(Array.isArray(s)&&s.length>0){const u=s.filter(c=>c!==e.validator);u.length!==s.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const s=_m(n);if(Array.isArray(s)&&s.length>0){const u=s.filter(c=>c!==e.asyncValidator);u.length!==s.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return dh(e._rawValidators,r),dh(e._rawAsyncValidators,r),t}function yT(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function iE(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function sE(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const fh=class extends Dm{constructor(e=null,t,r){super(uh(t),Nf(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),tu(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=sE(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){iE(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){iE(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){sE(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Jv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),zf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();const Rm=new f.OlP("NgModelWithFormControlWarning"),CT={provide:Ui,useExisting:(0,f.Gpc)(()=>qf)};let qf=(()=>{class n extends Ui{constructor(t,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Sm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Lf(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Vf(t.control||null,t,!1),function Mm(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function Zv(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,s=this.form.get(t.path);r!==s&&(Vf(r||null,t),(n=>n instanceof fh)(s)&&(Lf(s,t,this.callSetDisabledState),t.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function tE(n,e){Wv(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Kv(n,e){return Sm(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Wv(this.form,this),this._oldForm&&Sm(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Vi,10),f.Y36(Hl,10),f.Y36(lh,8))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&f.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([CT]),f.qOj,f.TTD]}),n})();const t_={provide:zl,useExisting:(0,f.Gpc)(()=>ql)};let ql=(()=>{class n extends zl{set isDisabled(t){}constructor(t,r,s,u,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.name=null,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=function $f(n,e){if(!e)return null;let t,r,s;return Array.isArray(e),e.forEach(u=>{u.constructor===Vv?t=u:function jf(n){return Object.getPrototypeOf(n.constructor)===jc}(u)?r=u:s=u}),s||r||t||null}(0,u)}ngOnChanges(t){this._added||this._setUpControl(),function hh(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Ff(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(f.Y36(Ui,13),f.Y36(Vi,10),f.Y36(Hl,10),f.Y36(Ci,10),f.Y36(Rm,8))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([t_]),f.qOj,f.TTD]}),n})(),wE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[zf]}),n})();class bE extends Dm{constructor(e,t,r){super(uh(t),Nf(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let s=this._adjustIndex(e);s<0&&(s=0),this.controls[s]&&this.controls[s]._registerOnCollectionChange(()=>{}),this.controls.splice(s,1),t&&(this.controls.splice(s,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Cm(this,0,e),e.forEach((r,s)=>{Im(this,!1,s),this.at(s).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,s)=>{this.at(s)&&this.at(s).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function EE(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let _N=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const s=this._reduceControls(t);let u={};return EE(r)?u=r:null!==r&&(u.validators=r.validator,u.asyncValidators=r.asyncValidator),new Of(s,u)}record(t,r=null){const s=this._reduceControls(t);return new eE(s,r)}control(t,r,s){let u={};return this.useNonNullable?(EE(r)?u=r:(u.validators=r,u.asyncValidators=s),new fh(t,{...u,nonNullable:!0})):new fh(t,r,s)}array(t,r,s){const u=t.map(c=>this._createControl(c));return new bE(u,r,s)}_reduceControls(t){const r={};return Object.keys(t).forEach(s=>{r[s]=this._createControl(t[s])}),r}_createControl(t){return t instanceof fh||t instanceof Dm?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IE=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Rm,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:lh,useValue:t.callSetDisabledState??ch}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[wE]}),n})();var ss=k(6304),Dt=k(2096),Kc=k(6321),os=k(9360),kr=k(4664),sr=k(1277),Fm=k(3106),Ce=k(5861),So=k(4303),Ft=k(9058),mh=k(4537);const CE="firebasestorage.googleapis.com",DE="storageBucket";class vr extends Ft.ZR{constructor(e,t){super(u_(e),`Firebase Storage: ${t} (${u_(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vr.prototype)}_codeEquals(e){return u_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function u_(n){return"storage/"+n}function l_(){return new vr("unknown","An unknown error occurred, please check the error payload for server response.")}function ME(){return new vr("canceled","User canceled the upload/download.")}function RE(){return new vr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Zc(n){return new vr("invalid-argument",n)}function PE(){return new vr("app-deleted","The Firebase app was deleted.")}function NE(n){return new vr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Yc(n,e){return new vr("invalid-format","String does not match format '"+n+"': "+e)}function Xf(n){throw new vr("internal-error","Internal error: "+n)}class Bi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Bi.makeFromUrl(e,t)}catch{return new Bi(e,"")}if(""===r.path)return r;throw function c_(n){return new vr("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)",g=new RegExp("^gs://"+s+"(/(.*))?$","i");function I(Je){Je.path_=decodeURIComponent(Je.path)}const P=t.replace(/[.]/g,"\\."),lt=[{regex:g,indices:{bucket:1,path:3},postModify:function u(Je){"/"===Je.path.charAt(Je.path.length-1)&&(Je.path_=Je.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${P}/v[A-Za-z0-9_]+/b/${s}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:I},{regex:new RegExp(`^https?://${t===CE?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${s}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:I}];for(let Je=0;Je<lt.length;Je++){const Mt=lt[Je],jt=Mt.regex.exec(e);if(jt){let Zr=jt[Mt.indices.path];Zr||(Zr=""),r=new Bi(jt[Mt.indices.bucket],Zr),Mt.postModify(r);break}}if(null==r)throw function wN(n){return new vr("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class jT{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Jf(n){return"string"==typeof n||n instanceof String}function OE(n){return Lm()&&n instanceof Blob}function Lm(){return typeof Blob<"u"}function Vm(n,e,t,r){if(r<e)throw Zc(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Zc(`Invalid value for '${n}'. Expected ${t} or less.`)}function To(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function Um(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Qs=(()=>((Qs=Qs||{})[Qs.NO_ERROR=0]="NO_ERROR",Qs[Qs.NETWORK_ERROR=1]="NETWORK_ERROR",Qs[Qs.ABORT=2]="ABORT",Qs))();class kE{constructor(e,t,r,s,u,c,g,v,I,T,P){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=u,this.additionalRetryCodes_=c,this.callback_=g,this.errorCallback_=v,this.timeout_=I,this.progressCallback_=T,this.connectionFactory_=P,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(($,K)=>{this.resolve_=$,this.reject_=K,this.start_()})}start_(){const t=(r,s)=>{const u=this.resolve_,c=this.reject_,g=s.connection;if(s.wasSuccessCode)try{const v=this.callback_(g,g.getResponse());!function ru(n){return void 0!==n}(v)?u():u(v)}catch(v){c(v)}else if(null!==g){const v=l_();v.serverResponse=g.getErrorText(),c(this.errorCallback_?this.errorCallback_(g,v):v)}else c(s.canceled?this.appDelete_?PE():ME():function VT(){return new vr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new ep(!1,null,!0)):this.backoffId_=function $T(n,e,t){let r=1,s=null,u=null,c=!1,g=0;function v(){return 2===g}let I=!1;function T(...Me){I||(I=!0,e.apply(null,Me))}function P(Me){s=setTimeout(()=>{s=null,n(K,v())},Me)}function $(){u&&clearTimeout(u)}function K(Me,...it){if(I)return void $();if(Me)return $(),void T.call(null,Me,...it);if(v()||c)return $(),void T.call(null,Me,...it);let lt;r<64&&(r*=2),1===g?(g=2,lt=0):lt=1e3*(r+Math.random()),P(lt)}let Q=!1;function de(Me){Q||(Q=!0,$(),!I&&(null!==s?(Me||(g=2),clearTimeout(s),P(0)):Me||(g=1)))}return P(0),u=setTimeout(()=>{c=!0,de(!0)},t),de}((r,s)=>{if(s)return void r(!1,new ep(!1,null,!0));const u=this.connectionFactory_();this.pendingConnection_=u;const c=g=>{null!==this.progressCallback_&&this.progressCallback_(g.loaded,g.lengthComputable?g.total:-1)};null!==this.progressCallback_&&u.addUploadProgressListener(c),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&u.removeUploadProgressListener(c),this.pendingConnection_=null;const g=u.getErrorCode()===Qs.NO_ERROR,v=u.getStatus();if(!g||this.isRetryStatusCode_(v)){const T=u.getErrorCode()===Qs.ABORT;return void r(!1,new ep(!1,null,T))}const I=-1!==this.successCodes_.indexOf(v);r(!0,new ep(I,u))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function HT(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,s=-1!==[408,429].indexOf(e),u=-1!==this.additionalRetryCodes_.indexOf(e);return t||s||u}}class ep{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function f_(...n){const e=function qT(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(Lm())return new Blob(n);throw new vr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Xs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class VE{constructor(e,t){this.data=e,this.contentType=t||null}}function Bm(n,e){switch(n){case Xs.RAW:return new VE(UE(e));case Xs.BASE64:case Xs.BASE64URL:return new VE(yh(n,e));case Xs.DATA_URL:return new VE(function bN(n){const e=new tp(n);return e.base64?yh(Xs.BASE64,e.rest):function jm(n){let e;try{e=decodeURIComponent(n)}catch{throw Yc(Xs.DATA_URL,"Malformed data URL.")}return UE(e)}(e.rest)}(e),function ZT(n){return new tp(n).contentType}(e))}throw l_()}function UE(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function yh(n,e){switch(n){case Xs.BASE64:{const s=-1!==e.indexOf("-"),u=-1!==e.indexOf("_");if(s||u)throw Yc(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Xs.BASE64URL:{const s=-1!==e.indexOf("+"),u=-1!==e.indexOf("/");if(s||u)throw Yc(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function KT(n){return atob(n)}(e)}catch{throw Yc(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}class tp{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Yc(Xs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function BE(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class da{constructor(e,t){let r=0,s="";OE(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(OE(this.data_)){const s=function WT(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===s?null:new da(s)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new da(r,!0)}}static getBlob(...e){if(Lm()){const t=e.map(r=>r instanceof da?r.data_:r);return new da(f_.apply(null,t))}{const t=e.map(c=>Jf(c)?Bm(Xs.RAW,c).data:c.data_);let r=0;t.forEach(c=>{r+=c.byteLength});const s=new Uint8Array(r);let u=0;return t.forEach(c=>{for(let g=0;g<c.length;g++)s[u++]=c[g]}),new da(s,!0)}}uploadData(){return this.data_}}function p_(n){let e;try{e=JSON.parse(n)}catch{return null}return function zT(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function g_(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function np(n,e){return e}class as{constructor(e,t,r,s){this.server=e,this.local=t||e,this.writable=!!r,this.xform=s||np}}let rp=null;function ip(){if(rp)return rp;const n=[];n.push(new as("bucket")),n.push(new as("generation")),n.push(new as("metageneration")),n.push(new as("name","fullPath",!0));const t=new as("name");t.xform=function e(u,c){return function $E(n){return!Jf(n)||n.length<2?n:g_(n)}(c)},n.push(t);const s=new as("size");return s.xform=function r(u,c){return void 0!==c?Number(c):c},n.push(s),n.push(new as("timeCreated")),n.push(new as("updated")),n.push(new as("md5Hash",null,!0)),n.push(new as("cacheControl",null,!0)),n.push(new as("contentDisposition",null,!0)),n.push(new as("contentEncoding",null,!0)),n.push(new as("contentLanguage",null,!0)),n.push(new as("contentType",null,!0)),n.push(new as("metadata","customMetadata",!0)),rp=n,rp}function HE(n,e,t){const r=p_(e);return null===r?null:function sp(n,e,t){const r={type:"file"},s=t.length;for(let u=0;u<s;u++){const c=t[u];r[c.local]=c.xform(r,e[c.server])}return function QT(n,e){Object.defineProperty(n,"ref",{get:function t(){const u=new Bi(n.bucket,n.fullPath);return e._makeStorageReference(u)}})}(r,n),r}(n,r,t)}function m_(n,e){const t={},r=e.length;for(let s=0;s<r;s++){const u=e[s];u.writable&&(t[u.server]=n[u.local])}return JSON.stringify(t)}const zE="prefixes",GE="items";class iu{constructor(e,t,r,s){this.url=e,this.method=t,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function su(n){if(!n)throw l_()}function op(n,e){return function t(r,s){const u=HE(n,s,e);return su(null!==u),u}}function Wu(n){return function e(t,r){let s;return s=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function LT(){return new vr("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function FT(){return new vr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function AE(n){return new vr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function Ys(n){return new vr("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,s.serverResponse=r.serverResponse,s}}function ap(n){const e=Wu(n);return function t(r,s){let u=e(r,s);return 404===r.getStatus()&&(u=function TE(n){return new vr("object-not-found","Object '"+n+"' does not exist.")}(n.path)),u.serverResponse=s.serverResponse,u}}function qE(n,e,t){const s=To(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,g=new iu(s,"GET",op(n,t),c);return g.errorHandler=ap(e),g}function tA(n,e,t,r,s){const u={};u.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(u.delimiter=t),r&&(u.pageToken=r),s&&(u.maxResults=s);const g=To(e.bucketOnlyServerUrl(),n.host,n._protocol),I=n.maxOperationRetryTime,T=new iu(g,"GET",function y_(n,e){return function t(r,s){const u=function JT(n,e,t){const r=p_(t);return null===r?null:function XT(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[zE])for(const s of t[zE]){const u=s.replace(/\/$/,""),c=n._makeStorageReference(new Bi(e,u));r.prefixes.push(c)}if(t[GE])for(const s of t[GE]){const u=n._makeStorageReference(new Bi(e,s.name));r.items.push(u)}return r}(n,e,r)}(n,e,s);return su(null!==u),u}}(n,e.bucket),I);return T.urlParams=u,T.errorHandler=Wu(e),T}function v_(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function KE(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class __{constructor(e,t,r,s){this.current=e,this.total=t,this.finalized=!!r,this.metadata=s||null}}function $m(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{su(!1)}return su(!!t&&-1!==(e||["active"]).indexOf(t)),t}const oA={STATE_CHANGED:"state_changed"},Di={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function w_(n){switch(n){case"running":case"pausing":case"canceling":return Di.RUNNING;case"paused":return Di.PAUSED;case"success":return Di.SUCCESS;case"canceled":return Di.CANCELED;default:return Di.ERROR}}class ou{constructor(e,t,r){if(function d_(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function au(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let Si=null;class Qc{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Qs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Qs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Qs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,s){if(this.sent_)throw Xf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==s)for(const u in s)s.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,s[u].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Xf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Xf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Xf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Xf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Hm extends Qc{initXhr(){this.xhr_.responseType="text"}}function _r(){return Si?Si():new Hm}class Xc{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=ip(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{this._request=void 0,this._chunkMultiplier=1,s._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=s,this._transition("error"))},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals("canceled")?this.completeTransitions_():(this._error=s,this._transition("error"))},this._promise=new Promise((s,u)=>{this._resolve=s,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function YE(n,e,t,r,s){const u=e.bucketOnlyServerUrl(),c=v_(e,r,s),g={name:c.fullPath},v=To(u,n.host,n._protocol),T={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},P=m_(c,t),Q=new iu(v,"POST",function K(de){let Me;$m(de);try{Me=de.getResponseHeader("X-Goog-Upload-URL")}catch{su(!1)}return su(Jf(Me)),Me},n.maxUploadRetryTime);return Q.urlParams=g,Q.headers=T,Q.body=P,Q.errorHandler=Wu(e),Q}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,_r,e,t);this._request=s,s.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const s=function IN(n,e,t,r){const v=new iu(t,"POST",function u(I){const T=$m(I,["active","final"]);let P=null;try{P=I.getResponseHeader("X-Goog-Upload-Size-Received")}catch{su(!1)}P||su(!1);const $=Number(P);return su(!isNaN($)),new __($,r.size(),"final"===T)},n.maxUploadRetryTime);return v.headers={"X-Goog-Upload-Command":"query"},v.errorHandler=Wu(e),v}(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(s,_r,t,r);this._request=u,u.getPromise().then(c=>{this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new __(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,u)=>{let c;try{c=function sA(n,e,t,r,s,u,c,g){const v=new __(0,0);if(c?(v.current=c.current,v.total=c.total):(v.current=0,v.total=r.size()),r.size()!==v.total)throw function UT(){return new vr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const I=v.total-v.current;let T=I;s>0&&(T=Math.min(T,s));const P=v.current,Q={"X-Goog-Upload-Command":T===I?"upload, finalize":"upload","X-Goog-Upload-Offset":`${v.current}`},de=r.slice(P,P+T);if(null===de)throw RE();const lt=new iu(t,"POST",function Me(Je,Mt){const jt=$m(Je,["active","final"]),yn=v.current+T,Zr=r.size();let Ia;return Ia="final"===jt?op(e,u)(Je,Mt):null,new __(yn,Zr,"final"===jt,Ia)},e.maxUploadRetryTime);return lt.headers=Q,lt.body=de.uploadData(),lt.progressCallback=g||null,lt.errorHandler=Wu(n),lt}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(v){return this._error=v,void this._transition("error")}const g=this._ref.storage._makeRequest(c,_r,s,u);this._request=g,g.getPromise().then(v=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(v.current),v.finalized?(this._metadata=v.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=qE(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,_r,e,t);this._request=s,s.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function ZE(n,e,t,r,s){const u=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},v=function g(){let lt="";for(let Je=0;Je<2;Je++)lt+=Math.random().toString().slice(2);return lt}();c["Content-Type"]="multipart/related; boundary="+v;const I=v_(e,r,s),T=m_(I,t),K=da.getBlob("--"+v+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+T+"\r\n--"+v+"\r\nContent-Type: "+I.contentType+"\r\n\r\n",r,"\r\n--"+v+"--");if(null===K)throw RE();const Q={name:I.fullPath},de=To(u,n.host,n._protocol),it=n.maxUploadRetryTime,ct=new iu(de,"POST",op(n,t),it);return ct.urlParams=Q,ct.headers=c,ct.body=K.uploadData(),ct.errorHandler=Wu(e),ct}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,_r,e,t);this._request=s,s.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=ME(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=w_(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,s){const u=new ou(t||void 0,r||void 0,s||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(w_(this._state)){case Di.SUCCESS:au(this._resolve.bind(null,this.snapshot))();break;case Di.CANCELED:case Di.ERROR:au(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(w_(this._state)){case Di.RUNNING:case Di.PAUSED:e.next&&au(e.next.bind(e,this.snapshot))();break;case Di.SUCCESS:e.complete&&au(e.complete.bind(e))();break;default:e.error&&au(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Ao{constructor(e,t){this._service=e,this._location=t instanceof Bi?t:Bi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ao(e,t)}get root(){const e=new Bi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return g_(this._location.path)}get storage(){return this._service}get parent(){const e=function YT(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Bi(this._location.bucket,e);return new Ao(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw NE(e)}}function E_(n,e,t){return zm.apply(this,arguments)}function zm(){return(zm=(0,Ce.Z)(function*(n,e,t){const s=yield I_(n,{pageToken:t});e.prefixes.push(...s.prefixes),e.items.push(...s.items),null!=s.nextPageToken&&(yield E_(n,e,s.nextPageToken))})).apply(this,arguments)}function I_(n,e){null!=e&&"number"==typeof e.maxResults&&Vm("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=tA(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,_r)}function tI(n){n._throwIfRoot("getDownloadURL");const e=function nA(n,e,t){const s=To(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,g=new iu(s,"GET",function eA(n,e){return function t(r,s){const u=HE(n,s,e);return su(null!==u),function EN(n,e,t,r){const s=p_(e);if(null===s||!Jf(s.downloadTokens))return null;const u=s.downloadTokens;if(0===u.length)return null;const c=encodeURIComponent;return u.split(",").map(I=>{const P=n.fullPath;return To("/b/"+c(n.bucket)+"/o/"+c(P),t,r)+Um({alt:"media",token:I})})[0]}(u,s,n.host,n._protocol)}}(n,t),c);return g.errorHandler=ap(e),g}(n.storage,n._location,ip());return n.storage.makeRequestWithTokens(e,_r).then(t=>{if(null===t)throw function BT(){return new vr("no-download-url","The given file does not have any download URLs.")}();return t})}function Gm(n,e){const t=function jE(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Bi(n._location.bucket,t);return new Ao(n.storage,r)}function uA(n,e){if(n instanceof C_){const t=n;if(null==t._bucket)throw function xE(){return new vr("no-default-bucket","No default bucket found. Did you set the '"+DE+"' property when initializing the app?")}();const r=new Ao(t,t._bucket);return null!=e?uA(r,e):r}return void 0!==e?Gm(n,e):n}function lA(n,e){if(e&&function aA(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof C_)return function CN(n,e){return new Ao(n,e)}(n,e);throw Zc("To use ref(service, url), the first argument must be a Storage instance.")}return uA(n,e)}function rI(n,e){const t=e?.[DE];return null==t?null:Bi.makeFromBucketSpec(t,n)}class C_{constructor(e,t,r,s,u){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=u,this._bucket=null,this._host=CE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=s?Bi.makeFromBucketSpec(s,this._host):rI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Bi.makeFromBucketSpec(this._url,e):rI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Vm("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Vm("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Ce.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Ce.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ao(this,e)}_makeRequest(e,t,r,s){if(this._deleted)return new jT(PE());{const u=function GT(n,e,t,r,s,u){const c=Um(n.urlParams),g=n.url+c,v=Object.assign({},n.headers);return function h_(n,e){e&&(n["X-Firebase-GMPID"]=e)}(v,e),function FE(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(v,t),function LE(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(v,u),function qu(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(v,r),new kE(g,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s)}(e,this._appId,r,s,t,this._firebaseVersion);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(e,t){var r=this;return(0,Ce.Z)(function*(){const[s,u]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,s,u).getPromise()})()}}const cA="@firebase/storage";function lI(n,e){return lA(n=(0,Ft.m9)(n),e)}function Km(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new C_(t,r,s,e,So.SDK_VERSION)}!function AN(){(0,So._registerComponent)(new mh.wA("storage",Km,"PUBLIC").setMultipleInstances(!0)),(0,So.registerVersion)(cA,"0.9.9",""),(0,So.registerVersion)(cA,"0.9.9","esm2017")}();class Zm{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class dI{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Zm(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new Zm(r,this,this._ref))},t)}on(e,t,r,s){let u;return t&&(u="function"==typeof t?c=>t(new Zm(c,this,this._ref)):{next:t.next?c=>t.next(new Zm(c,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,u,r||void 0,s||void 0)}}class Ym{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Ku(e,this._service))}get items(){return this._delegate.items.map(e=>new Ku(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Ku{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function hA(n,e){return Gm(n,e)}(this._delegate,e);return new Ku(t,this.storage)}get root(){return new Ku(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Ku(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new dI(function D_(n,e,t){return function Ih(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new Xc(n,new da(e),t)}(n=(0,Ft.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Xs.RAW,r){this._throwIfRoot("putString");const s=Bm(t,e),u=Object.assign({},r);return null==u.contentType&&null!=s.contentType&&(u.contentType=s.contentType),new dI(new Xc(this._delegate,new da(s.data,!0),u),this)}listAll(){return function uI(n){return function XE(n){const e={prefixes:[],items:[]};return E_(n,e).then(()=>e)}(n=(0,Ft.m9)(n))}(this._delegate).then(e=>new Ym(e,this.storage))}list(e){return function lp(n,e){return I_(n=(0,Ft.m9)(n),e)}(this._delegate,e||void 0).then(t=>new Ym(t,this.storage))}getMetadata(){return function Wm(n){return function JE(n){n._throwIfRoot("getMetadata");const e=qE(n.storage,n._location,ip());return n.storage.makeRequestWithTokens(e,_r)}(n=(0,Ft.m9)(n))}(this._delegate)}updateMetadata(e){return function aI(n,e){return function eI(n,e){n._throwIfRoot("updateMetadata");const t=function rA(n,e,t,r){const u=To(e.fullServerUrl(),n.host,n._protocol),g=m_(t,r),I=n.maxOperationRetryTime,T=new iu(u,"PATCH",op(n,r),I);return T.headers={"Content-Type":"application/json; charset=utf-8"},T.body=g,T.errorHandler=ap(e),T}(n.storage,n._location,e,ip());return n.storage.makeRequestWithTokens(t,_r)}(n=(0,Ft.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function dA(n){return tI(n=(0,Ft.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function cp(n){return function nI(n){n._throwIfRoot("deleteObject");const e=function iA(n,e){const r=To(e.fullServerUrl(),n.host,n._protocol),g=new iu(r,"DELETE",function c(v,I){},n.maxOperationRetryTime);return g.successCodes=[200,204],g.errorHandler=ap(e),g}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,_r)}(n=(0,Ft.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw NE(e)}}class T_{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(hI(e))throw Zc("ref() expected a child path but got a URL, use refFromURL instead.");return new Ku(lI(this._delegate,e),this)}refFromURL(e){if(!hI(e))throw Zc("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Bi.makeFromUrl(e,this._delegate.host)}catch{throw Zc("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ku(lI(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function fA(n,e,t,r={}){!function DN(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:s}=r;s&&(n._overrideAuthToken="string"==typeof s?s:(0,Ft.Sg)(s,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function hI(n){return/^[A-Za-z]+:\/\//.test(n)}function gI(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new T_(t,r)}!function gA(n){const e={TaskState:Di,TaskEvent:oA,StringFormat:Xs,Storage:T_,Reference:Ku};n.INTERNAL.registerComponent(new mh.wA("storage-compat",gI,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.17")}(Fm.Z),k(301);var Wl=k(7879);const N_=new Map,O_={activated:!1,tokenObservers:[]},bI={initialized:!1,enabled:!1};function Fr(n){return N_.get(n)||O_}function Mo(n,e){N_.set(n,e)}function Xm(){return bI}const Jm="https://content-firebaseappcheck.googleapis.com/v1",CI="exchangeDebugToken",DI={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class wA{constructor(e,t,r,s,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=s,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=s,s>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ce.Z)(function*(){t.stop();try{t.pending=new Ft.BH,yield function k_(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Ft.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ji=new Ft.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ny(){return(ny=(0,Ce.Z)(function*({url:n,body:e},t){var r,s;const u={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const K=yield c.getHeartbeatsHeader();K&&(u["X-Firebase-Client"]=K)}const g={method:"POST",body:JSON.stringify(e),headers:u};let v,I;try{v=yield fetch(n,g)}catch(K){throw ji.create("fetch-network-error",{originalErrorMessage:null===(r=K)||void 0===r?void 0:r.message})}if(200!==v.status)throw ji.create("fetch-status-error",{httpStatus:v.status});try{I=yield v.json()}catch(K){throw ji.create("fetch-parse-error",{originalErrorMessage:null===(s=K)||void 0===s?void 0:s.message})}const T=I.ttl.match(/^([\d.]+)(s)$/);if(!T||!T[2]||isNaN(Number(T[1])))throw ji.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${I.ttl}`});const P=1e3*Number(T[1]),$=Date.now();return{token:I.token,expireTimeMillis:$+P,issuedAtTimeMillis:$}})).apply(this,arguments)}const bA="firebase-app-check-database",EA=1,ed="firebase-app-check-store";let Ch=null;function iy(){return(iy=(0,Ce.Z)(function*(n,e){const r=(yield function TI(){return Ch||(Ch=new Promise((n,e)=>{var t;try{const r=indexedDB.open(bA,EA);r.onsuccess=s=>{n(s.target.result)},r.onerror=s=>{var u;e(ji.create("storage-open",{originalErrorMessage:null===(u=s.target.error)||void 0===u?void 0:u.message}))},r.onupgradeneeded=s=>{0===s.oldVersion&&s.target.result.createObjectStore(ed,{keyPath:"compositeKey"})}}catch(r){e(ji.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),Ch)}()).transaction(ed,"readwrite"),u=r.objectStore(ed).put({compositeKey:n,value:e});return new Promise((c,g)=>{u.onsuccess=v=>{c()},r.onerror=v=>{var I;g(ji.create("storage-set",{originalErrorMessage:null===(I=v.target.error)||void 0===I?void 0:I.message}))}})})).apply(this,arguments)}const fp=new Wl.Yd("@firebase/app-check");function xI(n,e){return(0,Ft.hl)()?function NN(n,e){return function AI(n,e){return iy.apply(this,arguments)}(function U_(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{fp.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function B_(){return(B_=(0,Ce.Z)(function*(){const n=Xm();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const DA={error:"UNKNOWN_ERROR"};function OI(n){return Ft.US.encodeString(JSON.stringify(n),!1)}function j_(n){return ay.apply(this,arguments)}function ay(){return(ay=(0,Ce.Z)(function*(n,e=!1){const t=n.app;!function L_(n){if(!Fr(n).activated)throw ji.create("use-before-activation",{appName:n.name})}(t);const r=Fr(t);let u,s=r.token;if(!s){const v=yield r.cachedTokenPromise;v&&As(v)&&(s=v)}if(!e&&s&&As(s))return{token:s.token};let g,c=!1;if(function td(){return Xm().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=function ty(n,e){return ny.apply(this,arguments)}(function Kl(n,e){const{projectId:t,appId:r,apiKey:s}=n.options;return{url:`${Jm}/projects/${t}/apps/${r}:${CI}?key=${s}`,body:{debug_token:e}}}(t,yield function PI(){return B_.apply(this,arguments)}()),n.heartbeatServiceProvider).then(I=>(r.exchangeTokenPromise=void 0,I)),c=!0);const v=yield r.exchangeTokenPromise;return yield xI(t,v),Mo(t,Object.assign(Object.assign({},r),{token:v})),{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(v=>(r.exchangeTokenPromise=void 0,v)),c=!0),s=yield r.exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?fp.warn(v.message):fp.error(v),u=v}return s?(g={token:s.token},Mo(t,Object.assign(Object.assign({},r),{token:s})),yield xI(t,s)):g=function fa(n){return{token:OI(DA),error:n}}(u),c&&function ha(n,e){const t=Fr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,g),g})).apply(this,arguments)}function xo(n,e){const t=Fr(n),r=t.tokenObservers.filter(s=>s.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Mo(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function kI(n){const{app:e}=n,t=Fr(e);let r=t.tokenRefresher;r||(r=function SA(n){const{app:e}=n;return new wA((0,Ce.Z)(function*(){let r;if(r=Fr(e).token?yield j_(n,!0):yield j_(n),r.error)throw r.error}),()=>!0,()=>{const t=Fr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},DI.RETRIAL_MIN_WAIT,DI.RETRIAL_MAX_WAIT)}(n),Mo(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function As(n){return n.expireTimeMillis-Date.now()>0}class FI{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Fr(this.app);for(const t of e)xo(this.app,t.next);return Promise.resolve()}}const W_="app-check-internal";!function GI(){(0,So._registerComponent)(new mh.wA("app-check",n=>function LI(n,e){return new FI(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(W_).initialize()})),(0,So._registerComponent)(new mh.wA(W_,n=>function TA(n){return{getToken:e=>j_(n,e),addTokenListener:e=>function pp(n,e,t,r){const{app:s}=n,u=Fr(s),c={next:t,error:r,type:e};if(Mo(s,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,c]})),u.token&&As(u.token)){const g=u.token;Promise.resolve().then(()=>{t({token:g.token}),kI(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>kI(n))}(n,"INTERNAL",e),removeTokenListener:e=>xo(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,So.registerVersion)("@firebase/app-check","0.5.12")}();class dy{constructor(){return(0,sr.vb)("app-check")}}typeof window<"u"&&window;var BA=k(3071);function Q_(n){const e=function qI(n){return new Xa.y(e=>{const t=c=>e.next(c);t(n.snapshot);const u=n.on("state_changed",t);return n.then(c=>{t(c),e.complete()},c=>{t(n.snapshot),(c=>{e.error(c)})(c)}),function(){u()}}).pipe(function Qf(n,e=Kc.z){return(0,os.e)((t,r)=>{let s=null,u=null,c=null;const g=()=>{if(s){s.unsubscribe(),s=null;const I=u;u=null,r.next(I)}};function v(){const I=c+n,T=e.now();if(T<I)return s=this.schedule(void 0,I-T),void r.add(s);g()}t.subscribe((0,Ts.x)(r,I=>{u=I,c=e.now(),s||(s=e.schedule(v,n),r.add(s))},()=>{g(),r.complete()},void 0,()=>{u=s=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,rn.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function yp(n){return{getDownloadURL:()=>(0,Dt.of)(void 0).pipe(sr.fc,(0,kr.w)(()=>n.getDownloadURL()),sr.iC),getMetadata:()=>(0,Dt.of)(void 0).pipe(sr.fc,(0,kr.w)(()=>n.getMetadata()),sr.iC),delete:()=>(0,Cn.D)(n.delete()),child:e=>yp(n.child(e)),updateMetadata:e=>(0,Cn.D)(n.updateMetadata(e)),put:(e,t)=>Q_(n.put(e,t)),putString:(e,t,r)=>Q_(n.putString(e,t,r)),list:e=>(0,Cn.D)(n.list(e)),listAll:()=>(0,Cn.D)(n.listAll())}}const WI=new f.OlP("angularfire2.storageBucket"),KI=new f.OlP("angularfire2.storage.maxUploadRetryTime"),ZI=new f.OlP("angularfire2.storage.maxOperationRetryTime"),YI=new f.OlP("angularfire2.storage.use-emulator");let X_=(()=>{class n{constructor(t,r,s,u,c,g,v,I,T,P){const $=(0,ss.on)(t,c,r);this.storage=(0,ss.cc)(`${$.name}.storage.${s}`,"AngularFireStorage",$.name,()=>{const K=c.runOutsideAngular(()=>$.storage(s||void 0)),Q=T;return Q&&K.useEmulator(...Q),v&&K.setMaxUploadRetryTime(v),I&&K.setMaxOperationRetryTime(I),K},[v,I])}ref(t){return yp(this.storage.ref(t))}refFromURL(t){return yp(this.storage.refFromURL(t))}upload(t,r,s){return yp(this.storage.ref(t)).put(r,s)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ss.Dh),f.LFG(ss.xv,8),f.LFG(WI,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(sr.HU),f.LFG(KI,8),f.LFG(ZI,8),f.LFG(YI,8),f.LFG(dy,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),QI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})(),XI=(()=>{class n{constructor(){BA.Z.registerVersion("angularfire",sr.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[X_],imports:[QI]}),n})();var pa=k(4674),ga=k(5619),Zu=k(2737),GN=k(7103);function vp(...n){const e=(0,Bc.yG)(n),t=(0,Bc.jO)(n),{args:r,keys:s}=kb(n);if(0===r.length)return(0,Cn.D)([],e);const u=new Xa.y(function qN(n,e,t=Zu.y){return r=>{J_(e,()=>{const{length:s}=n,u=new Array(s);let c=s,g=s;for(let v=0;v<s;v++)J_(e,()=>{const I=(0,Cn.D)(n[v],e);let T=!1;I.subscribe((0,Ts.x)(r,P=>{u[v]=P,T||(T=!0,g--),g||r.next(t(u.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,s?c=>Ub(s,c):Zu.y));return t?u.pipe(Vb(t)):u}function J_(n,e,t){n?(0,GN.f)(t,n,e):e()}const ew=(0,k(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var St=k(7537);function tw(...n){return function HA(){return(0,St.J)(1)}()((0,Cn.D)(n,(0,Bc.yG)(n)))}function eC(n){return new Xa.y(e=>{(0,ih.Xf)(n()).subscribe(e)})}var Dh=k(8407);function _p(n,e){const t=(0,pa.m)(n)?n:()=>n,r=s=>s.error(t());return new Xa.y(e?s=>e.schedule(r,0,s):r)}var ma=k(6232),wp=k(7394);function or(){return(0,os.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Ts.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const s=n._connection,u=t;t=null,s&&(!u||s===u)&&s.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class zA extends Xa.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,os.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new wp.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Ts.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=wp.w0.EMPTY)}return e}refCount(){return or()(this)}}var Yl=k(8645);function nd(n){return n<=0?()=>ma.E:(0,os.e)((e,t)=>{let r=0;e.subscribe((0,Ts.x)(t,s=>{++r<=n&&(t.next(s),n<=r&&t.complete())}))})}function hy(...n){const e=(0,Bc.yG)(n);return(0,os.e)((t,r)=>{(e?tw(n,t,e):tw(n,t)).subscribe(r)})}function Ro(n,e){return(0,os.e)((t,r)=>{let s=0;t.subscribe((0,Ts.x)(r,u=>n.call(e,u,s++)&&r.next(u)))})}var $i=k(1631);function bp(n){return(0,os.e)((e,t)=>{let r=!1;e.subscribe((0,Ts.x)(t,s=>{r=!0,t.next(s)},()=>{r||t.next(n),t.complete()}))})}function nw(n=GA){return(0,os.e)((e,t)=>{let r=!1;e.subscribe((0,Ts.x)(t,s=>{r=!0,t.next(s)},()=>r?t.complete():t.error(n())))})}function GA(){return new ew}function Ql(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ro((s,u)=>n(s,u,r)):Zu.y,nd(1),t?bp(e):nw(()=>new ew))}function Ep(n,e){return(0,pa.m)(e)?(0,$i.z)(n,e,1):(0,$i.z)(n,1)}var qr=k(9397);function rd(n){return(0,os.e)((e,t)=>{let u,r=null,s=!1;r=e.subscribe((0,Ts.x)(t,void 0,void 0,c=>{u=(0,ih.Xf)(n(c,rd(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):s=!0})),s&&(r.unsubscribe(),r=null,u.subscribe(t))})}function fy(n,e){return(0,os.e)(function qA(n,e,t,r,s){return(u,c)=>{let g=t,v=e,I=0;u.subscribe((0,Ts.x)(c,T=>{const P=I++;v=g?n(v,T,P):(g=!0,T),r&&c.next(v)},s&&(()=>{g&&c.next(v),c.complete()})))}}(n,e,arguments.length>=2,!0))}function Sh(n){return n<=0?()=>ma.E:(0,os.e)((e,t)=>{let r=[];e.subscribe((0,Ts.x)(t,s=>{r.push(s),n<r.length&&r.shift()},()=>{for(const s of r)t.next(s);t.complete()},void 0,()=>{r=null}))})}function py(n){return(0,os.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const tn="primary",Yu=Symbol("RouteTitle");class Ip{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Th(n){return new Ip(n)}function WA(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const s={};for(let u=0;u<r.length;u++){const c=r[u],g=n[u];if(c.startsWith(":"))s[c.substring(1)]=g;else if(c!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:s}}function ya(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let s;for(let u=0;u<t.length;u++)if(s=t[u],!rw(n[s],e[s]))return!1;return!0}function rw(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((s,u)=>r[u]===s)}return n===e}function iw(n){return n.length>0?n[n.length-1]:null}function Xl(n){return function $A(n){return!!n&&(n instanceof Xa.y||(0,pa.m)(n.lift)&&(0,pa.m)(n.subscribe))}(n)?n:(0,f.QGY)(n)?(0,Cn.D)(Promise.resolve(n)):(0,Dt.of)(n)}const rC={exact:function ZA(n,e,t){if(!sd(n.segments,e.segments)||!id(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!ZA(n.children[r],e.children[r],t))return!1;return!0},subset:YA},iC={exact:function WN(n,e){return ya(n,e)},subset:function KN(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>rw(n[t],e[t]))},ignored:()=>!0};function sC(n,e,t){return rC[t.paths](n.root,e.root,t.matrixParams)&&iC[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function YA(n,e,t){return sw(n,e,e.segments,t)}function sw(n,e,t,r){if(n.segments.length>t.length){const s=n.segments.slice(0,t.length);return!(!sd(s,t)||e.hasChildren()||!id(s,t,r))}if(n.segments.length===t.length){if(!sd(n.segments,t)||!id(n.segments,t,r))return!1;for(const s in e.children)if(!n.children[s]||!YA(n.children[s],e.children[s],r))return!1;return!0}{const s=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(sd(n.segments,s)&&id(n.segments,s,r)&&n.children[tn])&&sw(n.children[tn],e,u,r)}}function id(n,e,t){return e.every((r,s)=>iC[t](n[s].parameters,r.parameters))}class Ah{constructor(e=new Fn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Th(this.queryParams)),this._queryParamMap}toString(){return ZN.serialize(this)}}class Fn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gy(this)}}class Mh{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Th(this.parameters)),this._parameterMap}toString(){return uw(this)}}function sd(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Dp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return new ow},providedIn:"root"}),n})();class ow{parse(e){const t=new lw(e);return new Ah(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${xh(e.root,!0)}`,r=function uC(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(s=>`${my(t)}=${my(s)}`).join("&"):`${my(t)}=${my(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Sp(n){return encodeURI(n)}(e.fragment)}`:""}`}}const ZN=new ow;function gy(n){return n.segments.map(e=>uw(e)).join("/")}function xh(n,e){if(!n.hasChildren())return gy(n);if(e){const t=n.children[tn]?xh(n.children[tn],!1):"",r=[];return Object.entries(n.children).forEach(([s,u])=>{s!==tn&&r.push(`${s}:${xh(u,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function QA(n,e){let t=[];return Object.entries(n.children).forEach(([r,s])=>{r===tn&&(t=t.concat(e(s,r)))}),Object.entries(n.children).forEach(([r,s])=>{r!==tn&&(t=t.concat(e(s,r)))}),t}(n,(r,s)=>s===tn?[xh(n.children[tn],!1)]:[`${s}:${xh(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[tn]?`${gy(n)}/${t[0]}`:`${gy(n)}/(${t.join("//")})`}}function oC(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function my(n){return oC(n).replace(/%3B/gi,";")}function aw(n){return oC(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tp(n){return decodeURIComponent(n)}function aC(n){return Tp(n.replace(/\+/g,"%20"))}function uw(n){return`${aw(n.path)}${function XA(n){return Object.keys(n).map(e=>`;${aw(e)}=${aw(n[e])}`).join("")}(n.parameters)}`}const JA=/^[^\/()?;#]+/;function Ap(n){const e=n.match(JA);return e?e[0]:""}const eM=/^[^\/()?;=#]+/,cC=/^[^=?&#]+/,nM=/^[^&#]+/;class lw{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Fn([],{}):new Fn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[tn]=new Fn(e,t)),r}parseSegment(){const e=Ap(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new f.vHH(4009,!1);return this.capture(e),new Mh(Tp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function lC(n){const e=n.match(eM);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=Ap(this.remaining);s&&(r=s,this.capture(r))}e[Tp(t)]=Tp(r)}parseQueryParam(e){const t=function tM(n){const e=n.match(cC);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function rM(n){const e=n.match(nM);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const s=aC(t),u=aC(r);if(e.hasOwnProperty(s)){let c=e[s];Array.isArray(c)||(c=[c],e[s]=c),c.push(u)}else e[s]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ap(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new f.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=tn);const c=this.parseChildren();t[u]=1===Object.keys(c).length?c[tn]:new Fn([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new f.vHH(4011,!1)}}function dC(n){return n.segments.length>0?new Fn([],{[tn]:n}):n}function cw(n){const e={};for(const r of Object.keys(n.children)){const u=cw(n.children[r]);if(r===tn&&0===u.segments.length&&u.hasChildren())for(const[c,g]of Object.entries(u.children))e[c]=g;else(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function iM(n){if(1===n.numberOfChildren&&n.children[tn]){const e=n.children[tn];return new Fn(n.segments.concat(e.segments),e.children)}return n}(new Fn(n.segments,e))}function od(n){return n instanceof Ah}function hC(n){let e;const s=dC(function t(u){const c={};for(const v of u.children){const I=t(v);c[v.outlet]=I}const g=new Fn(u.url,c);return u===n&&(e=g),g}(n.root));return e??s}function fC(n,e,t,r){let s=n;for(;s.parent;)s=s.parent;if(0===e.length)return dw(s,s,s,t,r);const u=function oM(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new fw(!0,0,n);let e=0,t=!1;const r=n.reduce((s,u,c)=>{if("object"==typeof u&&null!=u){if(u.outlets){const g={};return Object.entries(u.outlets).forEach(([v,I])=>{g[v]="string"==typeof I?I.split("/"):I}),[...s,{outlets:g}]}if(u.segmentPath)return[...s,u.segmentPath]}return"string"!=typeof u?[...s,u]:0===c?(u.split("/").forEach((g,v)=>{0==v&&"."===g||(0==v&&""===g?t=!0:".."===g?e++:""!=g&&s.push(g))}),s):[...s,u]},[]);return new fw(t,e,r)}(e);if(u.toRoot())return dw(s,s,new Fn([],{}),t,r);const c=function pC(n,e,t){if(n.isAbsolute)return new vy(e,!0,0);if(!t)return new vy(e,!1,NaN);if(null===t.parent)return new vy(t,!0,0);const r=yy(n.commands[0])?0:1;return function aM(n,e,t){let r=n,s=e,u=t;for(;u>s;){if(u-=s,r=r.parent,!r)throw new f.vHH(4005,!1);s=r.segments.length}return new vy(r,!1,s-u)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(u,s,n),g=c.processChildren?ad(c.segmentGroup,c.index,u.commands):gC(c.segmentGroup,c.index,u.commands);return dw(s,c.segmentGroup,g,t,r)}function yy(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Mp(n){return"object"==typeof n&&null!=n&&n.outlets}function dw(n,e,t,r,s){let c,u={};r&&Object.entries(r).forEach(([v,I])=>{u[v]=Array.isArray(I)?I.map(T=>`${T}`):`${I}`}),c=n===e?t:hw(n,e,t);const g=dC(cw(c));return new Ah(g,u,s)}function hw(n,e,t){const r={};return Object.entries(n.children).forEach(([s,u])=>{r[s]=u===e?t:hw(u,e,t)}),new Fn(n.segments,r)}class fw{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&yy(r[0]))throw new f.vHH(4003,!1);const s=r.find(Mp);if(s&&s!==iw(r))throw new f.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class vy{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function gC(n,e,t){if(n||(n=new Fn([],{})),0===n.segments.length&&n.hasChildren())return ad(n,e,t);const r=function pw(n,e,t){let r=0,s=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(r>=t.length)return u;const c=n.segments[s],g=t[r];if(Mp(g))break;const v=`${g}`,I=r<t.length-1?t[r+1]:null;if(s>0&&void 0===v)break;if(v&&I&&"object"==typeof I&&void 0===I.outlets){if(!yC(v,I,c))return u;r+=2}else{if(!yC(v,{},c))return u;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(n,e,t),s=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Fn(n.segments.slice(0,r.pathIndex),{});return u.children[tn]=new Fn(n.segments.slice(r.pathIndex),n.children),ad(u,0,s)}return r.match&&0===s.length?new Fn(n.segments,{}):r.match&&!n.hasChildren()?_y(n,e,t):r.match?ad(n,0,s):_y(n,e,t)}function ad(n,e,t){if(0===t.length)return new Fn(n.segments,{});{const r=function uM(n){return Mp(n[0])?n[0].outlets:{[tn]:n}}(t),s={};if(!r[tn]&&n.children[tn]&&1===n.numberOfChildren&&0===n.children[tn].segments.length){const u=ad(n.children[tn],e,t);return new Fn(n.segments,u.children)}return Object.entries(r).forEach(([u,c])=>{"string"==typeof c&&(c=[c]),null!==c&&(s[u]=gC(n.children[u],e,c))}),Object.entries(n.children).forEach(([u,c])=>{void 0===r[u]&&(s[u]=c)}),new Fn(n.segments,s)}}function _y(n,e,t){const r=n.segments.slice(0,e);let s=0;for(;s<t.length;){const u=t[s];if(Mp(u)){const v=gw(u.outlets);return new Fn(r,v)}if(0===s&&yy(t[0])){r.push(new Mh(n.segments[e].path,mC(t[0]))),s++;continue}const c=Mp(u)?u.outlets[tn]:`${u}`,g=s<t.length-1?t[s+1]:null;c&&g&&yy(g)?(r.push(new Mh(c,mC(g))),s+=2):(r.push(new Mh(c,{})),s++)}return new Fn(r,{})}function gw(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=_y(new Fn([],{}),0,r))}),e}function mC(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function yC(n,e,t){return n==t.path&&ya(e,t.parameters)}const ud="imperative";class uu{constructor(e,t){this.id=e,this.url=t}}class wy extends uu{constructor(e,t,r="imperative",s=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Po extends uu{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class xp extends uu{constructor(e,t,r,s){super(e,t),this.reason=r,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Rp extends uu{constructor(e,t,r,s){super(e,t),this.reason=r,this.code=s,this.type=16}}class vC extends uu{constructor(e,t,r,s){super(e,t),this.error=r,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class mw extends uu{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yw extends uu{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lM extends uu{constructor(e,t,r,s,u){super(e,t),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _C extends uu{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wC extends uu{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cM{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bC{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vw{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class EC{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class IC{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CC{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _w{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class dM{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Pp,this.attachRef=null}}let Pp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const s=this.getOrCreateContext(t);s.outlet=r,this.contexts.set(t,s)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new dM,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class DC{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=by(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=by(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=SC(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return SC(e,this._root).map(t=>t.value)}}function by(n,e){if(n===e.value)return e;for(const t of e.children){const r=by(n,t);if(r)return r}return null}function SC(n,e){if(n===e.value)return[e];for(const t of e.children){const r=SC(n,t);if(r.length)return r.unshift(e),r}return[]}class lu{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Rh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class TC extends DC{constructor(e,t){super(e),this.snapshot=t,ww(this,e)}toString(){return this.snapshot.toString()}}function hM(n,e){const t=function fM(n,e){const c=new Ey([],{},{},"",{},tn,e,null,{});return new MC("",new lu(c,[]))}(0,e),r=new ga.X([new Mh("",{})]),s=new ga.X({}),u=new ga.X({}),c=new ga.X({}),g=new ga.X(""),v=new Ph(r,s,c,g,u,tn,e,t.root);return v.snapshot=t.root,new TC(new lu(v,[]),t)}class Ph{constructor(e,t,r,s,u,c,g,v){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=s,this.dataSubject=u,this.outlet=c,this.component=g,this._futureSnapshot=v,this.title=this.dataSubject?.pipe((0,rn.U)(I=>I[Yu]))??(0,Dt.of)(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,rn.U)(e=>Th(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,rn.U)(e=>Th(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function AC(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const s=t[r],u=t[r-1];if(s.routeConfig&&""===s.routeConfig.path)r--;else{if(u.component)break;r--}}return function pM(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Ey{get title(){return this.data?.[Yu]}constructor(e,t,r,s,u,c,g,v,I){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=c,this.component=g,this.routeConfig=v,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Th(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Th(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class MC extends DC{constructor(e,t){super(t),this.url=e,ww(this,t)}toString(){return xC(this._root)}}function ww(n,e){e.value._routerState=n,e.children.forEach(t=>ww(n,t))}function xC(n){const e=n.children.length>0?` { ${n.children.map(xC).join(", ")} } `:"";return`${n.value}${e}`}function bw(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ya(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),ya(e.params,t.params)||n.paramsSubject.next(t.params),function KA(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ya(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),ya(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Ew(n,e){const t=ya(n.params,e.params)&&function Cp(n,e){return sd(n,e)&&n.every((t,r)=>ya(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Ew(n.parent,e.parent))}let Iy=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=tn,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.parentContexts=(0,f.f3M)(Pp),this.location=(0,f.f3M)(f.s_b),this.changeDetector=(0,f.f3M)(f.sBO),this.environmentInjector=(0,f.f3M)(f.lqb),this.inputBinder=(0,f.f3M)(Jl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:s}=t.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new f.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new f.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new f.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new f.vHH(4013,!1);this._activatedRoute=t;const s=this.location,c=t.snapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,v=new gM(t,g,s.injector);this.activated=s.createComponent(c,{index:s.length,injector:v,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[f.TTD]}),n})();class gM{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ph?this.route:e===Pp?this.childContexts:this.parent.get(e,t)}}const Jl=new f.OlP("");let Iw=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,s=vp([r.queryParams,r.params,r.data]).pipe((0,kr.w)(([u,c,g],v)=>(g={...u,...c,...g},0===v?(0,Dt.of)(g):Promise.resolve(g)))).subscribe(u=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const c=(0,f.qFp)(r.component);if(c)for(const{templateName:g}of c.inputs)t.activatedComponentRef.setInput(g,u[g]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function Nh(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const s=function PC(n,e,t){return e.children.map(r=>{for(const s of t.children)if(n.shouldReuseRoute(r.value,s.value.snapshot))return Nh(n,r,s);return Nh(n,r)})}(n,e,t);return new lu(r,s)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const c=u.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(g=>Nh(n,g)),c}}const r=function NC(n){return new Ph(new ga.X(n.url),new ga.X(n.params),new ga.X(n.queryParams),new ga.X(n.fragment),new ga.X(n.data),n.outlet,n.component,n)}(e.value),s=e.children.map(u=>Nh(n,u));return new lu(r,s)}}const Cw="ngNavigationCancelingError";function OC(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=od(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,s=mM(!1,0,e);return s.url=t,s.navigationBehaviorOptions=r,s}function mM(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Cw]=!0,r.cancellationCode=e,t&&(r.url=t),r}function yM(n){return kC(n)&&od(n.url)}function kC(n){return n&&n[Cw]}let FC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[f.jDz],decls:1,vars:0,template:function(t,r){1&t&&f._UZ(0,"router-outlet")},dependencies:[Iy],encapsulation:2}),n})();function ld(n){const e=n.children&&n.children.map(ld),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==tn&&(t.component=FC),t}function va(n){return n.outlet||tn}function Np(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class bM{constructor(e,t,r,s,u){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=s,this.inputBindingEnabled=u}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),bw(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const s=Rh(t);e.children.forEach(u=>{const c=u.value.outlet;this.deactivateRoutes(u,s[c],r),delete s[c]}),Object.values(s).forEach(u=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(s===u)if(s.component){const c=r.getContext(s.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=Rh(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],s);if(r&&r.outlet){const c=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=Rh(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],s);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const s=Rh(t);e.children.forEach(u=>{this.activateRoutes(u,s[u.value.outlet],r),this.forwardEvent(new CC(u.value.snapshot))}),e.children.length&&this.forwardEvent(new EC(e.value.snapshot))}activateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(bw(s),s===u)if(s.component){const c=r.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(s.component){const c=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const g=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),c.children.onOutletReAttached(g.contexts),c.attachRef=g.componentRef,c.route=g.route.value,c.outlet&&c.outlet.attach(g.componentRef,g.route.value),bw(g.route.value),this.activateChildRoutes(e,null,c.children)}else{const g=Np(s.snapshot);c.attachRef=null,c.route=s,c.injector=g,c.outlet&&c.outlet.activateWith(s,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class VC{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Oh{constructor(e,t){this.component=e,this.route=t}}function EM(n,e,t){const r=n._root;return Op(r,e?e._root:null,t,[r.value])}function cd(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,f.Z0I)(n)?e.get(n):n:r}function Op(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=Rh(e);return n.children.forEach(c=>{(function CM(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,c=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(c&&u.routeConfig===c.routeConfig){const v=function UC(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!sd(n.url,e.url);case"pathParamsOrQueryParamsChange":return!sd(n.url,e.url)||!ya(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ew(n,e)||!ya(n.queryParams,e.queryParams);default:return!Ew(n,e)}}(c,u,u.routeConfig.runGuardsAndResolvers);v?s.canActivateChecks.push(new VC(r)):(u.data=c.data,u._resolvedData=c._resolvedData),Op(n,e,u.component?g?g.children:null:t,r,s),v&&g&&g.outlet&&g.outlet.isActivated&&s.canDeactivateChecks.push(new Oh(g.outlet.component,c))}else c&&ec(e,g,s),s.canActivateChecks.push(new VC(r)),Op(n,null,u.component?g?g.children:null:t,r,s)})(c,u[c.value.outlet],t,r.concat([c.value]),s),delete u[c.value.outlet]}),Object.entries(u).forEach(([c,g])=>ec(g,t.getContext(c),s)),s}function ec(n,e,t){const r=Rh(n),s=n.value;Object.entries(r).forEach(([u,c])=>{ec(c,s.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Oh(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}function kp(n){return"function"==typeof n}function zC(n){return n instanceof ew||"EmptyError"===n?.name}const Dy=Symbol("INITIAL_VALUE");function tc(){return(0,kr.w)(n=>vp(n.map(e=>e.pipe(nd(1),hy(Dy)))).pipe((0,rn.U)(e=>{for(const t of e)if(!0!==t){if(t===Dy)return Dy;if(!1===t||t instanceof Ah)return t}return!0}),Ro(e=>e!==Dy),nd(1)))}function Sy(n){return(0,Dh.z)((0,qr.b)(e=>{if(od(e))throw OC(0,e)}),(0,rn.U)(e=>!0===e))}class Ty{constructor(e){this.segmentGroup=e||null}}class Pw{constructor(e){this.urlTree=e}}function dd(n){return _p(new Ty(n))}function KC(n){return _p(new Pw(n))}class PM{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new f.vHH(4002,!1)}lineralizeSegments(e,t){let r=[],s=t.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return(0,Dt.of)(r);if(s.numberOfChildren>1||!s.children[tn])return _p(new f.vHH(4e3,!1));s=s.children[tn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,s){const u=this.createSegmentGroup(e,t.root,r,s);return new Ah(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([s,u])=>{if("string"==typeof u&&u.startsWith(":")){const g=u.substring(1);r[s]=t[g]}else r[s]=u}),r}createSegmentGroup(e,t,r,s){const u=this.createSegments(e,t.segments,r,s);let c={};return Object.entries(t.children).forEach(([g,v])=>{c[g]=this.createSegmentGroup(e,v,r,s)}),new Fn(u,c)}createSegments(e,t,r,s){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,s):this.findOrReturn(u,r))}findPosParam(e,t,r){const s=r[t.path.substring(1)];if(!s)throw new f.vHH(4001,!1);return s}findOrReturn(e,t){let r=0;for(const s of t){if(s.path===e.path)return t.splice(r),s;r++}return e}}const Ay={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function NM(n,e,t,r,s){const u=Ti(n,e,t);return u.matched?(r=function vM(n,e){return n.providers&&!n._injector&&(n._injector=(0,f.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function WC(n,e,t,r){const s=e.canMatch;if(!s||0===s.length)return(0,Dt.of)(!0);const u=s.map(c=>{const g=cd(c,n);return Xl(function SM(n){return n&&kp(n.canMatch)}(g)?g.canMatch(e,t):n.runInContext(()=>g(e,t)))});return(0,Dt.of)(u).pipe(tc(),Sy())}(r,e,t).pipe((0,rn.U)(c=>!0===c?u:{...Ay}))):(0,Dt.of)(u)}function Ti(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Ay}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||WA)(t,n,e);if(!s)return{...Ay};const u={};Object.entries(s.posParams??{}).forEach(([g,v])=>{u[g]=v.path});const c=s.consumed.length>0?{...u,...s.consumed[s.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:c,positionalParamSegments:s.posParams??{}}}function hd(n,e,t,r){return t.length>0&&function eO(n,e,t){return t.some(r=>Fp(n,e,r)&&va(r)!==tn)}(n,t,r)?{segmentGroup:new Fn(e,kM(r,new Fn(t,n.children))),slicedSegments:[]}:0===t.length&&function tO(n,e,t){return t.some(r=>Fp(n,e,r))}(n,t,r)?{segmentGroup:new Fn(n.segments,OM(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Fn(n.segments,n.children),slicedSegments:t}}function OM(n,e,t,r,s){const u={};for(const c of r)if(Fp(n,t,c)&&!s[va(c)]){const g=new Fn([],{});u[va(c)]=g}return{...s,...u}}function kM(n,e){const t={};t[tn]=e;for(const r of n)if(""===r.path&&va(r)!==tn){const s=new Fn([],{});t[va(r)]=s}return t}function Fp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class Ow{constructor(e,t,r,s,u,c,g){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=s,this.urlTree=u,this.paramsInheritanceStrategy=c,this.urlSerializer=g,this.allowRedirects=!0,this.applyRedirects=new PM(this.urlSerializer,this.urlTree)}noMatchError(e){return new f.vHH(4002,!1)}recognize(){const e=hd(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,tn).pipe(rd(t=>{if(t instanceof Pw)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Ty?this.noMatchError(t):t}),(0,rn.U)(t=>{const r=new Ey([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},tn,this.rootComponentType,null,{}),s=new lu(r,t),u=new MC("",s),c=function sM(n,e,t=null,r=null){return fC(hC(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return c.queryParams=this.urlTree.queryParams,u.url=this.urlSerializer.serialize(c),this.inheritParamsAndData(u._root),{state:u,tree:c}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,tn).pipe(rd(r=>{throw r instanceof Ty?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=AC(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,s,!0)}processChildren(e,t,r){const s=[];for(const u of Object.keys(r.children))"primary"===u?s.unshift(u):s.push(u);return(0,Cn.D)(s).pipe(Ep(u=>{const c=r.children[u],g=function wM(n,e){const t=n.filter(r=>va(r)===e);return t.push(...n.filter(r=>va(r)!==e)),t}(t,u);return this.processSegmentGroup(e,g,c,u)}),fy((u,c)=>(u.push(...c),u)),bp(null),function tC(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ro((s,u)=>n(s,u,r)):Zu.y,Sh(1),t?bp(e):nw(()=>new ew))}(),(0,$i.z)(u=>{if(null===u)return dd(r);const c=XC(u);return function LM(n){n.sort((e,t)=>e.value.outlet===tn?-1:t.value.outlet===tn?1:e.value.outlet.localeCompare(t.value.outlet))}(c),(0,Dt.of)(c)}))}processSegment(e,t,r,s,u,c){return(0,Cn.D)(t).pipe(Ep(g=>this.processSegmentAgainstRoute(g._injector??e,t,g,r,s,u,c).pipe(rd(v=>{if(v instanceof Ty)return(0,Dt.of)(null);throw v}))),Ql(g=>!!g),rd(g=>{if(zC(g))return function Lp(n,e,t){return 0===e.length&&!n.children[t]}(r,s,u)?(0,Dt.of)([]):dd(r);throw g}))}processSegmentAgainstRoute(e,t,r,s,u,c,g){return function Nw(n,e,t,r){return!!(va(n)===r||r!==tn&&Fp(e,t,n))&&("**"===n.path||Ti(e,n,t).matched)}(r,s,u,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,s,r,u,c,g):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,s,t,r,u,c):dd(s):dd(s)}expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,c){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,s,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,s){const u=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?KC(u):this.applyRedirects.lineralizeSegments(r,u).pipe((0,$i.z)(c=>{const g=new Fn(c,{});return this.processSegment(e,t,g,c,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,c){const{matched:g,consumedSegments:v,remainingSegments:I,positionalParamSegments:T}=Ti(t,s,u);if(!g)return dd(t);const P=this.applyRedirects.applyRedirectCommands(v,s.redirectTo,T);return s.redirectTo.startsWith("/")?KC(P):this.applyRedirects.lineralizeSegments(s,P).pipe((0,$i.z)($=>this.processSegment(e,r,t,$.concat(I),c,!1)))}matchSegmentAgainstRoute(e,t,r,s,u,c){let g;if("**"===r.path){const v=s.length>0?iw(s).parameters:{},I=new Ey(s,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,JC(r),va(r),r.component??r._loadedComponent??null,r,My(r));g=(0,Dt.of)({snapshot:I,consumedSegments:[],remainingSegments:[]}),t.children={}}else g=NM(t,r,s,e).pipe((0,rn.U)(({matched:v,consumedSegments:I,remainingSegments:T,parameters:P})=>v?{snapshot:new Ey(I,P,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,JC(r),va(r),r.component??r._loadedComponent??null,r,My(r)),consumedSegments:I,remainingSegments:T}:null));return g.pipe((0,kr.w)(v=>null===v?dd(t):this.getChildConfig(e=r._injector??e,r,s).pipe((0,kr.w)(({routes:I})=>{const T=r._loadedInjector??e,{snapshot:P,consumedSegments:$,remainingSegments:K}=v,{segmentGroup:Q,slicedSegments:de}=hd(t,$,K,I);if(0===de.length&&Q.hasChildren())return this.processChildren(T,I,Q).pipe((0,rn.U)(it=>null===it?null:[new lu(P,it)]));if(0===I.length&&0===de.length)return(0,Dt.of)([new lu(P,[])]);const Me=va(r)===u;return this.processSegment(T,I,Q,de,Me?tn:u,!0).pipe((0,rn.U)(it=>[new lu(P,it)]))}))))}getChildConfig(e,t,r){return t.children?(0,Dt.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,Dt.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function qC(n,e,t,r){const s=e.canLoad;if(void 0===s||0===s.length)return(0,Dt.of)(!0);const u=s.map(c=>{const g=cd(c,n);return Xl(function BC(n){return n&&kp(n.canLoad)}(g)?g.canLoad(e,t):n.runInContext(()=>g(e,t)))});return(0,Dt.of)(u).pipe(tc(),Sy())}(e,t,r).pipe((0,$i.z)(s=>s?this.configLoader.loadChildren(e,t).pipe((0,qr.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function YC(n){return _p(mM(!1,3))}())):(0,Dt.of)({routes:[],injector:e})}}function QC(n){const e=n.value.routeConfig;return e&&""===e.path}function XC(n){const e=[],t=new Set;for(const r of n){if(!QC(r)){e.push(r);continue}const s=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==s?(s.children.push(...r.children),t.add(s)):e.push(r)}for(const r of t){const s=XC(r.children);e.push(new lu(r.value,s))}return e.filter(r=>!t.has(r))}function JC(n){return n.data||{}}function My(n){return n.resolve||{}}function nD(n){return"string"==typeof n.title||null===n.title}function Ry(n){return(0,kr.w)(e=>{const t=n(e);return t?(0,Cn.D)(t).pipe((0,rn.U)(()=>e)):(0,Dt.of)(e)})}const _a=new f.OlP("ROUTES");let Fw=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,f.f3M)(f.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,Dt.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Xl(t.loadComponent()).pipe((0,rn.U)(Py),(0,qr.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),py(()=>{this.componentLoaders.delete(t)})),s=new zA(r,()=>new Yl.x).pipe(or());return this.componentLoaders.set(t,s),s}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,Dt.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,rn.U)(g=>{this.onLoadEndListener&&this.onLoadEndListener(r);let v,I;return Array.isArray(g)?I=g:(v=g.create(t).injector,I=v.get(_a,[],f.XFs.Self|f.XFs.Optional).flat()),{routes:I.map(ld),injector:v}}),py(()=>{this.childrenLoaders.delete(r)})),c=new zA(u,()=>new Yl.x).pipe(or());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return Xl(t()).pipe((0,rn.U)(Py),(0,$i.z)(r=>r instanceof f.YKP||Array.isArray(r)?(0,Dt.of)(r):(0,Cn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Py(n){return function rD(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Lw=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Yl.x,this.configLoader=(0,f.f3M)(Fw),this.environmentInjector=(0,f.f3M)(f.lqb),this.urlSerializer=(0,f.f3M)(Dp),this.rootContexts=(0,f.f3M)(Pp),this.inputBindingEnabled=null!==(0,f.f3M)(Jl,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Dt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new bC(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new cM(s))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new ga.X({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ud,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ro(r=>0!==r.id),(0,rn.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),(0,kr.w)(r=>{let s=!1,u=!1;return(0,Dt.of)(r).pipe((0,qr.b)(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,kr.w)(c=>{const g=t.browserUrlTree.toString(),v=!t.navigated||c.extractedUrl.toString()!==g||g!==t.currentUrlTree.toString();if(!v&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const T="";return this.events.next(new Rp(c.id,t.serializeUrl(r.rawUrl),T,0)),t.rawUrlTree=c.rawUrl,c.resolve(null),ma.E}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return iD(c.source)&&(t.browserUrlTree=c.extractedUrl),(0,Dt.of)(c).pipe((0,kr.w)(T=>{const P=this.transitions?.getValue();return this.events.next(new wy(T.id,this.urlSerializer.serialize(T.extractedUrl),T.source,T.restoredState)),P!==this.transitions?.getValue()?ma.E:Promise.resolve(T)}),function eD(n,e,t,r,s,u){return(0,$i.z)(c=>function FM(n,e,t,r,s,u,c="emptyOnly"){return new Ow(n,e,t,r,s,c,u).recognize()}(n,e,t,r,c.extractedUrl,s,u).pipe((0,rn.U)(({state:g,tree:v})=>({...c,targetSnapshot:g,urlAfterRedirects:v}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,qr.b)(T=>{if(r.targetSnapshot=T.targetSnapshot,r.urlAfterRedirects=T.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:T.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!T.extras.skipLocationChange){const $=t.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);t.setBrowserUrl($,T)}t.browserUrlTree=T.urlAfterRedirects}const P=new mw(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(P)}));if(v&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:T,extractedUrl:P,source:$,restoredState:K,extras:Q}=c,de=new wy(T,this.urlSerializer.serialize(P),$,K);this.events.next(de);const Me=hM(0,this.rootComponentType).snapshot;return r={...c,targetSnapshot:Me,urlAfterRedirects:P,extras:{...Q,skipLocationChange:!1,replaceUrl:!1}},(0,Dt.of)(r)}{const T="";return this.events.next(new Rp(c.id,t.serializeUrl(r.extractedUrl),T,1)),t.rawUrlTree=c.rawUrl,c.resolve(null),ma.E}}),(0,qr.b)(c=>{const g=new yw(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(g)}),(0,rn.U)(c=>r={...c,guards:EM(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function Mw(n,e){return(0,$i.z)(t=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:u,canDeactivateChecks:c}}=t;return 0===c.length&&0===u.length?(0,Dt.of)({...t,guardsResult:!0}):function GC(n,e,t,r){return(0,Cn.D)(n).pipe((0,$i.z)(s=>function RM(n,e,t,r,s){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,Dt.of)(!0);const c=u.map(g=>{const v=Np(e)??s,I=cd(g,v);return Xl(function $C(n){return n&&kp(n.canDeactivate)}(I)?I.canDeactivate(n,e,t,r):v.runInContext(()=>I(n,e,t,r))).pipe(Ql())});return(0,Dt.of)(c).pipe(tc())}(s.component,s.route,t,e,r)),Ql(s=>!0!==s,!0))}(c,r,s,n).pipe((0,$i.z)(g=>g&&function DM(n){return"boolean"==typeof n}(g)?function xw(n,e,t,r){return(0,Cn.D)(e).pipe(Ep(s=>tw(function AM(n,e){return null!==n&&e&&e(new vw(n)),(0,Dt.of)(!0)}(s.route.parent,r),function Rw(n,e){return null!==n&&e&&e(new IC(n)),(0,Dt.of)(!0)}(s.route,r),function xM(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(c=>function IM(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>eC(()=>{const g=c.guards.map(v=>{const I=Np(c.node)??t,T=cd(v,I);return Xl(function Aw(n){return n&&kp(n.canActivateChild)}(T)?T.canActivateChild(r,n):I.runInContext(()=>T(r,n))).pipe(Ql())});return(0,Dt.of)(g).pipe(tc())}));return(0,Dt.of)(u).pipe(tc())}(n,s.path,t),function MM(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Dt.of)(!0);const s=r.map(u=>eC(()=>{const c=Np(e)??t,g=cd(u,c);return Xl(function jC(n){return n&&kp(n.canActivate)}(g)?g.canActivate(e,n):c.runInContext(()=>g(e,n))).pipe(Ql())}));return(0,Dt.of)(s).pipe(tc())}(n,s.route,t))),Ql(s=>!0!==s,!0))}(r,u,n,e):(0,Dt.of)(g)),(0,rn.U)(g=>({...t,guardsResult:g})))})}(this.environmentInjector,c=>this.events.next(c)),(0,qr.b)(c=>{if(r.guardsResult=c.guardsResult,od(c.guardsResult))throw OC(0,c.guardsResult);const g=new lM(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(g)}),Ro(c=>!!c.guardsResult||(t.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),Ry(c=>{if(c.guards.canActivateChecks.length)return(0,Dt.of)(c).pipe((0,qr.b)(g=>{const v=new _C(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(v)}),(0,kr.w)(g=>{let v=!1;return(0,Dt.of)(g).pipe(function VM(n,e){return(0,$i.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=t;if(!s.length)return(0,Dt.of)(t);let u=0;return(0,Cn.D)(s).pipe(Ep(c=>function xy(n,e,t,r){const s=n.routeConfig,u=n._resolve;return void 0!==s?.title&&!nD(s)&&(u[Yu]=s.title),function kw(n,e,t,r){const s=function rO(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===s.length)return(0,Dt.of)({});const u={};return(0,Cn.D)(s).pipe((0,$i.z)(c=>function tD(n,e,t,r){const s=Np(e)??r,u=cd(n,s);return Xl(u.resolve?u.resolve(e,t):s.runInContext(()=>u(e,t)))}(n[c],e,t,r).pipe(Ql(),(0,qr.b)(g=>{u[c]=g}))),Sh(1),function nC(n){return(0,rn.U)(()=>n)}(u),rd(c=>zC(c)?ma.E:_p(c)))}(u,n,e,r).pipe((0,rn.U)(c=>(n._resolvedData=c,n.data=AC(n,t).resolve,s&&nD(s)&&(n.data[Yu]=s.title),null)))}(c.route,r,n,e)),(0,qr.b)(()=>u++),Sh(1),(0,$i.z)(c=>u===s.length?(0,Dt.of)(t):ma.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,qr.b)({next:()=>v=!0,complete:()=>{v||(t.restoreHistory(g),this.cancelNavigationTransition(g,"",2))}}))}),(0,qr.b)(g=>{const v=new wC(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(v)}))}),Ry(c=>{const g=v=>{const I=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&I.push(this.configLoader.loadComponent(v.routeConfig).pipe((0,qr.b)(T=>{v.component=T}),(0,rn.U)(()=>{})));for(const T of v.children)I.push(...g(T));return I};return vp(g(c.targetSnapshot.root)).pipe(bp(),nd(1))}),Ry(()=>this.afterPreactivation()),(0,rn.U)(c=>{const g=function RC(n,e,t){const r=Nh(n,e._root,t?t._root:void 0);return new TC(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return r={...c,targetRouterState:g}}),(0,qr.b)(c=>{t.currentUrlTree=c.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),t.routerState=c.targetRouterState,"deferred"===t.urlUpdateStrategy&&(c.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,c),t.browserUrlTree=c.urlAfterRedirects)}),((n,e,t,r)=>(0,rn.U)(s=>(new bM(e,s.targetRouterState,s.currentRouterState,t,r).activate(n),s)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),nd(1),(0,qr.b)({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Po(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),py(()=>{s||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),rd(c=>{if(u=!0,kC(c)){yM(c)||(t.navigated=!0,t.restoreHistory(r,!0));const g=new xp(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode);if(this.events.next(g),yM(c)){const v=t.urlHandlingStrategy.merge(c.url,t.rawUrlTree),I={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||iD(r.source)};t.scheduleNavigation(v,ud,null,I,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const g=new vC(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);this.events.next(g);try{r.resolve(t.errorHandler(c))}catch(v){r.reject(v)}}return ma.E}))}))}cancelNavigationTransition(t,r,s){const u=new xp(t.id,this.urlSerializer.serialize(t.extractedUrl),r,s);this.events.next(u),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function iD(n){return n!==ud}let UM=(()=>{class n{buildTitle(t){let r,s=t.root;for(;void 0!==s;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(u=>u.outlet===tn);return r}getResolvedTitleForRoute(t){return t.data[Yu]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return(0,f.f3M)(BM)},providedIn:"root"}),n})(),BM=(()=>{class n extends UM{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Cc))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return(0,f.f3M)(sD)},providedIn:"root"}),n})();class $M{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let sD=(()=>{class n extends $M{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Vp=new f.OlP("",{providedIn:"root",factory:()=>({})});let HM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return(0,f.f3M)(oD)},providedIn:"root"}),n})(),oD=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Ms=(()=>((Ms=Ms||{})[Ms.COMPLETE=0]="COMPLETE",Ms[Ms.FAILED=1]="FAILED",Ms[Ms.REDIRECTING=2]="REDIRECTING",Ms))();function aD(n,e){n.events.pipe(Ro(t=>t instanceof Po||t instanceof xp||t instanceof vC||t instanceof Rp),(0,rn.U)(t=>t instanceof Po||t instanceof Rp?Ms.COMPLETE:t instanceof xp&&(0===t.code||1===t.code)?Ms.REDIRECTING:Ms.FAILED),Ro(t=>t!==Ms.REDIRECTING),nd(1)).subscribe(()=>{e()})}function zM(n){throw n}function uD(n,e,t){return e.parse("/")}const GM={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Js=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,f.f3M)(f.c2e),this.isNgZoneEnabled=!1,this.options=(0,f.f3M)(Vp,{optional:!0})||{},this.pendingTasks=(0,f.f3M)(f.HDt),this.errorHandler=this.options.errorHandler||zM,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||uD,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,f.f3M)(HM),this.routeReuseStrategy=(0,f.f3M)(jM),this.titleStrategy=(0,f.f3M)(UM),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,f.f3M)(_a,{optional:!0})?.flat()??[],this.navigationTransitions=(0,f.f3M)(Lw),this.urlSerializer=(0,f.f3M)(Dp),this.location=(0,f.f3M)(Ze),this.componentInputBindingEnabled=!!(0,f.f3M)(Jl,{optional:!0}),this.isNgZoneEnabled=(0,f.f3M)(f.R0b)instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ah,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=hM(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ud,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,s){const u={replaceUrl:!0},c=s?.navigationId?s:null;if(s){const v={...s};delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(u.state=v)}const g=this.parseUrl(t);this.scheduleNavigation(g,r,c,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(ld),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:s,queryParams:u,fragment:c,queryParamsHandling:g,preserveFragment:v}=r,I=v?this.currentUrlTree.fragment:c;let P,T=null;switch(g){case"merge":T={...this.currentUrlTree.queryParams,...u};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=u||null}null!==T&&(T=this.removeEmptyProps(T));try{P=hC(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),P=this.currentUrlTree.root}return fC(P,t,T,I??null)}navigateByUrl(t,r={skipLocationChange:!1}){const s=od(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(u,ud,null,r)}navigate(t,r={skipLocationChange:!1}){return function cD(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new f.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(s){r=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return r}isActive(t,r){let s;if(s=!0===r?{...GM}:!1===r?{...lD}:r,od(t))return sC(this.currentUrlTree,t,s);const u=this.parseUrl(t);return sC(this.currentUrlTree,u,s)}removeEmptyProps(t){return Object.keys(t).reduce((r,s)=>{const u=t[s];return null!=u&&(r[s]=u),r},{})}scheduleNavigation(t,r,s,u,c){if(this.disposed)return Promise.resolve(!1);let g,v,I;c?(g=c.resolve,v=c.reject,I=c.promise):I=new Promise((P,$)=>{g=P,v=$});const T=this.pendingTasks.add();return aD(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(T))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:u,resolve:g,reject:v,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(P=>Promise.reject(P))}setBrowserUrl(t,r){const s=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){const c={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(s,"",c)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(s,"",u)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-(this.browserPageId??this.currentPageId);0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class KM{}let iO=(()=>{class n{constructor(t,r,s,u,c){this.router=t,this.injector=s,this.preloadingStrategy=u,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Ro(t=>t instanceof Po),Ep(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const s=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,f.MMx)(u.providers,t,`Route: ${u.path}`));const c=u._injector??t,g=u._loadedInjector??c;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&s.push(this.preloadConfig(c,u)),(u.children||u._loadedRoutes)&&s.push(this.processRoutes(g,u.children??u._loadedRoutes))}return(0,Cn.D)(s).pipe((0,St.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let s;s=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,Dt.of)(null);const u=s.pipe((0,$i.z)(c=>null===c?(0,Dt.of)(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,Cn.D)([u,c]).pipe((0,St.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Js),f.LFG(f.Sil),f.LFG(f.lqb),f.LFG(KM),f.LFG(Fw))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dD=new f.OlP("");let YM=(()=>{class n{constructor(t,r,s,u,c={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=s,this.zone=u,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof wy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Po?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Rp&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof _w&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new _w(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){f.$Z()},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function nc(n,e){return{\u0275kind:n,\u0275providers:e}}function Vw(){const n=(0,f.f3M)(f.zs3);return e=>{const t=n.get(f.z2F);if(e!==t.components[0])return;const r=n.get(Js),s=n.get(fD);1===n.get(kh)&&r.initialNavigation(),n.get(ex,null,f.XFs.Optional)?.setUpPreloading(),n.get(dD,null,f.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const fD=new f.OlP("",{factory:()=>new Yl.x}),kh=new f.OlP("",{providedIn:"root",factory:()=>1}),ex=new f.OlP("");function pD(n){return nc(0,[{provide:ex,useExisting:iO},{provide:KM,useExisting:n}])}const Uw=new f.OlP("ROUTER_FORROOT_GUARD"),gD=[Ze,{provide:Dp,useClass:ow},Js,Pp,{provide:Ph,useFactory:function QM(n){return n.routerState.root},deps:[Js]},Fw,[]];function hO(){return new f.PXZ("Router",Js)}let No=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[gD,[],{provide:_a,multi:!0,useValue:t},{provide:Uw,useFactory:us,deps:[[Js,new f.FiY,new f.tp0]]},{provide:Vp,useValue:r||{}},r?.useHash?{provide:Be,useClass:Oe}:{provide:Be,useClass:Ke},{provide:dD,useFactory:()=>{const n=(0,f.f3M)(qo),e=(0,f.f3M)(f.R0b),t=(0,f.f3M)(Vp),r=(0,f.f3M)(Lw),s=(0,f.f3M)(Dp);return t.scrollOffset&&n.setOffset(t.scrollOffset),new YM(s,r,n,e,t)}},r?.preloadingStrategy?pD(r.preloadingStrategy).\u0275providers:[],{provide:f.PXZ,multi:!0,useFactory:hO},r?.initialNavigation?nx(r):[],r?.bindToComponentInputs?nc(8,[Iw,{provide:Jl,useExisting:Iw}]).\u0275providers:[],[{provide:Oy,useFactory:Vw},{provide:f.tb,multi:!0,useExisting:Oy}]]}}static forChild(t){return{ngModule:n,providers:[{provide:_a,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Uw,8))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();function us(n){return"guarded"}function nx(n){return["disabled"===n.initialNavigation?nc(3,[{provide:f.ip1,multi:!0,useFactory:()=>{const e=(0,f.f3M)(Js);return()=>{e.setUpLocationChangeListener()}}},{provide:kh,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?nc(2,[{provide:kh,useValue:0},{provide:f.ip1,multi:!0,deps:[f.zs3],useFactory:e=>{const t=e.get(Ae,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const s=e.get(Js),u=e.get(fD);aD(s,()=>{r(!0)}),e.get(Lw).afterPreactivation=()=>(r(!0),u.closed?(0,Dt.of)(void 0):u),s.initialNavigation()}))}}]).\u0275providers:[]]}const Oy=new f.OlP(""),vD=[];let _D=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[No.forRoot(vD),No]}),n})(),wD=(()=>{class n{constructor(t,r){this.elementRef=t,this.renderer=r,this.isHeaderSticky=!1,this.currentSection=""}scrollToSection(t){const r=document.getElementById(t);r?(setTimeout(()=>{r.scrollIntoView({behavior:"smooth"})},400),this.currentSection=t):console.error("Element not found:",t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(f.Qsj))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-header"]],decls:18,vars:8,consts:[[1,"navbar"],[1,"container"],["src","assets/img/icon.png"],[1,"menu"],[3,"click"]],template:function(t,r){1&t&&(f.TgZ(0,"nav",0)(1,"div",1)(2,"span"),f._UZ(3,"img",2),f.qZA(),f.TgZ(4,"ul",3)(5,"li")(6,"a",4),f.NdJ("click",function(){return r.scrollToSection("about")}),f._uU(7,"About"),f.qZA()(),f.TgZ(8,"li")(9,"a",4),f.NdJ("click",function(){return r.scrollToSection("skills")}),f._uU(10,"Skills"),f.qZA()(),f.TgZ(11,"li")(12,"a",4),f.NdJ("click",function(){return r.scrollToSection("experience")}),f._uU(13,"Projects"),f.qZA()(),f.TgZ(14,"li")(15,"a",4),f.NdJ("click",function(){return r.scrollToSection("contact")}),f._uU(16,"Contact me"),f.qZA()()()(),f._UZ(17,"router-outlet"),f.qZA()),2&t&&(f.xp6(6),f.ekj("active","about"===r.currentSection),f.xp6(3),f.ekj("active","skills"===r.currentSection),f.xp6(3),f.ekj("active","experience"===r.currentSection),f.xp6(3),f.ekj("active","contact"===r.currentSection))},dependencies:[Iy],styles:[".navbar[_ngcontent-%COMP%]{position:sticky;top:0;z-index:100;color:#363636;font-weight:700;background:#f9f9f9;height:60px}.container[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto;align-items:center}span[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:7%;margin-left:30px}.menu[_ngcontent-%COMP%]{list-style:none;display:grid;grid-template-columns:auto auto auto auto}.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#363636;transition:all .3s;cursor:pointer}.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#89c3f3;transform:translateZ(10px) scale(1.1);font-size:1.3em}.navbar.sticky[_ngcontent-%COMP%]{position:fixed}.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#89c3f3}@media (max-width: 1220px){.container[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto}span[_ngcontent-%COMP%]{display:none}}"]}),n})(),ax=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-footer"]],decls:8,vars:0,consts:[[1,"footer"],["href","https://linkedin.com/in/lana-mezvrishvili","target","_blank",1,"card-button"],["src","assets/img/llinkedin.png","alt","linkedin",2,"width","40px"],["href","https://github.com/Lan-Star01","target","_blank",1,"card-button"],["src","assets/img/github.png","alt","github",2,"width","40px"]],template:function(t,r){1&t&&(f.TgZ(0,"footer")(1,"div",0)(2,"p"),f._uU(3,"\xa9 Lana Mezvrishvili 2023 \xa0|"),f.qZA(),f.TgZ(4,"a",1),f._UZ(5,"img",2),f.qZA(),f.TgZ(6,"a",3),f._UZ(7,"img",4),f.qZA()()())},styles:["footer[_ngcontent-%COMP%]{position:inherit;left:0;bottom:0;width:100%;background-color:transparent;text-align:center;padding:10px 0;font-family:Segoe UI,Frutiger,Frutiger Linotype,Dejavu Sans,Helvetica Neue,Arial,sans-serif;color:#363636}.footer[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto auto;justify-content:center}img[_ngcontent-%COMP%]{width:25px!important}a[_ngcontent-%COMP%]{margin-top:1.5vh;margin-left:1vw}"]}),n})(),bD=(()=>{class n{scrollToSection(t){const r=document.getElementById(t);r?setTimeout(()=>{r.scrollIntoView({behavior:"smooth"})},400):console.error("Element not found:",t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-about"]],decls:17,vars:0,consts:[["id","about"],[1,"about-grid"],[1,"about"],[1,"contac-me"],[3,"click"],[1,"Circle"],[1,"ball","bubble"]],template:function(t,r){1&t&&(f.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1"),f._uU(5,"Front-End Developer"),f.qZA()(),f.TgZ(6,"div")(7,"p"),f._uU(8,"Hi I'm Lana Mezvrishvili. A passionate Front End Developer "),f._UZ(9,"br"),f._uU(10," & Student of Information Technology"),f.qZA()(),f.TgZ(11,"div",3)(12,"a",4),f.NdJ("click",function(){return r.scrollToSection("contact")}),f.TgZ(13,"h3"),f._uU(14,"CONTACT ME \u2192"),f.qZA()()()(),f.TgZ(15,"div",5),f._UZ(16,"figure",6),f.qZA()()())},styles:['#about[_ngcontent-%COMP%]{height:100vh;font-family:Segoe UI,Frutiger,Frutiger Linotype,Dejavu Sans,Helvetica Neue,Arial,sans-serif;color:#363636}h1[_ngcontent-%COMP%]{font-size:65px}p[_ngcontent-%COMP%]{font-size:19px}.about-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto}.about[_ngcontent-%COMP%]{padding:16%}.contac-me[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto;justify-content:flex-start}.dot[_ngcontent-%COMP%]{height:25px;width:25px;background-color:#bbb;border-radius:50%;display:inline-block;position:absolute;margin-top:19px}a[_ngcontent-%COMP%]{color:#363636;text-decoration:none;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-image:linear-gradient(to right,#89c3f3,#89c3f3 50%,#363636 50%);background-size:200% 100%;background-position:100%;transition:all .3s cubic-bezier(0,0,.23,1);cursor:pointer}a[_ngcontent-%COMP%]:hover{color:#89c3f3;background-position:0%;animation:_ngcontent-%COMP%_blueToGray .3s ease forwards}a[_ngcontent-%COMP%]:not(:hover){color:#363636;animation:_ngcontent-%COMP%_grayToBlue .3s ease forwards}@keyframes _ngcontent-%COMP%_blueToGray{0%{color:#89c3f3}to{color:#363636}}@keyframes _ngcontent-%COMP%_grayToBlue{0%{color:#363636}to{color:#89c3f3}}.Circle[_ngcontent-%COMP%]{width:550px;height:550px;margin:8%;padding:10%;-ms-perspective:1200px;-o-perspective:1200px;perspective:1200px;-ms-perspective-origin:50% 50%;-o-perspective-origin:50% 50%;perspective-origin:50% 50%}.ball[_ngcontent-%COMP%]{display:inline-block;width:100%;height:100%;border-radius:100%;position:relative;background:radial-gradient(circle at bottom,#81e8f6,#76deef 10%,#055194 80%,#062745 100%)}.ball[_ngcontent-%COMP%]:before{content:"";position:absolute;top:1%;left:5%;width:90%;height:90%;border-radius:100%;background:radial-gradient(circle at top,white,rgba(255,255,255,0) 58%);filter:blur(5px);z-index:2}.ball[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none;top:5%;left:10%;width:80%;height:80%;border-radius:100%;filter:blur(1px);z-index:2;transform:rotate(-30deg)}.ball[_ngcontent-%COMP%]   .shadow[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background:radial-gradient(circle,rgba(0,0,0,.4),rgba(0,0,0,.1) 40%,rgba(0,0,0,0) 50%);transform:rotateX(90deg) translateZ(-160px);z-index:1}.ball.plain[_ngcontent-%COMP%]{background:black}.ball.plain[_ngcontent-%COMP%]:before, .ball.plain[_ngcontent-%COMP%]:after{display:none}.ball.bubble[_ngcontent-%COMP%]{background:radial-gradient(circle at 50% 55%,rgba(240,245,255,.9),rgba(240,245,255,.9) 40%,rgba(225,238,255,.8) 60%,rgba(43,130,255,.4));animation:_ngcontent-%COMP%_bubble-anim 2s ease-out infinite}.ball.bubble[_ngcontent-%COMP%]:before{filter:blur(0);height:80%;width:40%;background:radial-gradient(circle at 130% 130%,rgba(255,255,255,0) 0,rgba(255,255,255,0) 46%,rgba(255,255,255,.8) 50%,rgba(255,255,255,.8) 58%,rgba(255,255,255,0) 60%,rgba(255,255,255,0) 100%);transform:translate(131%) translateY(58%) rotate(168deg) rotateX(10deg)}.ball.bubble[_ngcontent-%COMP%]:after{display:block;background:radial-gradient(circle at 50% 80%,rgba(255,255,255,0),rgba(255,255,255,0) 74%,white 80%,white 84%,rgba(255,255,255,0) 100%)}.stage[_ngcontent-%COMP%]{width:300px;height:300px;display:inline-block;margin:20px;-ms-perspective:1200px;-o-perspective:1200px;perspective:1200px;-ms-perspective-origin:50% 50%;-o-perspective-origin:50% 50%;perspective-origin:50% 50%}body[_ngcontent-%COMP%]{width:300px;margin:20px auto;background:linear-gradient(to bottom,rgba(100,100,100,.2) 0%,rgba(255,255,255,.5) 40%,#ffffff 100%);background-repeat:no-repeat}@keyframes _ngcontent-%COMP%_bubble-anim{0%{transform:scale(1)}20%{transform:scaleY(.95) scaleX(1.05)}48%{transform:scaleY(1.1) scaleX(.9)}68%{transform:scaleY(.98) scaleX(1.02)}80%{transform:scaleY(1.02) scaleX(.98)}97%,to{transform:scale(1)}}@media (max-width: 1600px){.Circle[_ngcontent-%COMP%]{width:450px;height:450px}h1[_ngcontent-%COMP%]{font-size:50px}p[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 1220px){.Circle[_ngcontent-%COMP%]{width:350px;height:350px}}@media (max-width: 1050px){.Circle[_ngcontent-%COMP%]{width:250px;height:250px}}@media (max-width: 930px){.Circle[_ngcontent-%COMP%]{width:200px;height:200px}}@media (max-width: 830px){.Circle[_ngcontent-%COMP%]{width:0px;height:0px}}']}),n})();function ux(n,e){if(1&n&&(f.TgZ(0,"div",5)(1,"div",6)(2,"h3",7),f._uU(3),f.qZA()()()),2&n){const t=e.$implicit;f.xp6(3),f.Oqu(t)}}let Bw=(()=>{class n{constructor(){this.skills=["HTML","CSS","JavaScript","Angular.js","Creativity","Debugging","Communication with Back-end","Problem Solving"]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-skills"]],decls:6,vars:1,consts:[["id","skills"],[1,"skills-grid"],[1,"title"],[1,"skills-card"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"card-content"],[1,"card-title"]],template:function(t,r){1&t&&(f.TgZ(0,"section",0)(1,"div",1)(2,"h1",2),f._uU(3,"Skills"),f.qZA(),f.TgZ(4,"div",3),f.YNc(5,ux,4,1,"div",4),f.qZA()()()),2&t&&(f.xp6(5),f.Q6J("ngForOf",r.skills))},dependencies:[oo],styles:["#skills[_ngcontent-%COMP%]{height:100vh;font-family:Segoe UI,Frutiger,Frutiger Linotype,Dejavu Sans,Helvetica Neue,Arial,sans-serif}h1[_ngcontent-%COMP%]{padding:6%;font-size:34px;color:#c29494;width:14%;margin-left:3vw}.skills-card[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto auto auto;justify-content:space-around}.card[_ngcontent-%COMP%]{text-align:center;width:250px;height:250px;overflow:hidden;margin:35px;background:transparent;border-radius:50%;color:#fff;box-shadow:#0000002b 0 -23px 25px inset,#00000026 0 -36px 30px inset,#0000001a 0 -79px 40px inset,#0000000f 0 2px 1px,#00000017 0 4px 2px,#00000017 0 8px 4px,#00000017 0 16px 8px,#00000017 0 32px 16px}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover}.card-content[_ngcontent-%COMP%]{padding:20px}.card-title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px;color:#ddb3b3;margin-top:7.5vh}.card-description[_ngcontent-%COMP%]{margin-bottom:15px}@media (max-width: 1300px){.card-title[_ngcontent-%COMP%]{font-size:18px;margin-top:6vh}.skills-card[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto auto auto;justify-content:space-around}.card[_ngcontent-%COMP%]{width:200px;height:200px}}@media (max-width: 1170px){.card-title[_ngcontent-%COMP%]{font-size:14px;margin-top:4vh}.skills-card[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto auto auto;justify-content:space-around}.card[_ngcontent-%COMP%]{width:150px;height:150px}}@media (max-width: 880px){.card-title[_ngcontent-%COMP%]{font-size:14px;margin-top:4vh}.skills-card[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto;justify-content:space-around}.card[_ngcontent-%COMP%]{width:150px;height:150px;margin:20px}}"]}),n})();function rc(n,e){if(1&n&&(f.TgZ(0,"div",5)(1,"a")(2,"div",6),f._UZ(3,"img",7),f.TgZ(4,"h2"),f._uU(5),f.qZA()(),f.TgZ(6,"div",8)(7,"h2"),f._uU(8),f.qZA(),f.TgZ(9,"p"),f._uU(10),f.qZA()()(),f._UZ(11,"div",9),f.qZA()),2&n){const t=e.$implicit;f.Q6J("ngClass",t.classname),f.xp6(3),f.s9C("src",t.iconname,f.LSH),f.xp6(2),f.Oqu(t.title),f.xp6(3),f.Oqu(t.title),f.xp6(2),f.Oqu(t.description)}}let ED=(()=>{class n{constructor(){this.cards=[{classname:"",iconname:"assets/img/management.png",title:"Workday Management Project",description:"The website helps companies to effectively manage their working day. I started this project at work and am currently working on it. For the project I use angular.js, rxjs, primeng, bootsrtap, for the full functionality of the site I cooperate with the back to use the restful API and I always test new futures and follow the debugging. I also designed and built the site according to the client's request."},{classname:"",iconname:"assets/img/medicl.png",title:"Medicine Project",description:"The website is intended for hospital staff to store patient information electronically instead of writing and printing on paper. I started working on this project during my internship and now I am continuing this project. Since this project was already started I had to analyze the whole code. I use angular.js, primeng, bootstrap, restfull API for it. Since the design was already assembled, I have to do mostly the logical part and make some minor changes to the design."},{classname:"",iconname:"assets/img/market.png",title:"Market Project",description:"The website helps store associates to see product quantities, and can add, filter, or send back to the warehouse, etc. I started working on this project during my internship, because the project was already active, I analyzed the code and started working on it, added new futures and also redesigned the old ones. The project started with jquery and I continued to write the codes using it, but later on I used typescript. I also used bootstrap, Restfull API."}]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-experience"]],decls:6,vars:1,consts:[["id","experience"],[1,"title"],[1,"experience-grid"],[1,"card-container"],["class","card",3,"ngClass",4,"ngFor","ngForOf"],[1,"card",3,"ngClass"],[1,"card--display"],["alt","Icon Image",3,"src"],[1,"card--hover"],[1,"card--border"]],template:function(t,r){1&t&&(f.TgZ(0,"section",0)(1,"h1",1),f._uU(2,"Projects"),f.qZA(),f.TgZ(3,"div",2)(4,"div",3),f.YNc(5,rc,12,5,"div",4),f.qZA()()()),2&t&&(f.xp6(5),f.Q6J("ngForOf",r.cards))},dependencies:[Rr,oo],styles:["#experience[_ngcontent-%COMP%]{height:100vh;font-family:Segoe UI,Frutiger,Frutiger Linotype,Dejavu Sans,Helvetica Neue,Arial,sans-serif;color:#363636}h1[_ngcontent-%COMP%]{padding:6%;font-size:34px}.card-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto auto;justify-content:space-around;align-items:start}.card[_ngcontent-%COMP%]{position:relative;font-weight:700;width:15vw;height:40vh;margin:10px}.card--border[_ngcontent-%COMP%]{position:absolute;width:calc(100% + 58px);height:calc(100% + 51px);left:2px;top:2px;border:2px dashed #363636;border-radius:38px;z-index:-1}.card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:30px;width:100%;height:100%;border:2px solid white;border-radius:38px;background:white;text-decoration:none;color:#363636;display:block;transition:.25s ease;position:relative;box-shadow:#959da533 0 8px 24px}.card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{transform:translate(-30px,-30px);border-color:#fff;border-radius:38px}.card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   .card--display[_ngcontent-%COMP%]{display:none}.card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   .card--hover[_ngcontent-%COMP%]{display:block}.card--display[_ngcontent-%COMP%]{margin-top:22vh}.card--display[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:60px;margin-top:200px}.card--display[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:20px 0 0}.card--display[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:1.5vh}.card--hover[_ngcontent-%COMP%]{display:none}.card--hover[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:20px 0}.card--hover[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:400;line-height:1.5}.card--hover[_ngcontent-%COMP%]   p.link[_ngcontent-%COMP%]{margin:20px 0 0;font-weight:700;color:#5bc0eb}@media (min-width: 1490px) and (max-width: 1740px){.card--hover[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px}}@media (min-width: 1386px) and (max-width: 1489px){.card--hover[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (min-width: 1182px) and (max-width: 1385px){.card--hover[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px}}@media (min-width: 1065px) and (max-width: 1181px){.card--hover[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}}@media (min-width: 900px) and (max-width: 1064px){.card--hover[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11px}}@media (max-width: 900px){.card-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto;justify-content:normal}.card[_ngcontent-%COMP%]{position:relative;font-weight:700;width:60vw;height:15vh;margin:12% auto auto}.card--hover[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px}.card--hover[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:17px}.card--display[_ngcontent-%COMP%]{margin-top:4vh}}@media (max-width: 780px){.card-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto;justify-content:normal}.card[_ngcontent-%COMP%]{position:relative;font-weight:700;width:60vw;height:15vh;margin:13.5% auto auto}.card--hover[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}.card--hover[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:17px}.card--display[_ngcontent-%COMP%]{margin-top:4vh}}@media (max-width: 720px){.card-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto;justify-content:normal}.card[_ngcontent-%COMP%]{position:relative;font-weight:700;width:65vw;height:15vh;margin:13.5% auto auto}.card--hover[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}.card--hover[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:17px}.card--display[_ngcontent-%COMP%]{margin-top:4vh}}@media (max-width: 660px){.card-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto;justify-content:normal}.card[_ngcontent-%COMP%]{position:relative;font-weight:700;width:70vw;height:15vh;margin:15% auto auto}.card--hover[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}.card--hover[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:17px}.card--display[_ngcontent-%COMP%]{margin-top:4vh}}@media (max-width: 615px){.card-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto;justify-content:normal}.card[_ngcontent-%COMP%]{position:relative;font-weight:700;width:70vw;height:15vh;margin:16% auto auto}.card--hover[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}.card--hover[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:14px}.card--display[_ngcontent-%COMP%]{margin-top:4vh}}@media (max-width: 600px){.card-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto;justify-content:normal;margin-right:12vw}.card[_ngcontent-%COMP%]{position:relative;font-weight:700;width:70vw;height:15vh;margin:23% auto auto}.card--hover[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11px}.card--hover[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:14px}.card--display[_ngcontent-%COMP%]{margin-top:4vh}}"]}),n})();var jw=k(3519),ky=k.n(jw);function $w(){return(0,os.e)((n,e)=>{let t,r=!1;n.subscribe((0,Ts.x)(e,s=>{const u=t;t=s,r&&e.next([u,s]),r=!0}))})}var pt,mO=k(3997),cx=(k(1128),typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{}),Xu={},Hw=Hw||{},Gt=cx||self;function zw(){}function Fy(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Up(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var CD="closure_uid_"+(1e9*Math.random()>>>0),Gw=0;function DD(n,e,t){return n.call.apply(n.bind,arguments)}function SD(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function Ai(n,e,t){return(Ai=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?DD:SD).apply(null,arguments)}function Bp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ai(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,s,u){for(var c=Array(arguments.length-2),g=2;g<arguments.length;g++)c[g-2]=arguments[g];return e.prototype[s].apply(r,c)}}function eo(){this.s=this.s,this.o=this.o}var TD={};eo.prototype.s=!1,eo.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function ID(n){return Object.prototype.hasOwnProperty.call(n,CD)&&n[CD]||(n[CD]=++Gw)}(this);delete TD[n]}},eo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const qw=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},AD=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,s="string"==typeof n?n.split(""):n;for(let u=0;u<r;u++)u in s&&e.call(t,s[u],u,n)};function hx(n){return Array.prototype.concat.apply([],arguments)}function Vy(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Uy(n){return/^[\s\xa0]*$/.test(n)}var Rs,MD=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function xs(n,e){return-1!=n.indexOf(e)}function xD(n,e){return n<e?-1:n>e?1:0}e:{var Ww=Gt.navigator;if(Ww){var RD=Ww.userAgent;if(RD){Rs=RD;break e}}Rs=""}function Kw(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function PD(n){const e={};for(const t in n)e[t]=n[t];return e}var fx="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function px(n,e){let t,r;for(let s=1;s<arguments.length;s++){for(t in r=arguments[s],r)n[t]=r[t];for(let u=0;u<fx.length;u++)t=fx[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function ND(n){return ND[" "](n),n}ND[" "]=zw;var $p,n,vO=xs(Rs,"Opera"),Fh=xs(Rs,"Trident")||xs(Rs,"MSIE"),jp=xs(Rs,"Edge"),Zw=jp||Fh,OD=xs(Rs,"Gecko")&&!(xs(Rs.toLowerCase(),"webkit")&&!xs(Rs,"Edge"))&&!(xs(Rs,"Trident")||xs(Rs,"MSIE"))&&!xs(Rs,"Edge"),kD=xs(Rs.toLowerCase(),"webkit")&&!xs(Rs,"Edge");function ic(){var n=Gt.document;return n?n.documentMode:void 0}e:{var Hp="",zp=(n=Rs,OD?/rv:([^\);]+)(\)|;)/.exec(n):jp?/Edge\/([\d\.]+)/.exec(n):Fh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):kD?/WebKit\/(\S+)/.exec(n):vO?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(zp&&(Hp=zp?zp[1]:""),Fh){var Yw=ic();if(null!=Yw&&Yw>parseFloat(Hp)){$p=String(Yw);break e}}$p=Hp}var Qw={};var _O=Gt.document&&Fh&&(ic()||parseInt($p,10))||void 0,wO=function(){if(!Gt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Gt.addEventListener("test",zw,e),Gt.removeEventListener("test",zw,e)}catch{}return n}();function Mi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Gp(n,e){if(Mi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(OD){e:{try{ND(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:mx[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Gp.Z.h.call(this)}}Mi.prototype.h=function(){this.defaultPrevented=!0},ai(Gp,Mi);var mx={2:"touch",3:"pen",4:"mouse"};Gp.prototype.h=function(){Gp.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var qp="closure_listenable_"+(1e6*Math.random()|0),yx=0;function FD(n,e,t,r,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=s,this.key=++yx,this.ca=this.fa=!1}function Wp(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Kp(n){this.src=n,this.g={},this.h=0}function Jw(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],s=qw(r,e);(u=0<=s)&&Array.prototype.splice.call(r,s,1),u&&(Wp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function e0(n,e,t,r){for(var s=0;s<n.length;++s){var u=n[s];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==r)return s}return-1}Kp.prototype.add=function(n,e,t,r,s){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var c=e0(n,e,r,s);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new FD(e,this.src,u,!!r,s)).fa=t,n.push(e)),e};var By="closure_lm_"+(1e6*Math.random()|0),Zp={};function vx(n,e,t,r,s){if(r&&r.once)return LD(n,e,t,r,s);if(Array.isArray(e)){for(var u=0;u<e.length;u++)vx(n,e[u],t,r,s);return null}return t=o0(t),n&&n[qp]?n.N(e,t,Up(r)?!!r.capture:!!r,s):t0(n,e,t,!1,r,s)}function t0(n,e,t,r,s,u){if(!e)throw Error("Invalid event type");var c=Up(s)?!!s.capture:!!s,g=r0(n);if(g||(n[By]=g=new Kp(n)),(t=g.add(e,t,r,c,u)).proxy)return t;if(r=function n0(){var e=wx;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)wO||(s=c),void 0===s&&(s=!1),n.addEventListener(e.toString(),r,s);else if(n.attachEvent)n.attachEvent(_x(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function LD(n,e,t,r,s){if(Array.isArray(e)){for(var u=0;u<e.length;u++)LD(n,e[u],t,r,s);return null}return t=o0(t),n&&n[qp]?n.O(e,t,Up(r)?!!r.capture:!!r,s):t0(n,e,t,!0,r,s)}function VD(n,e,t,r,s){if(Array.isArray(e))for(var u=0;u<e.length;u++)VD(n,e[u],t,r,s);else r=Up(r)?!!r.capture:!!r,t=o0(t),n&&n[qp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=e0(u=n.g[e],t,r,s))&&(Wp(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=r0(n))&&(e=n.g[e.toString()],n=-1,e&&(n=e0(e,t,r,s)),(t=-1<n?e[n]:null)&&UD(t))}function UD(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[qp])Jw(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(_x(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=r0(e))?(Jw(t,n),0==t.h&&(t.src=null,e[By]=null)):Wp(n)}}}function _x(n){return n in Zp?Zp[n]:Zp[n]="on"+n}function wx(n,e){if(n.ca)n=!0;else{e=new Gp(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&UD(n),n=t.call(r,e)}return n}function r0(n){return(n=n[By])instanceof Kp?n:null}var s0="__closure_events_fn_"+(1e9*Math.random()>>>0);function o0(n){return"function"==typeof n?n:(n[s0]||(n[s0]=function(e){return n.handleEvent(e)}),n[s0])}function Wr(){eo.call(this),this.i=new Kp(this),this.P=this,this.I=null}function ui(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Mi(e,n);else if(e instanceof Mi)e.target=e.target||n;else{var s=e;px(e=new Mi(r,n),s)}if(s=!0,t)for(var u=t.length-1;0<=u;u--){var c=e.g=t[u];s=a0(c,r,!0,e)&&s}if(s=a0(c=e.g=n,r,!0,e)&&s,s=a0(c,r,!1,e)&&s,t)for(u=0;u<t.length;u++)s=a0(c=e.g=t[u],r,!1,e)&&s}function a0(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,u=0;u<e.length;++u){var c=e[u];if(c&&!c.ca&&c.capture==t){var g=c.listener,v=c.ia||c.src;c.fa&&Jw(n.i,c),s=!1!==g.call(v,r)&&s}}return s&&!r.defaultPrevented}ai(Wr,eo),Wr.prototype[qp]=!0,Wr.prototype.removeEventListener=function(n,e,t,r){VD(this,n,e,t,r)},Wr.prototype.M=function(){if(Wr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Wp(t[r]);delete n.g[e],n.h--}}this.I=null},Wr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Wr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var u0=Gt.JSON.stringify;function l0(){var n=Ex;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var f0,c0=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new bx,n=>n.reset());class bx{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function d0(n){Gt.setTimeout(()=>{throw n},0)}function h0(n,e){f0||function jD(){var n=Gt.Promise.resolve(void 0);f0=function(){n.then(Ix)}}(),jy||(f0(),jy=!0),Ex.add(n,e)}var jy=!1,Ex=new class BD{constructor(){this.h=this.g=null}add(e,t){const r=c0.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Ix(){for(var n;n=l0();){try{n.h.call(n.g)}catch(t){d0(t)}var e=c0;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}jy=!1}function fd(n,e){Wr.call(this),this.h=n||1,this.g=e||Gt,this.j=Ai(this.kb,this),this.l=Date.now()}function $D(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function p0(n,e,t){if("function"==typeof n)t&&(n=Ai(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ai(n.handleEvent,n)}return 2147483647<Number(e)?-1:Gt.setTimeout(n,e||0)}function Cx(n){n.g=p0(()=>{n.g=null,n.i&&(n.i=!1,Cx(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ai(fd,Wr),(pt=fd.prototype).da=!1,pt.S=null,pt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ui(this,"tick"),this.da&&($D(this),this.start()))}},pt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},pt.M=function(){fd.Z.M.call(this),$D(this),delete this.g};class bO extends eo{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Cx(this)}M(){super.M(),this.g&&(Gt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yp(n){eo.call(this),this.h=n,this.g={}}ai(Yp,eo);var Dx=[];function Sx(n,e,t,r){Array.isArray(t)||(t&&(Dx[0]=t.toString()),t=Dx);for(var s=0;s<t.length;s++){var u=vx(e,t[s],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function Tx(n){Kw(n.g,function(e,t){this.g.hasOwnProperty(t)&&UD(e)},n),n.g={}}function g0(){this.g=!0}function Qp(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function CO(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var u=s[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var c=1;c<s.length;c++)s[c]=""}}}return u0(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Yp.prototype.M=function(){Yp.Z.M.call(this),Tx(this)},Yp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},g0.prototype.Aa=function(){this.g=!1},g0.prototype.info=function(){};var Vh={},Mx=null;function $y(){return Mx=Mx||new Wr}function xx(n){Mi.call(this,Vh.Ma,n)}function i(n){const e=$y();ui(e,new xx(e,n))}function o(n,e){Mi.call(this,Vh.STAT_EVENT,n),this.stat=e}function a(n){const e=$y();ui(e,new o(e,n))}function l(n,e){Mi.call(this,Vh.Na,n),this.size=e}function d(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Gt.setTimeout(function(){n()},e)}Vh.Ma="serverreachability",ai(xx,Mi),Vh.STAT_EVENT="statevent",ai(o,Mi),Vh.Na="timingevent",ai(l,Mi);var p={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},y={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function b(){}function M(){}b.prototype.h=null;var oe,O={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function V(){Mi.call(this,"d")}function ee(){Mi.call(this,"c")}function Se(){}function Ue(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Yp(this),this.P=yt,this.W=new fd(n=Zw?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new tt}function tt(){this.i=null,this.g="",this.h=!1}ai(V,Mi),ai(ee,Mi),ai(Se,b),Se.prototype.g=function(){return new XMLHttpRequest},Se.prototype.i=function(){return{}},oe=new Se;var yt=45e3,Re={},Vt={};function un(n,e,t){n.K=1,n.v=WD(pd(e)),n.s=t,n.U=!0,gn(n,null)}function gn(n,e){n.F=Date.now(),Jp(n),n.A=pd(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),RO(t.h,"t",r),n.C=0,t=n.l.H,n.h=new tt,n.g=ek(n.l,t?e:null,!n.s),0<n.O&&(n.L=new bO(Ai(n.Ia,n,n.g),n.O)),Sx(n.V,n.g,"readystatechange",n.gb),e=n.H?PD(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),i(1),function EO(n,e,t,r,s,u){n.info(function(){if(n.g)if(u)for(var c="",g=u.split("&"),v=0;v<g.length;v++){var I=g[v].split("=");if(1<I.length){var T=I[0];I=I[1];var P=T.split("_");c=2<=P.length&&"type"==P[1]?c+(T+"=")+I+"&":c+(T+"=redacted&")}}else c=null;else c=u;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function xi(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Xp(n,e,t){let s,r=!0;for(;!n.I&&n.C<t.length;){if(s=Rx(n,t),s==Vt){4==e&&(n.o=4,a(14),r=!1),Qp(n.j,n.m,null,"[Incomplete Response]");break}if(s==Re){n.o=4,a(15),Qp(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Qp(n.j,n.m,s,null),Px(n,s)}xi(n)&&s!=Vt&&s!=Re&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,a(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Hx(e),e.L=!0,a(11))):(Qp(n.j,n.m,t,"[Invalid Chunked Response]"),eg(n),m0(n))}function Rx(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Vt:(t=Number(e.substring(t,r)),isNaN(t)?Re:(r+=1)+t>e.length?Vt:(e=e.substr(r,t),n.C=r+t,e))}function Jp(n){n.Y=Date.now()+n.P,DO(n,n.P)}function DO(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=d(Ai(n.eb,n),e)}function HD(n){n.B&&(Gt.clearTimeout(n.B),n.B=null)}function m0(n){0==n.l.G||n.I||YO(n.l,n)}function eg(n){HD(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,$D(n.W),Tx(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Px(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||kx(t.i,n)))if(t.I=n.N,!n.J&&kx(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;JD(t),QD(t)}$x(t),a(18)}}else t.ta=s[1],0<t.ta-t.U&&37500>s[2]&&t.N&&0==t.A&&!t.v&&(t.v=d(Ai(t.ab,t),6e3));if(1>=OO(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else rg(t,11)}else if((n.J||t.g==n)&&JD(t),!Uy(e))for(s=t.Ca.g.parse(e),e=0;e<s.length;e++){let I=s[e];if(t.U=I[0],I=I[1],2==t.G)if("c"==I[0]){t.J=I[1],t.la=I[2];const T=I[3];null!=T&&(t.ma=T,t.h.info("VER="+t.ma));const P=I[4];null!=P&&(t.za=P,t.h.info("SVER="+t.za));const $=I[5];null!=$&&"number"==typeof $&&0<$&&(t.K=r=1.5*$,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const K=n.g;if(K){const Q=K.g?K.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Q){var u=r.i;!u.g&&(xs(Q,"spdy")||xs(Q,"quic")||xs(Q,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(Fx(u,u.h),u.h=null))}if(r.D){const de=K.g?K.g.getResponseHeader("X-HTTP-Session-Id"):null;de&&(r.sa=de,wr(r.F,r.D,de))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((r=t).oa=JO(r,r.H?r.la:null,r.W),c.J){kO(r.i,c);var g=c,v=r.K;v&&g.setTimeout(v),g.B&&(HD(g),Jp(g)),r.g=c}else KO(r);0<t.l.length&&XD(t)}else"stop"!=I[0]&&"close"!=I[0]||rg(t,7);else 3==t.G&&("stop"==I[0]||"close"==I[0]?"stop"==I[0]?rg(t,7):Bx(t):"noop"!=I[0]&&t.j&&t.j.wa(I),t.A=0)}i(4)}catch{}}function Nx(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Fy(n)||"string"==typeof n)AD(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Fy(n)||"string"==typeof n){t=[];for(var r=n.length,s=0;s<r;s++)t.push(s)}else for(s in t=[],r=0,n)t[r++]=s;r=function WL(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Fy(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),s=r.length;for(var u=0;u<s;u++)e.call(void 0,r[u],t&&t[u],n)}}function Hy(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Hy)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Ox(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];tg(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var s={};for(t=e=0;e<n.g.length;)tg(s,r=n.g[e])||(n.g[t++]=r,s[r]=1),e++;n.g.length=t}}function tg(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(pt=Ue.prototype).setTimeout=function(n){this.P=n},pt.gb=function(n){n=n.target;const e=this.L;e&&3==gd(n)?e.l():this.Ia(n)},pt.Ia=function(n){try{if(n==this.g)e:{const T=gd(this.g);var e=this.g.Da();const P=this.g.ba();if(!(3>T)&&(3!=T||Zw||this.g&&(this.h.h||this.g.ga()||HO(this.g)))){this.I||4!=T||7==e||i(8==e||0>=P?3:2),HD(this);var t=this.g.ba();this.N=t;t:if(xi(this)){var r=HO(this.g);n="";var s=r.length,u=4==gd(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){eg(this),m0(this);var c="";break t}this.h.i=new Gt.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==s-1});r.splice(0,s),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function Ax(n,e,t,r,s,u,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+u+" "+c})}(this.j,this.u,this.A,this.m,this.X,T,t),this.i){if(this.$&&!this.J){t:{if(this.g){var g,v=this.g;if((g=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Uy(g)){var I=g;break t}}I=null}if(!(t=I)){this.i=!1,this.o=3,a(12),eg(this),m0(this);break e}Qp(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Px(this,t)}this.U?(Xp(this,T,c),Zw&&this.i&&3==T&&(Sx(this.V,this.W,"tick",this.fb),this.W.start())):(Qp(this.j,this.m,c,null),Px(this,c)),4==T&&eg(this),this.i&&!this.I&&(4==T?YO(this.l,this):(this.i=!1,Jp(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,a(12)):(this.o=0,a(13)),eg(this),m0(this)}}}catch{}},pt.fb=function(){if(this.g){var n=gd(this.g),e=this.g.ga();this.C<e.length&&(HD(this),Xp(this,n,e),this.i&&4!=n&&Jp(this))}},pt.cancel=function(){this.I=!0,eg(this)},pt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function IO(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(i(3),a(17)),eg(this),this.o=2,m0(this)):DO(this,this.Y-n)},(pt=Hy.prototype).R=function(){Ox(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},pt.T=function(){return Ox(this),this.g.concat()},pt.get=function(n,e){return tg(this.h,n)?this.h[n]:e},pt.set=function(n,e){tg(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},pt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var s=t[r],u=this.get(s);n.call(e,u,s,this)}};var SO=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ng(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof ng){this.g=void 0!==e?e:n.g,zD(this,n.j),this.s=n.s,GD(this,n.i),qD(this,n.m),this.l=n.l,e=n.h;var t=new _0;t.i=e.i,e.g&&(t.g=new Hy(e.g),t.h=e.h),TO(this,t),this.o=n.o}else n&&(t=String(n).match(SO))?(this.g=!!e,zD(this,t[1]||"",!0),this.s=y0(t[2]||""),GD(this,t[3]||"",!0),qD(this,t[4]),this.l=y0(t[5]||"",!0),TO(this,t[6]||"",!0),this.o=y0(t[7]||"")):(this.g=!!e,this.h=new _0(null,this.g))}function pd(n){return new ng(n)}function zD(n,e,t){n.j=t?y0(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function GD(n,e,t){n.i=t?y0(e,!0):e}function qD(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function TO(n,e,t){e instanceof _0?(n.h=e,function n2(n,e){e&&!n.j&&(Uh(n),n.i=null,n.g.forEach(function(t,r){var s=r.toLowerCase();r!=s&&(MO(this,r),RO(this,s,t))},n)),n.j=e}(n.h,n.g)):(t||(e=v0(e,e2)),n.h=new _0(e,n.g))}function wr(n,e,t){n.h.set(e,t)}function WD(n){return wr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function y0(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function v0(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,QL),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function QL(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ng.prototype.toString=function(){var n=[],e=this.j;e&&n.push(v0(e,AO,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(v0(e,AO,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(v0(t,"/"==t.charAt(0)?JL:XL,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",v0(t,t2)),n.join("")};var AO=/[#\/\?@]/g,XL=/[#\?:]/g,JL=/[#\?]/g,e2=/[#\?@]/g,t2=/#/g;function _0(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Uh(n){n.g||(n.g=new Hy,n.h=0,n.i&&function KL(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),s=null;if(0<=r){var u=n[t].substring(0,r);s=n[t].substring(r+1)}else u=n[t];e(u,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function MO(n,e){Uh(n),e=zy(n,e),tg(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,tg((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Ox(n)))}function xO(n,e){return Uh(n),e=zy(n,e),tg(n.g.h,e)}function RO(n,e,t){MO(n,e),0<t.length&&(n.i=null,n.g.set(zy(n,e),Vy(t)),n.h+=t.length)}function zy(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function PO(n){this.l=n||i2,n=Gt.PerformanceNavigationTiming?0<(n=Gt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Gt.g&&Gt.g.Ea&&Gt.g.Ea()&&Gt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(pt=_0.prototype).add=function(n,e){Uh(this),this.i=null,n=zy(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},pt.forEach=function(n,e){Uh(this),this.g.forEach(function(t,r){AD(t,function(s){n.call(e,s,r,this)},this)},this)},pt.T=function(){Uh(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var s=n[r],u=0;u<s.length;u++)t.push(e[r]);return t},pt.R=function(n){Uh(this);var e=[];if("string"==typeof n)xO(this,n)&&(e=hx(e,this.g.get(zy(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=hx(e,n[t])}return e},pt.set=function(n,e){return Uh(this),this.i=null,xO(this,n=zy(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},pt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},pt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],s=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var c=s;""!==r[u]&&(c+="="+encodeURIComponent(String(r[u]))),n.push(c)}}return this.i=n.join("&")};var i2=10;function NO(n){return!!n.h||!!n.g&&n.g.size>=n.j}function OO(n){return n.h?1:n.g?n.g.size:0}function kx(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Fx(n,e){n.g?n.g.add(e):n.h=e}function kO(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function FO(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Vy(n.i)}function Lx(){}function s2(){this.g=new Lx}function o2(n,e,t){const r=t||"";try{Nx(n,function(s,u){let c=s;Up(s)&&(c=u0(s)),e.push(r+u+"="+encodeURIComponent(c))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function KD(n,e,t,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function w0(n){this.l=n.$b||null,this.j=n.ib||!1}function ZD(n,e){Wr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Vx,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}PO.prototype.cancel=function(){if(this.i=FO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Lx.prototype.stringify=function(n){return Gt.JSON.stringify(n,void 0)},Lx.prototype.parse=function(n){return Gt.JSON.parse(n,void 0)},ai(w0,b),w0.prototype.g=function(){return new ZD(this.l,this.j)},w0.prototype.i=function(n){return function(){return n}}({}),ai(ZD,Wr);var Vx=0;function LO(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function b0(n){n.readyState=4,n.l=null,n.j=null,n.A=null,E0(n)}function E0(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(pt=ZD.prototype).open=function(n,e){if(this.readyState!=Vx)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,E0(this)},pt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Gt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},pt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,b0(this)),this.readyState=Vx},pt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,E0(this)),this.g&&(this.readyState=3,E0(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Gt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;LO(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},pt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?b0(this):E0(this),3==this.readyState&&LO(this)}},pt.Ua=function(n){this.g&&(this.response=this.responseText=n,b0(this))},pt.Ta=function(n){this.g&&(this.response=n,b0(this))},pt.ha=function(){this.g&&b0(this)},pt.setRequestHeader=function(n,e){this.v.append(n,e)},pt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},pt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(ZD.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var u2=Gt.JSON.parse;function li(n){Wr.call(this),this.headers=new Hy,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=VO,this.K=this.L=!1}ai(li,Wr);var VO="",l2=/^https?$/i,c2=["POST","PUT"];function h2(n){return"content-type"==n.toLowerCase()}function UO(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,BO(n),YD(n)}function BO(n){n.D||(n.D=!0,ui(n,"complete"),ui(n,"error"))}function jO(n){if(n.h&&typeof Hw<"u"&&(!n.C[1]||4!=gd(n)||2!=n.ba()))if(n.v&&4==gd(n))p0(n.Fa,0,n);else if(ui(n,"readystatechange"),4==gd(n)){n.h=!1;try{const g=n.ba();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===g){var s=String(n.H).match(SO)[1]||null;if(!s&&Gt.self&&Gt.self.location){var u=Gt.self.location.protocol;s=u.substr(0,u.length-1)}r=!l2.test(s?s.toLowerCase():"")}t=r}if(t)ui(n,"complete"),ui(n,"success");else{n.m=6;try{var c=2<gd(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.ba()+"]",BO(n)}}finally{YD(n)}}}function YD(n,e){if(n.g){$O(n);const t=n.g,r=n.C[0]?zw:null;n.g=null,n.C=null,e||ui(n,"ready");try{t.onreadystatechange=r}catch{}}}function $O(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Gt.clearTimeout(n.A),n.A=null)}function gd(n){return n.g?n.g.readyState:0}function HO(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case VO:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Ux(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function f2(n){let e="";return Kw(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):wr(n,e,t))}function I0(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function zO(n){this.za=0,this.l=[],this.h=new g0,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=I0("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=I0("baseRetryDelayMs",5e3,n),this.$a=I0("retryDelaySeedMs",1e4,n),this.Ya=I0("forwardChannelMaxRetries",2,n),this.ra=I0("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new PO(n&&n.concurrentRequestLimit),this.Ca=new s2,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Bx(n){if(GO(n),3==n.G){var e=n.V++,t=pd(n.F);wr(t,"SID",n.J),wr(t,"RID",e),wr(t,"TYPE","terminate"),C0(n,t),(e=new Ue(n,n.h,e,void 0)).K=2,e.v=WD(pd(t)),t=!1,Gt.navigator&&Gt.navigator.sendBeacon&&(t=Gt.navigator.sendBeacon(e.v.toString(),"")),!t&&Gt.Image&&((new Image).src=e.v,t=!0),t||(e.g=ek(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Jp(e)}XO(n)}function QD(n){n.g&&(Hx(n),n.g.cancel(),n.g=null)}function GO(n){QD(n),n.u&&(Gt.clearTimeout(n.u),n.u=null),JD(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Gt.clearTimeout(n.m),n.m=null)}function jx(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&XD(n)}function XD(n){NO(n.i)||n.m||(n.m=!0,h0(n.Ha,n),n.C=0)}function qO(n,e){var t;t=e?e.m:n.V++;const r=pd(n.F);wr(r,"SID",n.J),wr(r,"RID",t),wr(r,"AID",n.U),C0(n,r),n.o&&n.s&&Ux(r,n.o,n.s),t=new Ue(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=WO(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Fx(n.i,t),un(t,r,e)}function C0(n,e){n.j&&Nx({},function(t,r){wr(e,r,t)})}function WO(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Ai(n.j.Oa,n.j,n):null;e:{var s=n.l;let u=-1;for(;;){const c=["count="+t];-1==u?0<t?(u=s[0].h,c.push("ofs="+u)):u=0:c.push("ofs="+u);let g=!0;for(let v=0;v<t;v++){let I=s[v].h;const T=s[v].g;if(I-=u,0>I)u=Math.max(0,s[v].h-100),g=!1;else try{o2(T,c,"req"+I+"_")}catch{r&&r(T)}}if(g){r=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function KO(n){n.g||n.u||(n.Y=1,h0(n.Ga,n),n.A=0)}function $x(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=d(Ai(n.Ga,n),QO(n,n.A)),n.A++,0))}function Hx(n){null!=n.B&&(Gt.clearTimeout(n.B),n.B=null)}function ZO(n){n.g=new Ue(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=pd(n.oa);wr(e,"RID","rpc"),wr(e,"SID",n.J),wr(e,"CI",n.N?"0":"1"),wr(e,"AID",n.U),C0(n,e),wr(e,"TYPE","xmlhttp"),n.o&&n.s&&Ux(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=WD(pd(e)),t.s=null,t.U=!0,gn(t,n)}function JD(n){null!=n.v&&(Gt.clearTimeout(n.v),n.v=null)}function YO(n,e){var t=null;if(n.g==e){JD(n),Hx(n),n.g=null;var r=2}else{if(!kx(n.i,e))return;t=e.D,kO(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var s=n.C;ui(r=$y(),new l(r,t,e,s)),XD(n)}else KO(n);else if(3==(s=e.o)||0==s&&0<n.I||!(1==r&&function p2(n,e){return!(OO(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=d(Ai(n.Ha,n,e),QO(n,n.C)),n.C++,0)))}(n,e)||2==r&&$x(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),s){case 1:rg(n,5);break;case 4:rg(n,10);break;case 3:rg(n,6);break;default:rg(n,2)}}function QO(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function rg(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Ai(n.jb,n);t||(t=new ng("//www.google.com/images/cleardot.gif"),Gt.location&&"http"==Gt.location.protocol||zD(t,"https"),WD(t)),function a2(n,e){const t=new g0;if(Gt.Image){const r=new Image;r.onload=Bp(KD,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Bp(KD,t,r,"TestLoadImage: error",!1,e),r.onabort=Bp(KD,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Bp(KD,t,r,"TestLoadImage: timeout",!1,e),Gt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else a(2);n.G=0,n.j&&n.j.va(e),XO(n),GO(n)}function XO(n){n.G=0,n.I=-1,n.j&&((0!=FO(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Vy(n.l),n.l.length=0),n.j.ua())}function JO(n,e,t){let r=function ZL(n){return n instanceof ng?pd(n):new ng(n,void 0)}(t);if(""!=r.i)e&&GD(r,e+"."+r.i),qD(r,r.m);else{const s=Gt.location;r=function YL(n,e,t,r){var s=new ng(null,void 0);return n&&zD(s,n),e&&GD(s,e),t&&qD(s,t),r&&(s.l=r),s}(s.protocol,e?e+"."+s.hostname:s.hostname,+s.port,t)}return n.aa&&Kw(n.aa,function(s,u){wr(r,u,s)}),t=n.sa,(e=n.D)&&t&&wr(r,e,t),wr(r,"VER",n.ma),C0(n,r),r}function ek(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new li(t&&n.Ba&&!n.qa?new w0({ib:!0}):n.qa)).L=n.H,e}function tk(){}function eS(){if(Fh&&!(10<=Number(_O)))throw Error("Environmental error: no available transport.")}function wa(n,e){Wr.call(this),this.g=new zO(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Uy(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Uy(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Gy(this)}function nk(n){V.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function rk(){ee.call(this),this.status=1}function Gy(n){this.g=n}(pt=li.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():oe.g(),this.C=function C(n){return n.h||(n.h=n.i())}(this.u?this.u:oe),this.g.onreadystatechange=Ai(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void UO(this,u)}n=t||"";const s=new Hy(this.headers);r&&Nx(r,function(u,c){s.set(c,u)}),r=function dx(n){e:{var e=h2;const t=n.length,r="string"==typeof n?n.split(""):n;for(let s=0;s<t;s++)if(s in r&&e.call(void 0,r[s],s,n)){e=s;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(s.T()),t=Gt.FormData&&n instanceof Gt.FormData,!(0<=qw(c2,e))||r||t||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(u,c){this.g.setRequestHeader(c,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{$O(this),0<this.B&&((this.K=function d2(n){return Fh&&function Xw(){return function yO(n){var e=Qw;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=MD(String($p)).split("."),t=MD("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var s=e[c]||"",u=t[c]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==s[0].length&&0==u[0].length)break;n=xD(0==s[1].length?0:parseInt(s[1],10),0==u[1].length?0:parseInt(u[1],10))||xD(0==s[2].length,0==u[2].length)||xD(s[2],u[2]),s=s[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ai(this.pa,this)):this.A=p0(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){UO(this,u)}},pt.pa=function(){typeof Hw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ui(this,"timeout"),this.abort(8))},pt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ui(this,"complete"),ui(this,"abort"),YD(this))},pt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),YD(this,!0)),li.Z.M.call(this)},pt.Fa=function(){this.s||(this.F||this.v||this.l?jO(this):this.cb())},pt.cb=function(){jO(this)},pt.ba=function(){try{return 2<gd(this)?this.g.status:-1}catch{return-1}},pt.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},pt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),u2(e)}},pt.Da=function(){return this.m},pt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(pt=zO.prototype).ma=8,pt.G=1,pt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},pt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const s=new Ue(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=PD(u),px(u,this.P)):u=this.P),null===this.o&&(s.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=WO(this,s,e),wr(t=pd(this.F),"RID",n),wr(t,"CVER",22),this.D&&wr(t,"X-HTTP-Session-Id",this.D),C0(this,t),this.o&&u&&Ux(t,this.o,u),Fx(this.i,s),this.Ra&&wr(t,"TYPE","init"),this.ja?(wr(t,"$req",e),wr(t,"SID","null"),s.$=!0,un(s,t,null)):un(s,t,e),this.G=2}}else 3==this.G&&(n?qO(this,n):0==this.l.length||NO(this.i)||qO(this))},pt.Ga=function(){if(this.u=null,ZO(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=d(Ai(this.bb,this),n)}},pt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,a(10),QD(this),ZO(this))},pt.ab=function(){null!=this.v&&(this.v=null,QD(this),$x(this),a(19))},pt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),a(2)):(this.h.info("Failed to ping google.com"),a(1))},(pt=tk.prototype).xa=function(){},pt.wa=function(){},pt.va=function(){},pt.ua=function(){},pt.Oa=function(){},eS.prototype.g=function(n,e){return new wa(n,e)},ai(wa,Wr),wa.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),h0(Ai(n.hb,n,e))),a(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=JO(n,null,n.W),XD(n)},wa.prototype.close=function(){Bx(this.g)},wa.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,jx(this.g,e)}else this.v?((e={}).__data__=u0(n),jx(this.g,e)):jx(this.g,n)},wa.prototype.M=function(){this.g.j=null,delete this.j,Bx(this.g),delete this.g,wa.Z.M.call(this)},ai(nk,V),ai(rk,ee),ai(Gy,tk),Gy.prototype.xa=function(){ui(this.g,"a")},Gy.prototype.wa=function(n){ui(this.g,new nk(n))},Gy.prototype.va=function(n){ui(this.g,new rk(n))},Gy.prototype.ua=function(){ui(this.g,"b")},eS.prototype.createWebChannel=eS.prototype.g,wa.prototype.send=wa.prototype.u,wa.prototype.open=wa.prototype.m,wa.prototype.close=wa.prototype.close,p.NO_ERROR=0,p.TIMEOUT=8,p.HTTP_ERROR=6,y.COMPLETE="complete",M.EventType=O,O.OPEN="a",O.CLOSE="b",O.ERROR="c",O.MESSAGE="d",Wr.prototype.listen=Wr.prototype.N,li.prototype.listenOnce=li.prototype.O,li.prototype.getLastError=li.prototype.La,li.prototype.getLastErrorCode=li.prototype.Da,li.prototype.getStatus=li.prototype.ba,li.prototype.getResponseJson=li.prototype.Qa,li.prototype.getResponseText=li.prototype.ga,li.prototype.send=li.prototype.ea;var g2=Xu.createWebChannelTransport=function(){return new eS},m2=Xu.getStatEventTarget=function(){return $y()},zx=Xu.ErrorCode=p,y2=Xu.EventType=y,v2=Xu.Event=Vh,ik=Xu.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},_2=Xu.FetchXmlHttpFactory=w0,tS=Xu.WebChannel=M,w2=Xu.XhrIo=li;const sk="@firebase/firestore";class Hi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hi.UNAUTHENTICATED=new Hi(null),Hi.GOOGLE_CREDENTIALS=new Hi("google-credentials-uid"),Hi.FIRST_PARTY=new Hi("first-party-uid"),Hi.MOCK_USER=new Hi("mock-user");let qy="9.9.1";const Bh=new Wl.Yd("@firebase/firestore");function Gx(){return Bh.logLevel}function ze(n,...e){if(Bh.logLevel<=Wl.in.DEBUG){const t=e.map(qx);Bh.debug(`Firestore (${qy}): ${n}`,...t)}}function ci(n,...e){if(Bh.logLevel<=Wl.in.ERROR){const t=e.map(qx);Bh.error(`Firestore (${qy}): ${n}`,...t)}}function D0(n,...e){if(Bh.logLevel<=Wl.in.WARN){const t=e.map(qx);Bh.warn(`Firestore (${qy}): ${n}`,...t)}}function qx(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function gt(n="Unexpected state"){const e=`FIRESTORE (${qy}) INTERNAL ASSERTION FAILED: `+n;throw ci(e),new Error(e)}function qt(n,e){n||gt()}function at(n,e){return n}const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class je extends Ft.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ok{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class I2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Hi.UNAUTHENTICATED))}shutdown(){}}class C2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class D2{constructor(e){this.t=e,this.currentUser=Hi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let s=this.i;const u=I=>this.i!==s?(s=this.i,t(I)):Promise.resolve();let c=new zi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new zi,e.enqueueRetryable(()=>u(this.currentUser))};const g=()=>{const I=c;e.enqueueRetryable((0,Ce.Z)(function*(){yield I.promise,yield u(r.currentUser)}))},v=I=>{ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=I,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(I=>v(I)),setTimeout(()=>{if(!this.auth){const I=this.t.getImmediate({optional:!0});I?v(I):(ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new zi)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qt("string"==typeof r.accessToken),new ok(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return qt(null===e||"string"==typeof e),new Hi(e)}}class S2{constructor(e,t,r){this.type="FirstParty",this.user=Hi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const s=e.auth.getAuthHeaderValueForFirstParty([]);s&&this.headers.set("Authorization",s),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class T2{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new S2(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Hi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ak{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class A2{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=u=>{null!=u.error&&ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.p;return this.p=u.token,ze("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const s=u=>{ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.g.onInit(u=>s(u)),setTimeout(()=>{if(!this.appCheck){const u=this.g.getImmediate({optional:!0});u?s(u):ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(qt("string"==typeof t.token),this.p=t.token,new ak(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function M2(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class uk{static I(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const s=M2(40);for(let u=0;u<s.length;++u)r.length<20&&s[u]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(s[u]%62))}return r}}function on(n,e){return n<e?-1:n>e?1:0}function Wy(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}function lk(n){return n+"\0"}class br{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new je(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new je(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new je(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new je(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return br.fromMillis(Date.now())}static fromDate(e){return br.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new br(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?on(this.nanoseconds,e.nanoseconds):on(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Bt(e)}static min(){return new Bt(new br(0,0))}static max(){return new Bt(new br(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class S0{constructor(e,t,r){void 0===t?t=0:t>e.length&&gt(),void 0===r?r=e.length-t:r>e.length-t&&gt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===S0.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof S0?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const u=e.get(s),c=t.get(s);if(u<c)return-1;if(u>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class bn extends S0{construct(e,t,r){return new bn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new je(we.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new bn(t)}static emptyPath(){return new bn([])}}const x2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kr extends S0{construct(e,t,r){return new Kr(e,t,r)}static isValidIdentifier(e){return x2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Kr(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const u=()=>{if(0===r.length)throw new je(we.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;s<e.length;){const g=e[s];if("\\"===g){if(s+1===e.length)throw new je(we.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[s+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new je(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,s+=2}else"`"===g?(c=!c,s++):"."!==g||c?(r+=g,s++):(u(),s++)}if(u(),c)throw new je(we.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kr(t)}static emptyPath(){return new Kr([])}}class rt{constructor(e){this.path=e}static fromPath(e){return new rt(bn.fromString(e))}static fromName(e){return new rt(bn.fromString(e).popFirst(5))}static empty(){return new rt(bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===bn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return bn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rt(new bn(e.slice()))}}class nS{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function Wx(n){return n.fields.find(e=>2===e.kind)}function ig(n){return n.fields.filter(e=>2!==e.kind)}nS.UNKNOWN_ID=-1;class rS{constructor(e,t){this.fieldPath=e,this.kind=t}}class T0{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new T0(0,ba.min())}}function ck(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Bt.fromTimestamp(1e9===r?new br(t+1,0):new br(t,r));return new ba(s,rt.empty(),e)}function dk(n){return new ba(n.readTime,n.key,-1)}class ba{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ba(Bt.min(),rt.empty(),-1)}static max(){return new ba(Bt.max(),rt.empty(),-1)}}function Kx(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=rt.comparator(n.documentKey,e.documentKey),0!==t?t:on(n.largestBatchId,e.largestBatchId))}const hk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function jh(n){return Zx.apply(this,arguments)}function Zx(){return Zx=(0,Ce.Z)(function*(n){if(n.code!==we.FAILED_PRECONDITION||n.message!==hk)throw n;ze("LocalStore","Unexpectedly lost primary lease")}),Zx.apply(this,arguments)}class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe((r,s)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,s)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.reject(t)}static resolve(e){return new fe((t,r)=>{t(e)})}static reject(e){return new fe((t,r)=>{r(e)})}static waitFor(e){return new fe((t,r)=>{let s=0,u=0,c=!1;e.forEach(g=>{++s,g.next(()=>{++u,c&&u===s&&t()},v=>r(v))}),c=!0,u===s&&t()})}static or(e){let t=fe.resolve(!1);for(const r of e)t=t.next(s=>s?fe.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,u)=>{r.push(t.call(this,s,u))}),this.waitFor(r)}static mapArray(e,t){return new fe((r,s)=>{const u=e.length,c=new Array(u);let g=0;for(let v=0;v<u;v++){const I=v;t(e[I]).next(T=>{c[I]=T,++g,g===u&&r(c)},T=>s(T))}})}static doWhile(e,t){return new fe((r,s)=>{const u=()=>{!0===e()?t().next(()=>{u()},s):r()};u()})}}class iS{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new zi,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new A0(e,t.error)):this.T.resolve()},this.transaction.onerror=r=>{const s=Yx(r.target.error);this.T.reject(new A0(e,s))}}static open(e,t,r,s){try{return new iS(t,e.transaction(s,r))}catch(u){throw new A0(t,u)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(ze("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new P2(t)}}class Ju{constructor(e,t,r){this.name=e,this.version=t,this.P=r,12.2===Ju.v((0,Ft.z$)())&&ci("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ze("SimpleDb","Removing database:",e),sg(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,Ft.hl)())return!1;if(Ju.S())return!0;const e=(0,Ft.z$)(),t=Ju.v(e),r=0<t&&t<10,s=Ju.D(e),u=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static S(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static D(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}k(e){var t=this;return(0,Ce.Z)(function*(){return t.db||(ze("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,s)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=c=>{r(c.target.result)},u.onblocked=()=>{s(new A0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=c=>{const g=c.target.error;s("VersionError"===g.name?new je(we.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new je(we.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new A0(e,g))},u.onupgradeneeded=c=>{ze("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.P.O(c.target.result,u.transaction,c.oldVersion,t.version).next(()=>{ze("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.M&&(t.db.onversionchange=r=>t.M(r)),t.db})()}F(e){this.M=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,s){var u=this;return(0,Ce.Z)(function*(){const c="readonly"===t;let g=0;for(;;){++g;try{u.db=yield u.k(e);const v=iS.open(u.db,e,c?"readonly":"readwrite",r),I=s(v).next(T=>(v.R(),T)).catch(T=>(v.abort(T),fe.reject(T))).toPromise();return I.catch(()=>{}),yield v.A,I}catch(v){const I=v,T="FirebaseError"!==I.name&&g<3;if(ze("SimpleDb","Transaction failed with error:",I.message,"Retrying:",T),u.close(),!T)return Promise.reject(I)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class R2{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return sg(this.$.delete())}}class A0 extends je{constructor(e,t){super(we.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function $h(n){return"IndexedDbTransactionError"===n.name}class P2{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(ze("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(ze("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),sg(r)}add(e){return ze("SimpleDb","ADD",this.store.name,e,e),sg(this.store.add(e))}get(e){return sg(this.store.get(e)).next(t=>(void 0===t&&(t=null),ze("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ze("SimpleDb","DELETE",this.store.name,e),sg(this.store.delete(e))}count(){return ze("SimpleDb","COUNT",this.store.name),sg(this.store.count())}K(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const s=this.cursor(r),u=[];return this.G(s,(c,g)=>{u.push(g)}).next(()=>u)}{const s=this.store.getAll(r.range);return new fe((u,c)=>{s.onerror=g=>{c(g.target.error)},s.onsuccess=g=>{u(g.target.result)}})}}j(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new fe((s,u)=>{r.onerror=c=>{u(c.target.error)},r.onsuccess=c=>{s(c.target.result)}})}W(e,t){ze("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.H=!1;const s=this.cursor(r);return this.G(s,(u,c,g)=>g.delete())}J(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.G(s,t)}Y(e){const t=this.cursor({});return new fe((r,s)=>{t.onerror=u=>{const c=Yx(u.target.error);s(c)},t.onsuccess=u=>{const c=u.target.result;c?e(c.primaryKey,c.value).next(g=>{g?c.continue():r()}):r()}})}G(e,t){const r=[];return new fe((s,u)=>{e.onerror=c=>{u(c.target.error)},e.onsuccess=c=>{const g=c.target.result;if(!g)return void s();const v=new R2(g),I=t(g.primaryKey,g.value,v);if(I instanceof fe){const T=I.catch(P=>(v.done(),fe.reject(P)));r.push(T)}v.isDone?s():null===v.U?g.continue():g.continue(v.U)}}).next(()=>fe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function sg(n){return new fe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const s=Yx(r.target.error);t(s)}})}let pk=!1;function Yx(n){const e=Ju.v((0,Ft.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new je("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return pk||(pk=!0,setTimeout(()=>{throw r},0)),r}}return n}class N2{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;ze("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ce.Z)(function*(){t.task=null;try{ze("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(r){$h(r)?ze("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield jh(r)}yield t.Z(1)}))}}class O2{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,Ce.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.et(r,e))})()}et(e,t){const r=new Set;let s=t,u=!0;return fe.doWhile(()=>!0===u&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return ze("IndexBackiller",`Processing collection: ${c}`),this.nt(e,c,s).next(g=>{s-=g,r.add(c)});u=!1})).next(()=>t-s)}nt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(s=>this.localStore.localDocuments.getNextDocuments(e,t,s,r).next(u=>{const c=u.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.st(s,u)).next(g=>(ze("IndexBackiller",`Updating offset: ${g}`),this.localStore.indexManager.updateCollectionGroup(e,t,g))).next(()=>c.size)}))}st(e,t){let r=e;return t.changes.forEach((s,u)=>{const c=dk(u);Kx(c,r)>0&&(r=c)}),new ba(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Oo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.it(r),this.rt=r=>t.writeSequenceNumber(r))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function gk(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function og(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function mk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Oo.ot=-1;class Lr{constructor(e,t){this.comparator=e,this.root=t||ls.EMPTY}insert(e,t){return new Lr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ls.BLACK,null,null))}remove(e){return new Lr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ls.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sS(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sS(this.root,e,this.comparator,!1)}getReverseIterator(){return new sS(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sS(this.root,e,this.comparator,!0)}}class sS{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&s&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ls{constructor(e,t,r,s,u){this.key=e,this.value=t,this.color=r??ls.RED,this.left=s??ls.EMPTY,this.right=u??ls.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,u){return new ls(e??this.key,t??this.value,r??this.color,s??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const u=r(e,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(e,t,r),null):0===u?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ls.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return ls.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ls.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ls.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gt();const e=this.left.check();if(e!==this.right.check())throw gt();return e+(this.isRed()?0:1)}}ls.EMPTY=null,ls.RED=!0,ls.BLACK=!1,ls.EMPTY=new class{constructor(){this.size=0}get key(){throw gt()}get value(){throw gt()}get color(){throw gt()}get left(){throw gt()}get right(){throw gt()}copy(n,e,t,r,s){return this}insert(n,e,t){return new ls(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wn{constructor(e){this.comparator=e,this.data=new Lr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yk(this.data.getIterator())}getIteratorFrom(e){return new yk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Wn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(s,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Wn(this.comparator);return t.data=e,t}}class yk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ky(n){return n.hasNext()?n.getNext():void 0}class Ea{constructor(e){this.fields=e,e.sort(Kr.comparator)}static empty(){return new Ea([])}unionWith(e){let t=new Wn(Kr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ea(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wy(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Ri{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ri(t)}static fromUint8Array(e){const t=function(r){let s="";for(let u=0;u<r.length;++u)s+=String.fromCharCode(r[u]);return s}(e);return new Ri(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return on(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ri.EMPTY_BYTE_STRING=new Ri("");const F2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hh(n){if(qt(!!n),"string"==typeof n){let e=0;const t=F2.exec(n);if(qt(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vr(n.seconds),nanos:Vr(n.nanos)}}function Vr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ag(n){return"string"==typeof n?Ri.fromBase64String(n):Ri.fromUint8Array(n)}function Qx(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function vk(n){const e=n.mapValue.fields.__previous_value__;return Qx(e)?vk(e):e}function M0(n){const e=Hh(n.mapValue.fields.__local_write_time__.timestampValue);return new br(e.seconds,e.nanos)}class L2{constructor(e,t,r,s,u,c,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=g,this.useFetchStreams=v}}class md{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new md("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof md&&e.projectId===this.projectId&&e.database===this.database}}function x0(n){return null==n}function R0(n){return 0===n&&1/n==-1/0}function _k(n){return"number"==typeof n&&Number.isInteger(n)&&!R0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const zh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},oS={nullValue:"NULL_VALUE"};function ug(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Qx(n)?4:Ik(n)?9007199254740991:10:gt()}function sc(n,e){if(n===e)return!0;const t=ug(n);if(t!==ug(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return M0(n).isEqual(M0(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const u=Hh(r.timestampValue),c=Hh(s.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,ag(n.bytesValue).isEqual(ag(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return Vr(r.geoPointValue.latitude)===Vr(s.geoPointValue.latitude)&&Vr(r.geoPointValue.longitude)===Vr(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Vr(r.integerValue)===Vr(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const u=Vr(r.doubleValue),c=Vr(s.doubleValue);return u===c?R0(u)===R0(c):isNaN(u)&&isNaN(c)}return!1}(n,e);case 9:return Wy(n.arrayValue.values||[],e.arrayValue.values||[],sc);case 10:return function(r,s){const u=r.mapValue.fields||{},c=s.mapValue.fields||{};if(gk(u)!==gk(c))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(void 0===c[g]||!sc(u[g],c[g])))return!1;return!0}(n,e);default:return gt()}var s}function P0(n,e){return void 0!==(n.values||[]).find(t=>sc(t,e))}function Gh(n,e){if(n===e)return 0;const t=ug(n),r=ug(e);if(t!==r)return on(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return on(n.booleanValue,e.booleanValue);case 2:return function(s,u){const c=Vr(s.integerValue||s.doubleValue),g=Vr(u.integerValue||u.doubleValue);return c<g?-1:c>g?1:c===g?0:isNaN(c)?isNaN(g)?0:-1:1}(n,e);case 3:return wk(n.timestampValue,e.timestampValue);case 4:return wk(M0(n),M0(e));case 5:return on(n.stringValue,e.stringValue);case 6:return function(s,u){const c=ag(s),g=ag(u);return c.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(s,u){const c=s.split("/"),g=u.split("/");for(let v=0;v<c.length&&v<g.length;v++){const I=on(c[v],g[v]);if(0!==I)return I}return on(c.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,u){const c=on(Vr(s.latitude),Vr(u.latitude));return 0!==c?c:on(Vr(s.longitude),Vr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,u){const c=s.values||[],g=u.values||[];for(let v=0;v<c.length&&v<g.length;++v){const I=Gh(c[v],g[v]);if(I)return I}return on(c.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,u){if(s===zh.mapValue&&u===zh.mapValue)return 0;if(s===zh.mapValue)return 1;if(u===zh.mapValue)return-1;const c=s.fields||{},g=Object.keys(c),v=u.fields||{},I=Object.keys(v);g.sort(),I.sort();for(let T=0;T<g.length&&T<I.length;++T){const P=on(g[T],I[T]);if(0!==P)return P;const $=Gh(c[g[T]],v[I[T]]);if(0!==$)return $}return on(g.length,I.length)}(n.mapValue,e.mapValue);default:throw gt()}}function wk(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return on(n,e);const t=Hh(n),r=Hh(e),s=on(t.seconds,r.seconds);return 0!==s?s:on(t.nanos,r.nanos)}function Zy(n){return Xx(n)}function Xx(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const s=Hh(r);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ag(n.bytesValue).toBase64():"referenceValue"in n?rt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let s="[",u=!0;for(const c of r.values||[])u?u=!1:s+=",",s+=Xx(c);return s+"]"}(n.arrayValue):"mapValue"in n?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",c=!0;for(const g of s)c?c=!1:u+=",",u+=`${g}:${Xx(r.fields[g])}`;return u+"}"}(n.mapValue):gt();var e}function lg(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Jx(n){return!!n&&"integerValue"in n}function N0(n){return!!n&&"arrayValue"in n}function bk(n){return!!n&&"nullValue"in n}function Ek(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function aS(n){return!!n&&"mapValue"in n}function O0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return og(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=O0(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=O0(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Ik(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function V2(n){return"nullValue"in n?oS:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?lg(md.empty(),rt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:gt()}function U2(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?lg(md.empty(),rt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?zh:gt()}function Ck(n,e){const t=Gh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Dk(n,e){const t=Gh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class cs{constructor(e){this.value=e}static empty(){return new cs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!aS(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=O0(t)}setAll(e){let t=Kr.emptyPath(),r={},s=[];e.forEach((c,g)=>{if(!t.isImmediateParentOf(g)){const v=this.getFieldsMap(t);this.applyChanges(v,r,s),r={},s=[],t=g.popLast()}c?r[g.lastSegment()]=O0(c):s.push(g.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,s)}delete(e){const t=this.field(e.popLast());aS(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return sc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];aS(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){og(t,(s,u)=>e[s]=u);for(const s of r)delete e[s]}clone(){return new cs(O0(this.value))}}function Sk(n){const e=[];return og(n.fields,(t,r)=>{const s=new Kr([t]);if(aS(r)){const u=Sk(r.mapValue).fields;if(0===u.length)e.push(s);else for(const c of u)e.push(s.child(c))}else e.push(s)}),new Ea(e)}class ar{constructor(e,t,r,s,u,c){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.data=u,this.documentState=c}static newInvalidDocument(e){return new ar(e,0,Bt.min(),Bt.min(),cs.empty(),0)}static newFoundDocument(e,t,r){return new ar(e,1,t,Bt.min(),r,0)}static newNoDocument(e,t){return new ar(e,2,t,Bt.min(),cs.empty(),0)}static newUnknownDocument(e,t){return new ar(e,3,t,Bt.min(),cs.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ar&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ar(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class B2{constructor(e,t=null,r=[],s=[],u=null,c=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=u,this.startAt=c,this.endAt=g,this.ut=null}}function Tk(n,e=null,t=[],r=[],s=null,u=null,c=null){return new B2(n,e,t,r,s,u,c)}function cg(n){const e=at(n);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(s=r).field.canonicalString()+s.op.toString()+Zy(s.value);var s}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),x0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Zy(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Zy(r)).join(",")),e.ut=t}return e.ut}function k0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<n.orderBy.length;s++)if(!Z2(n.orderBy[s],e.orderBy[s]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let s=0;s<n.filters.length;s++)if((t=n.filters[s]).op!==(r=e.filters[s]).op||!t.field.isEqual(r.field)||!sc(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Pk(n.startAt,e.startAt)&&Pk(n.endAt,e.endAt)}function uS(n){return rt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function lS(n,e){return n.filters.filter(t=>t instanceof ds&&t.field.isEqual(e))}function Ak(n,e,t){let r=oS,s=!0;for(const u of lS(n,e)){let c=oS,g=!0;switch(u.op){case"<":case"<=":c=V2(u.value);break;case"==":case"in":case">=":c=u.value;break;case">":c=u.value,g=!1;break;case"!=":case"not-in":c=oS}Ck({value:r,inclusive:s},{value:c,inclusive:g})<0&&(r=c,s=g)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const c=t.position[u];Ck({value:r,inclusive:s},{value:c,inclusive:t.inclusive})<0&&(r=c,s=t.inclusive);break}return{value:r,inclusive:s}}function Mk(n,e,t){let r=zh,s=!0;for(const u of lS(n,e)){let c=zh,g=!0;switch(u.op){case">=":case">":c=U2(u.value),g=!1;break;case"==":case"in":case"<=":c=u.value;break;case"<":c=u.value,g=!1;break;case"!=":case"not-in":c=zh}Dk({value:r,inclusive:s},{value:c,inclusive:g})>0&&(r=c,s=g)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const c=t.position[u];Dk({value:r,inclusive:s},{value:c,inclusive:t.inclusive})>0&&(r=c,s=t.inclusive);break}return{value:r,inclusive:s}}class ds extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new $2(e,t,r):"array-contains"===t?new G2(e,r):"in"===t?new q2(e,r):"not-in"===t?new W2(e,r):"array-contains-any"===t?new K2(e,r):new ds(e,t,r)}static ct(e,t,r){return"in"===t?new H2(e,r):new z2(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(Gh(t,this.value)):null!==t&&ug(this.value)===ug(t)&&this.at(Gh(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return gt()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class $2 extends ds{constructor(e,t,r){super(e,t,r),this.key=rt.fromName(r.referenceValue)}matches(e){const t=rt.comparator(e.key,this.key);return this.at(t)}}class H2 extends ds{constructor(e,t){super(e,"in",t),this.keys=xk(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class z2 extends ds{constructor(e,t){super(e,"not-in",t),this.keys=xk(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function xk(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>rt.fromName(r.referenceValue))}class G2 extends ds{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return N0(t)&&P0(t.arrayValue,this.value)}}class q2 extends ds{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&P0(this.value.arrayValue,t)}}class W2 extends ds{constructor(e,t){super(e,"not-in",t)}matches(e){if(P0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!P0(this.value.arrayValue,t)}}class K2 extends ds{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!N0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>P0(this.value.arrayValue,r))}}class qh{constructor(e,t){this.position=e,this.inclusive=t}}class Yy{constructor(e,t="asc"){this.field=e,this.dir=t}}function Z2(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Rk(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const u=e[s],c=n.position[s];if(r=u.field.isKeyField()?rt.comparator(rt.fromName(c.referenceValue),t.key):Gh(c,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function Pk(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!sc(n.position[t],e.position[t]))return!1;return!0}class yd{constructor(e,t=null,r=[],s=[],u=null,c="F",g=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=u,this.limitType=c,this.startAt=g,this.endAt=v,this.lt=null,this.ft=null}}function Nk(n,e,t,r,s,u,c,g){return new yd(n,e,t,r,s,u,c,g)}function Qy(n){return new yd(n)}function eR(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function tR(n){for(const e of n.filters)if(e.ht())return e.field;return null}function nR(n){return null!==n.collectionGroup}function Xy(n){const e=at(n);if(null===e.lt){e.lt=[];const t=tR(e),r=eR(e);if(null!==t&&null===r)t.isKeyField()||e.lt.push(new Yy(t)),e.lt.push(new Yy(Kr.keyField(),"asc"));else{let s=!1;for(const u of e.explicitOrderBy)e.lt.push(u),u.field.isKeyField()&&(s=!0);if(!s){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new Yy(Kr.keyField(),u))}}}return e.lt}function cu(n){const e=at(n);if(!e.ft)if("F"===e.limitType)e.ft=Tk(e.path,e.collectionGroup,Xy(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Xy(e))t.push(new Yy(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new qh(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new qh(e.startAt.position,e.startAt.inclusive):null;e.ft=Tk(e.path,e.collectionGroup,t,e.filters,e.limit,r,s)}return e.ft}function Ok(n,e,t){return new yd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function F0(n,e){return k0(cu(n),cu(e))&&n.limitType===e.limitType}function kk(n){return`${cg(cu(n))}|lt:${n.limitType}`}function rR(n){return`Query(target=${function j2(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Zy(r.value)}`;var r}).join(", ")}]`),x0(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Zy(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Zy(t)).join(",")),`Target(${e})`}(cu(n))}; limitType=${n.limitType})`}function iR(n,e){return e.isFoundDocument()&&function(t,r){const s=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):rt.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s)}(n,e)&&function(t,r){for(const s of t.explicitOrderBy)if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,e)&&function(t,r){for(const s of t.filters)if(!s.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(s,u,c){const g=Rk(s,u,c);return s.inclusive?g<=0:g<0}(t.startAt,Xy(t),r)||t.endAt&&!function(s,u,c){const g=Rk(s,u,c);return s.inclusive?g>=0:g>0}(t.endAt,Xy(t),r)));var t,r}function Fk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Lk(n){return(e,t)=>{let r=!1;for(const s of Xy(n)){const u=Q2(s,e,t);if(0!==u)return u;r=r||s.field.isKeyField()}return 0}}function Q2(n,e,t){const r=n.field.isKeyField()?rt.comparator(e.key,t.key):function(s,u,c){const g=u.data.field(s),v=c.data.field(s);return null!==g&&null!==v?Gh(g,v):gt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return gt()}}function Vk(n,e){if(n.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:R0(e)?"-0":e}}function Uk(n){return{integerValue:""+n}}function Bk(n,e){return _k(e)?Uk(e):Vk(n,e)}class cS{constructor(){this._=void 0}}function X2(n,e,t){return n instanceof Jy?function(r,s){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&(u.fields.__previous_value__=s),{mapValue:u}}(t,e):n instanceof dg?$k(n,e):n instanceof hg?Hk(n,e):function(r,s){const u=jk(r,s),c=zk(u)+zk(r._t);return Jx(u)&&Jx(r._t)?Uk(c):Vk(r.wt,c)}(n,e)}function J2(n,e,t){return n instanceof dg?$k(n,e):n instanceof hg?Hk(n,e):t}function jk(n,e){return n instanceof ev?Jx(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Jy extends cS{}class dg extends cS{constructor(e){super(),this.elements=e}}function $k(n,e){const t=Gk(e);for(const r of n.elements)t.some(s=>sc(s,r))||t.push(r);return{arrayValue:{values:t}}}class hg extends cS{constructor(e){super(),this.elements=e}}function Hk(n,e){let t=Gk(e);for(const r of n.elements)t=t.filter(s=>!sc(s,r));return{arrayValue:{values:t}}}class ev extends cS{constructor(e,t){super(),this.wt=e,this._t=t}}function zk(n){return Vr(n.integerValue||n.doubleValue)}function Gk(n){return N0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class L0{constructor(e,t){this.field=e,this.transform=t}}class tV{constructor(e,t){this.version=e,this.transformResults=t}}class Ar{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ar}static exists(e){return new Ar(void 0,e)}static updateTime(e){return new Ar(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dS(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class hS{}function qk(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new nv(n.key,Ar.none()):new tv(n.key,n.data,Ar.none());{const t=n.data,r=cs.empty();let s=new Wn(Kr.comparator);for(let u of e.fields)if(!s.has(u)){let c=t.field(u);null===c&&u.length>1&&(u=u.popLast(),c=t.field(u)),null===c?r.delete(u):r.set(u,c),s=s.add(u)}return new vd(n.key,r,new Ea(s.toArray()),Ar.none())}}function nV(n,e,t){n instanceof tv?function(r,s,u){const c=r.value.clone(),g=Zk(r.fieldTransforms,s,u.transformResults);c.setAll(g),s.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(n,e,t):n instanceof vd?function(r,s,u){if(!dS(r.precondition,s))return void s.convertToUnknownDocument(u.version);const c=Zk(r.fieldTransforms,s,u.transformResults),g=s.data;g.setAll(Kk(r)),g.setAll(c),s.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function V0(n,e,t,r){return n instanceof tv?function(s,u,c,g){if(!dS(s.precondition,u))return c;const v=s.value.clone(),I=Yk(s.fieldTransforms,g,u);return v.setAll(I),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),null}(n,e,t,r):n instanceof vd?function(s,u,c,g){if(!dS(s.precondition,u))return c;const v=Yk(s.fieldTransforms,g,u),I=u.data;return I.setAll(Kk(s)),I.setAll(v),u.convertToFoundDocument(u.version,I).setHasLocalMutations(),null===c?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(T=>T.field))}(n,e,t,r):(c=t,dS(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c);var u,c}function rV(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),u=jk(r.transform,s||null);null!=u&&(null===t&&(t=cs.empty()),t.set(r.field,u))}return t||null}function Wk(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Wy(t,r,(s,u)=>function eV(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof dg&&r instanceof dg||t instanceof hg&&r instanceof hg?Wy(t.elements,r.elements,sc):t instanceof ev&&r instanceof ev?sc(t._t,r._t):t instanceof Jy&&r instanceof Jy);var t,r}(s,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class tv extends hS{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class vd extends hS{constructor(e,t,r,s,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Kk(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Zk(n,e,t){const r=new Map;qt(n.length===t.length);for(let s=0;s<t.length;s++){const u=n[s],c=u.transform,g=e.data.field(u.field);r.set(u.field,J2(c,g,t[s]))}return r}function Yk(n,e,t){const r=new Map;for(const s of n){const u=s.transform,c=t.data.field(s.field);r.set(s.field,X2(u,c,e))}return r}class nv extends hS{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sR extends hS{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class iV{constructor(e){this.count=e}}var di,En;function Qk(n){switch(n){default:return gt();case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0}}function Xk(n){if(void 0===n)return ci("GRPC error has no .code"),we.UNKNOWN;switch(n){case di.OK:return we.OK;case di.CANCELLED:return we.CANCELLED;case di.UNKNOWN:return we.UNKNOWN;case di.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case di.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case di.INTERNAL:return we.INTERNAL;case di.UNAVAILABLE:return we.UNAVAILABLE;case di.UNAUTHENTICATED:return we.UNAUTHENTICATED;case di.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case di.NOT_FOUND:return we.NOT_FOUND;case di.ALREADY_EXISTS:return we.ALREADY_EXISTS;case di.PERMISSION_DENIED:return we.PERMISSION_DENIED;case di.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case di.ABORTED:return we.ABORTED;case di.OUT_OF_RANGE:return we.OUT_OF_RANGE;case di.UNIMPLEMENTED:return we.UNIMPLEMENTED;case di.DATA_LOSS:return we.DATA_LOSS;default:return gt()}}(En=di||(di={}))[En.OK=0]="OK",En[En.CANCELLED=1]="CANCELLED",En[En.UNKNOWN=2]="UNKNOWN",En[En.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",En[En.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",En[En.NOT_FOUND=5]="NOT_FOUND",En[En.ALREADY_EXISTS=6]="ALREADY_EXISTS",En[En.PERMISSION_DENIED=7]="PERMISSION_DENIED",En[En.UNAUTHENTICATED=16]="UNAUTHENTICATED",En[En.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",En[En.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",En[En.ABORTED=10]="ABORTED",En[En.OUT_OF_RANGE=11]="OUT_OF_RANGE",En[En.UNIMPLEMENTED=12]="UNIMPLEMENTED",En[En.INTERNAL=13]="INTERNAL",En[En.UNAVAILABLE=14]="UNAVAILABLE",En[En.DATA_LOSS=15]="DATA_LOSS";class Wh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[s,u]of r)if(this.equalsFn(s,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return void(s[u]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){og(this.inner,(t,r)=>{for(const[s,u]of r)e(s,u)})}isEmpty(){return mk(this.inner)}size(){return this.innerSize}}const sV=new Lr(rt.comparator);function ko(){return sV}const Jk=new Lr(rt.comparator);function U0(...n){let e=Jk;for(const t of n)e=e.insert(t.key,t);return e}function e1(n){let e=Jk;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function oc(){return B0()}function t1(){return B0()}function B0(){return new Wh(n=>n.toString(),(n,e)=>n.isEqual(e))}const oV=new Lr(rt.comparator),aV=new Wn(rt.comparator);function ln(...n){let e=aV;for(const t of n)e=e.add(t);return e}const uV=new Wn(on);function fS(){return uV}class j0{constructor(e,t,r,s,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,$0.createSynthesizedTargetChangeForCurrentChange(e,t)),new j0(Bt.min(),r,fS(),ko(),ln())}}class $0{constructor(e,t,r,s,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new $0(Ri.EMPTY_BYTE_STRING,t,ln(),ln(),ln())}}class pS{constructor(e,t,r,s){this.gt=e,this.removedTargetIds=t,this.key=r,this.yt=s}}class n1{constructor(e,t){this.targetId=e,this.It=t}}class r1{constructor(e,t,r=Ri.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class i1{constructor(){this.Tt=0,this.Et=o1(),this.At=Ri.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=ln(),t=ln(),r=ln();return this.Et.forEach((s,u)=>{switch(u){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:gt()}}),new $0(this.At,this.Rt,e,t,r)}Dt(){this.bt=!1,this.Et=o1()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class lV{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=ko(),this.Bt=s1(),this.Lt=new Wn(on)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const r=this.Qt(t);switch(e.state){case 0:this.jt(t)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),r.Vt(e.resumeToken));break;default:gt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((r,s)=>{this.jt(s)&&t(s)})}zt(e){const t=e.targetId,r=e.It.count,s=this.Ht(t);if(s){const u=s.target;if(uS(u))if(0===r){const c=new rt(u.path);this.Kt(t,c,ar.newNoDocument(c,Bt.min()))}else qt(1===r);else this.Jt(t)!==r&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((u,c)=>{const g=this.Ht(c);if(g){if(u.current&&uS(g.target)){const v=new rt(g.target.path);null!==this.$t.get(v)||this.Xt(c,v)||this.Kt(c,v,ar.newNoDocument(v,e))}u.vt&&(t.set(c,u.St()),u.Dt())}});let r=ln();this.Bt.forEach((u,c)=>{let g=!0;c.forEachWhile(v=>{const I=this.Ht(v);return!I||2===I.purpose||(g=!1,!1)}),g&&(r=r.add(u))}),this.$t.forEach((u,c)=>c.setReadTime(e));const s=new j0(e,t,this.Lt,this.$t,r);return this.$t=ko(),this.Bt=s1(),this.Lt=new Wn(on),s}qt(e,t){if(!this.jt(e))return;const r=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,r),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,r){if(!this.jt(e))return;const s=this.Qt(e);this.Xt(e,t)?s.Ct(t,1):s.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),r&&(this.$t=this.$t.insert(t,r))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new i1,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new Wn(on),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||ze("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new i1),this.Mt.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}function s1(){return new Lr(rt.comparator)}function o1(){return new Lr(rt.comparator)}const cV={asc:"ASCENDING",desc:"DESCENDING"},dV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class hV{constructor(e,t){this.databaseId=e,this.dt=t}}function H0(n,e){return n.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function a1(n,e){return n.dt?e.toBase64():e.toUint8Array()}function fV(n,e){return H0(n,e.toTimestamp())}function Gi(n){return qt(!!n),Bt.fromTimestamp(function(e){const t=Hh(e);return new br(t.seconds,t.nanos)}(n))}function oR(n,e){return(t=n,new bn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function u1(n){const e=bn.fromString(n);return qt(y1(e)),e}function z0(n,e){return oR(n.databaseId,e.path)}function ac(n,e){const t=u1(e);if(t.get(1)!==n.databaseId.projectId)throw new je(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new je(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new rt(c1(t))}function aR(n,e){return oR(n.databaseId,e)}function l1(n){const e=u1(n);return 4===e.length?bn.emptyPath():c1(e)}function G0(n){return new bn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function c1(n){return qt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function d1(n,e,t){return{name:z0(n,e),fields:t.value.mapValue.fields}}function h1(n,e,t){const r=ac(n,e.name),s=Gi(e.updateTime),u=new cs({mapValue:{fields:e.fields}}),c=ar.newFoundDocument(r,s,u);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function q0(n,e){let t;if(e instanceof tv)t={update:d1(n,e.key,e.value)};else if(e instanceof nv)t={delete:z0(n,e.key)};else if(e instanceof vd)t={update:d1(n,e.key,e.data),updateMask:EV(e.fieldMask)};else{if(!(e instanceof sR))return gt();t={verify:z0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,u){const c=u.transform;if(c instanceof Jy)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof dg)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof hg)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ev)return{fieldPath:u.field.canonicalString(),increment:c._t};throw gt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:fV(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:gt()),t;var s}function uR(n,e){const t=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?Ar.updateTime(Gi(s.updateTime)):void 0!==s.exists?Ar.exists(s.exists):Ar.none():Ar.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(u,c){let g=null;"setToServerValue"in c?(qt("REQUEST_TIME"===c.setToServerValue),g=new Jy):"appendMissingElements"in c?g=new dg(c.appendMissingElements.values||[]):"removeAllFromArray"in c?g=new hg(c.removeAllFromArray.values||[]):"increment"in c?g=new ev(u,c.increment):gt();const v=Kr.fromServerFormat(c.fieldPath);return new L0(v,g)}(n,s)):[];var s;if(e.update){const s=ac(n,e.update.name),u=new cs({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Ea((e.updateMask.fieldPaths||[]).map(I=>Kr.fromServerFormat(I)));return new vd(s,u,c,t,r)}return new tv(s,u,t,r)}if(e.delete){const s=ac(n,e.delete);return new nv(s,t)}if(e.verify){const s=ac(n,e.verify);return new sR(s,t)}return gt()}function f1(n,e){return{documents:[aR(n,e.path)]}}function p1(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=aR(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=aR(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(v){if(0===v.length)return;const I=v.map(T=>function(P){if("=="===P.op){if(Ek(P.value))return{unaryFilter:{field:rv(P.field),op:"IS_NAN"}};if(bk(P.value))return{unaryFilter:{field:rv(P.field),op:"IS_NULL"}}}else if("!="===P.op){if(Ek(P.value))return{unaryFilter:{field:rv(P.field),op:"IS_NOT_NAN"}};if(bk(P.value))return{unaryFilter:{field:rv(P.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rv(P.field),op:_V(P.op),value:P.value}}}(T));return 1===I.length?I[0]:{compositeFilter:{op:"AND",filters:I}}}(e.filters);s&&(t.structuredQuery.where=s);const u=function(v){if(0!==v.length)return v.map(I=>{return{field:rv((T=I).field),direction:vV(T.dir)};var T})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=(I=e.limit,n.dt||x0(I)?I:{value:I});var I,g,v;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(v=e.endAt).inclusive,values:v.position}),t}function g1(n){let e=l1(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){qt(1===r);const T=t.from[0];T.allDescendants?s=T.collectionId:e=e.child(T.collectionId)}let u=[];t.where&&(u=m1(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(T=>{return new Yy(iv((P=T).field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction));var P}));let g=null;t.limit&&(g=function(T){let P;return P="object"==typeof T?T.value:T,x0(P)?null:P}(t.limit));let v=null;var T;t.startAt&&(v=new qh((T=t.startAt).values||[],!!T.before));let I=null;return t.endAt&&(I=function(T){return new qh(T.values||[],!T.before)}(t.endAt)),Nk(e,s,c,u,g,"F",v,I)}function m1(n){return n?void 0!==n.unaryFilter?[bV(n)]:void 0!==n.fieldFilter?[wV(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>m1(e)).reduce((e,t)=>e.concat(t)):gt():[]}function vV(n){return cV[n]}function _V(n){return dV[n]}function rv(n){return{fieldPath:n.canonicalString()}}function iv(n){return Kr.fromServerFormat(n.fieldPath)}function wV(n){return ds.create(iv(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gt()}}(n.fieldFilter.op),n.fieldFilter.value)}function bV(n){switch(n.unaryFilter.op){case"IS_NAN":const e=iv(n.unaryFilter.field);return ds.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=iv(n.unaryFilter.field);return ds.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=iv(n.unaryFilter.field);return ds.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=iv(n.unaryFilter.field);return ds.create(s,"!=",{nullValue:"NULL_VALUE"});default:return gt()}}function EV(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function y1(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function to(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=v1(e)),e=IV(n.get(t),e);return v1(e)}function IV(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const u=n.charAt(s);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function v1(n){return n+"\x01\x01"}function uc(n){const e=n.length;if(qt(e>=2),2===e)return qt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),bn.emptyPath();const t=e-2,r=[];let s="";for(let u=0;u<e;){const c=n.indexOf("\x01",u);switch((c<0||c>t)&&gt(),n.charAt(c+1)){case"\x01":const g=n.substring(u,c);let v;0===s.length?v=g:(s+=g,v=s,s=""),r.push(v);break;case"\x10":s+=n.substring(u,c),s+="\0";break;case"\x11":s+=n.substring(u,c+1);break;default:gt()}u=c+2}return new bn(r)}const _1=["userId","batchId"];function gS(n,e){return[n,to(e)]}function w1(n,e,t){return[n,to(e),t]}const CV={},DV=["prefixPath","collectionGroup","readTime","documentId"],SV=["prefixPath","collectionGroup","documentId"],TV=["collectionGroup","readTime","prefixPath","documentId"],AV=["canonicalId","targetId"],MV=["targetId","path"],xV=["path","targetId"],RV=["collectionId","parent"],PV=["indexId","uid"],NV=["uid","sequenceNumber"],OV=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],kV=["indexId","uid","orderedDocumentKey"],FV=["userId","collectionPath","documentId"],LV=["userId","collectionPath","largestBatchId"],VV=["userId","collectionGroup","largestBatchId"],b1=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],UV=[...b1,"documentOverlays"],E1=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],I1=E1,BV=[...I1,"indexConfiguration","indexState","indexEntries"];class lR extends fk{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function qi(n,e){const t=at(n);return Ju.N(t.ee,e)}class cR{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const u=this.mutations[s];u.key.isEqual(e.key)&&nV(u,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=V0(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=V0(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=t1();return this.mutations.forEach(s=>{const u=e.get(s.key),c=u.overlayedDocument;let g=this.applyToLocalView(c,u.mutatedFields);g=t.has(s.key)?null:g;const v=qk(c,g);null!==v&&r.set(s.key,v),c.isValidDocument()||c.convertToNoDocument(Bt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ln())}isEqual(e){return this.batchId===e.batchId&&Wy(this.mutations,e.mutations,(t,r)=>Wk(t,r))&&Wy(this.baseMutations,e.baseMutations,(t,r)=>Wk(t,r))}}class dR{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){qt(e.mutations.length===r.length);let s=oV;const u=e.mutations;for(let c=0;c<u.length;c++)s=s.insert(u[c].key,r[c].version);return new dR(e,t,r,s)}}class hR{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Kh{constructor(e,t,r,s,u=Bt.min(),c=Bt.min(),g=Ri.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=g}withSequenceNumber(e){return new Kh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Kh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Kh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class C1{constructor(e){this.ne=e}}function D1(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:mS(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:z0(s=n.ne,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:H0(s,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:fg(e.version)};else{if(!e.isUnknownDocument())return gt();r.unknownDocument={path:t.path.toArray(),version:fg(e.version)}}var s,u;return r}function mS(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function fg(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function pg(n){const e=new br(n.seconds,n.nanoseconds);return Bt.fromTimestamp(e)}function gg(n,e){const t=(e.baseMutations||[]).map(u=>uR(n.ne,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const r=e.mutations.map(u=>uR(n.ne,u)),s=br.fromMillis(e.localWriteTimeMs);return new cR(e.batchId,s,t,r)}function W0(n){const e=pg(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?pg(n.lastLimboFreeSnapshotVersion):Bt.min();let r;var s;return void 0!==n.query.documents?(qt(1===(s=n.query).documents.length),r=cu(Qy(l1(s.documents[0])))):r=cu(g1(n.query)),new Kh(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Ri.fromBase64String(n.resumeToken))}function S1(n,e){const t=fg(e.snapshotVersion),r=fg(e.lastLimboFreeSnapshotVersion);let s;s=uS(e.target)?f1(n.ne,e.target):p1(n.ne,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:cg(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function fR(n){const e=g1({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Ok(e,e.limit,"L"):e}function pR(n,e){return new hR(e.largestBatchId,uR(n.ne,e.overlayMutation))}function T1(n,e){const t=e.path.lastSegment();return[n,to(e.path.popLast()),t]}function A1(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:fg(r.readTime),documentKey:to(r.documentKey.path),largestBatchId:r.largestBatchId}}class $V{getBundleMetadata(e,t){return M1(e).get(t).next(r=>{if(r)return{id:(s=r).bundleId,createTime:pg(s.createTime),version:s.version};var s})}saveBundleMetadata(e,t){return M1(e).put({bundleId:(r=t).id,createTime:fg(Gi(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return x1(e).get(t).next(r=>{if(r)return{name:(s=r).name,query:fR(s.bundledQuery),readTime:pg(s.readTime)};var s})}saveNamedQuery(e,t){return x1(e).put({name:(r=t).name,readTime:fg(Gi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function M1(n){return qi(n,"bundles")}function x1(n){return qi(n,"namedQueries")}class yS{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new yS(e,t.uid||"")}getOverlay(e,t){return K0(e).get(T1(this.userId,t)).next(r=>r?pR(this.wt,r):null)}getOverlays(e,t){const r=oc();return fe.forEach(t,s=>this.getOverlay(e,s).next(u=>{null!==u&&r.set(s,u)})).next(()=>r)}saveOverlays(e,t,r){const s=[];return r.forEach((u,c)=>{const g=new hR(t,c);s.push(this.ie(e,g))}),fe.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach(c=>s.add(to(c.getCollectionPath())));const u=[];return s.forEach(c=>{const g=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);u.push(K0(e).W("collectionPathOverlayIndex",g))}),fe.waitFor(u)}getOverlaysForCollection(e,t,r){const s=oc(),u=to(t),c=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return K0(e).K("collectionPathOverlayIndex",c).next(g=>{for(const v of g){const I=pR(this.wt,v);s.set(I.getKey(),I)}return s})}getOverlaysForCollectionGroup(e,t,r,s){const u=oc();let c;const g=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return K0(e).J({index:"collectionGroupOverlayIndex",range:g},(v,I,T)=>{const P=pR(this.wt,I);u.size()<s||P.largestBatchId===c?(u.set(P.getKey(),P),c=P.largestBatchId):T.done()}).next(()=>u)}ie(e,t){return K0(e).put(function(r,s,u){const[c,g,v]=T1(s,u.mutation.key);return{userId:s,collectionPath:g,documentId:v,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:q0(r.ne,u.mutation)}}(this.wt,this.userId,t))}}function K0(n){return qi(n,"documentOverlays")}class mg{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(Vr(e.integerValue));else if("doubleValue"in e){const r=Vr(e.doubleValue);isNaN(r)?this.ce(t,13):(this.ce(t,15),R0(r)?t.ae(0):t.ae(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he(`${r.seconds||""}`),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(ag(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ce(t,45),t.ae(r.latitude||0),t.ae(r.longitude||0)}else"mapValue"in e?Ik(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):gt()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const r=e.fields||{};this.ce(t,55);for(const s of Object.keys(r))this.le(s,t),this.oe(r[s],t)}me(e,t){const r=e.values||[];this.ce(t,50);for(const s of r)this.oe(s,t)}_e(e,t){this.ce(t,37),rt.fromName(e).path.forEach(r=>{this.ce(t,60),this.ge(r,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function HV(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function R1(n){const e=64-function(t){let r=0;for(let s=0;s<8;++s){const u=HV(255&t[s]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}mg.ye=new mg;class zV{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ie(r.value),r=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ie(r);else if(r<2048)this.Ie(960|r>>>6),this.Ie(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r);else{const s=t.codePointAt(0);this.Ie(240|s>>>18),this.Ie(128|63&s>>>12),this.Ie(128|63&s>>>6),this.Ie(128|63&s)}}this.Te()}Pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const s=t.codePointAt(0);this.Ae(240|s>>>18),this.Ae(128|63&s>>>12),this.Ae(128|63&s>>>6),this.Ae(128|63&s)}}this.Re()}ve(e){const t=this.Ve(e),r=R1(t);this.Se(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}De(e){const t=this.Ve(e),r=R1(t);this.Se(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Oe(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(s){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,s,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class GV{constructor(e){this.Me=e}de(e){this.Me.pe(e)}he(e){this.Me.be(e)}ae(e){this.Me.ve(e)}ue(){this.Me.Ce()}}class qV{constructor(e){this.Me=e}de(e){this.Me.Ee(e)}he(e){this.Me.Pe(e)}ae(e){this.Me.De(e)}ue(){this.Me.Ne()}}class Z0{constructor(){this.Me=new zV,this.Fe=new GV(this.Me),this.$e=new qV(this.Me)}seed(e){this.Me.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class yg{constructor(e,t,r,s){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=s}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new yg(this.indexId,this.documentKey,this.arrayValue,r)}}function vg(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=P1(n.arrayValue,e.arrayValue),0!==t?t:(t=P1(n.directionalValue,e.directionalValue),0!==t?t:rt.comparator(n.documentKey,e.documentKey)))}function P1(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class WV{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const r=t;r.ht()?this.Ke=r:this.qe.push(r)}}Ge(e){const t=Wx(e);if(void 0!==t&&!this.Qe(t))return!1;const r=ig(e);let s=0,u=0;for(;s<r.length&&this.Qe(r[s]);++s);if(s===r.length)return!0;if(void 0!==this.Ke){const c=r[s];if(!this.je(this.Ke,c)||!this.We(this.Ue[u++],c))return!1;++s}for(;s<r.length;++s)if(u>=this.Ue.length||!this.We(this.Ue[u++],r[s]))return!1;return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class KV{constructor(){this.ze=new gR}addToCollectionParentIndex(e,t){return this.ze.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getIndexType(e,t){return fe.resolve(0)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,t){return fe.resolve(ba.min())}getMinOffsetFromCollectionGroup(e,t){return fe.resolve(ba.min())}updateCollectionGroup(e,t,r){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class gR{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Wn(bn.comparator),u=!s.has(r);return this.index[t]=s.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Wn(bn.comparator)).toArray()}}const vS=new Uint8Array(0);class ZV{constructor(e,t){this.user=e,this.databaseId=t,this.He=new gR,this.Je=new Wh(r=>cg(r),(r,s)=>k0(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const u={collectionId:r,parent:to(s)};return N1(e).put(u)}return fe.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[lk(t),""],!1,!0);return N1(e).K(s).next(u=>{for(const c of u){if(c.collectionId!==t)break;r.push(uc(c.parent))}return r})}addFieldIndex(e,t){const r=_S(e),s={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(g=>[g.fieldPath.canonicalString(),g.kind])};var c;delete s.indexId;const u=r.add(s);if(t.indexState){const c=Q0(e);return u.next(g=>{c.put(A1(g,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=_S(e),s=Q0(e),u=Y0(e);return r.delete(t.indexId).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Y0(e);let s=!0;const u=new Map;return fe.forEach(this.Ye(t),c=>this.Xe(e,c).next(g=>{s&&(s=!!g),u.set(c,g)})).next(()=>{if(s){let c=ln();const g=[];return fe.forEach(u,(v,I)=>{var T;ze("IndexedDbIndexManager",`Using index ${T=v,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(lt=>`${lt.fieldPath}:${lt.kind}`).join(",")}`} to execute ${cg(t)}`);const P=function(lt,Je){const Mt=Wx(Je);if(void 0===Mt)return null;for(const jt of lS(lt,Mt.fieldPath))switch(jt.op){case"array-contains-any":return jt.value.arrayValue.values||[];case"array-contains":return[jt.value]}return null}(I,v),$=function(lt,Je){const Mt=new Map;for(const jt of ig(Je))for(const yn of lS(lt,jt.fieldPath))switch(yn.op){case"==":case"in":Mt.set(jt.fieldPath.canonicalString(),yn.value);break;case"not-in":case"!=":return Mt.set(jt.fieldPath.canonicalString(),yn.value),Array.from(Mt.values())}return null}(I,v),K=function(lt,Je){const Mt=[];let jt=!0;for(const yn of ig(Je)){const Zr=0===yn.kind?Ak(lt,yn.fieldPath,lt.startAt):Mk(lt,yn.fieldPath,lt.startAt);Mt.push(Zr.value),jt&&(jt=Zr.inclusive)}return new qh(Mt,jt)}(I,v),Q=function(lt,Je){const Mt=[];let jt=!0;for(const yn of ig(Je)){const Zr=0===yn.kind?Mk(lt,yn.fieldPath,lt.endAt):Ak(lt,yn.fieldPath,lt.endAt);Mt.push(Zr.value),jt&&(jt=Zr.inclusive)}return new qh(Mt,jt)}(I,v),de=this.Ze(v,I,K),Me=this.Ze(v,I,Q),it=this.tn(v,I,$),ct=this.en(v.indexId,P,de,K.inclusive,Me,Q.inclusive,it);return fe.forEach(ct,lt=>r.j(lt,t.limit).next(Je=>{Je.forEach(Mt=>{const jt=rt.fromSegments(Mt.documentKey);c.has(jt)||(c=c.add(jt),g.push(jt))})}))}).next(()=>g)}return fe.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,r,s,u,c,g){const v=(null!=t?t.length:1)*Math.max(r.length,u.length),I=v/(null!=t?t.length:1),T=[];for(let P=0;P<v;++P){const $=t?this.nn(t[P/I]):vS,K=this.sn(e,$,r[P%I],s),Q=this.rn(e,$,u[P%I],c),de=g.map(Me=>this.sn(e,$,Me,!0));T.push(...this.createRange(K,Q,de))}return T}sn(e,t,r,s){const u=new yg(e,rt.empty(),t,r);return s?u:u.Le()}rn(e,t,r,s){const u=new yg(e,rt.empty(),t,r);return s?u.Le():u}Xe(e,t){const r=new WV(t),s=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next(u=>{let c=null;for(const g of u)r.Ge(g)&&(!c||g.fields.length>c.fields.length)&&(c=g);return c})}getIndexType(e,t){let r=2;return fe.forEach(this.Ye(t),s=>this.Xe(e,s).next(u=>{u?0!==r&&u.fields.length<function(c){let g=new Wn(Kr.comparator),v=!1;for(const I of c.filters){const T=I;T.field.isKeyField()||("array-contains"===T.op||"array-contains-any"===T.op?v=!0:g=g.add(T.field))}for(const I of c.orderBy)I.field.isKeyField()||(g=g.add(I.field));return g.size+(v?1:0)}(s)&&(r=1):r=0})).next(()=>r)}on(e,t){const r=new Z0;for(const s of ig(e)){const u=t.data.field(s.fieldPath);if(null==u)return null;const c=r.Be(s.kind);mg.ye.re(u,c)}return r.Oe()}nn(e){const t=new Z0;return mg.ye.re(e,t.Be(0)),t.Oe()}un(e,t){const r=new Z0;return mg.ye.re(lg(this.databaseId,t),r.Be(function(s){const u=ig(s);return 0===u.length?0:u[u.length-1].kind}(e))),r.Oe()}tn(e,t,r){if(null===r)return[];let s=[];s.push(new Z0);let u=0;for(const c of ig(e)){const g=r[u++];for(const v of s)if(this.cn(t,c.fieldPath)&&N0(g))s=this.an(s,c,g);else{const I=v.Be(c.kind);mg.ye.re(g,I)}}return this.hn(s)}Ze(e,t,r){return this.tn(e,t,r.position)}hn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Oe();return t}an(e,t,r){const s=[...e],u=[];for(const c of r.arrayValue.values||[])for(const g of s){const v=new Z0;v.seed(g.Oe()),mg.ye.re(c,v.Be(t.kind)),u.push(v)}return u}cn(e,t){return!!e.filters.find(r=>r instanceof ds&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=_S(e),s=Q0(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next(u=>{const c=[];return fe.forEach(u,g=>s.get([g.indexId,this.uid]).next(v=>{c.push(function(I,T){const P=T?new T0(T.sequenceNumber,new ba(pg(T.readTime),new rt(uc(T.documentKey)),T.largestBatchId)):T0.empty(),$=I.fields.map(([K,Q])=>new rS(Kr.fromServerFormat(K),Q));return new nS(I.indexId,I.collectionGroup,$,P)}(g,v))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,s)=>{const u=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return 0!==u?u:on(r.collectionGroup,s.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const s=_S(e),u=Q0(e);return this.ln(e).next(c=>s.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(g=>fe.forEach(g,v=>u.put(A1(v.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return fe.forEach(t,(s,u)=>{const c=r.get(s.collectionGroup);return(c?fe.resolve(c):this.getFieldIndexes(e,s.collectionGroup)).next(g=>(r.set(s.collectionGroup,g),fe.forEach(g,v=>this.fn(e,s,v).next(I=>{const T=this.dn(u,v);return I.isEqual(T)?fe.resolve():this._n(e,u,v,I,T)}))))})}wn(e,t,r,s){return Y0(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.un(r,t.key),documentKey:t.key.path.toArray()})}mn(e,t,r,s){return Y0(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.un(r,t.key),t.key.path.toArray()])}fn(e,t,r){const s=Y0(e);let u=new Wn(vg);return s.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.un(r,t)])},(c,g)=>{u=u.add(new yg(r.indexId,t,g.arrayValue,g.directionalValue))}).next(()=>u)}dn(e,t){let r=new Wn(vg);const s=this.on(t,e);if(null==s)return r;const u=Wx(t);if(null!=u){const c=e.data.field(u.fieldPath);if(N0(c))for(const g of c.arrayValue.values||[])r=r.add(new yg(t.indexId,e.key,this.nn(g),s))}else r=r.add(new yg(t.indexId,e.key,vS,s));return r}_n(e,t,r,s,u){ze("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(g,v,I,T,P){const $=g.getIterator(),K=v.getIterator();let Q=Ky($),de=Ky(K);for(;Q||de;){let Me=!1,it=!1;if(Q&&de){const ct=I(Q,de);ct<0?it=!0:ct>0&&(Me=!0)}else null!=Q?it=!0:Me=!0;Me?(T(de),de=Ky(K)):it?(P(Q),Q=Ky($)):(Q=Ky($),de=Ky(K))}}(s,u,vg,g=>{c.push(this.wn(e,t,r,g))},g=>{c.push(this.mn(e,t,r,g))}),fe.waitFor(c)}ln(e){let t=1;return Q0(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,u)=>{u.done(),t=s.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,g)=>vg(c,g)).filter((c,g,v)=>!g||0!==vg(c,v[g-1]));const s=[];s.push(e);for(const c of r){const g=vg(c,e),v=vg(c,t);if(0===g)s[0]=e.Le();else if(g>0&&v<0)s.push(c),s.push(c.Le());else if(v>0)break}s.push(t);const u=[];for(let c=0;c<s.length;c+=2)u.push(IDBKeyRange.bound([s[c].indexId,this.uid,s[c].arrayValue,s[c].directionalValue,vS,[]],[s[c+1].indexId,this.uid,s[c+1].arrayValue,s[c+1].directionalValue,vS,[]]));return u}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(O1)}getMinOffset(e,t){return fe.mapArray(this.Ye(t),r=>this.Xe(e,r).next(s=>s||gt())).next(O1)}}function N1(n){return qi(n,"collectionParents")}function Y0(n){return qi(n,"indexEntries")}function _S(n){return qi(n,"indexConfiguration")}function Q0(n){return qi(n,"indexState")}function O1(n){qt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const s=n[r].indexState.offset;Kx(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new ba(e.readTime,e.documentKey,t)}const k1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Fo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Fo(e,Fo.DEFAULT_COLLECTION_PERCENTILE,Fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function F1(n,e,t){const r=n.store("mutations"),s=n.store("documentMutations"),u=[],c=IDBKeyRange.only(t.batchId);let g=0;const v=r.J({range:c},(T,P,$)=>(g++,$.delete()));u.push(v.next(()=>{qt(1===g)}));const I=[];for(const T of t.mutations){const P=w1(e,T.key.path,t.batchId);u.push(s.delete(P)),I.push(T.key)}return fe.waitFor(u).next(()=>I)}function wS(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw gt();e=n.noDocument}return JSON.stringify(e).length}Fo.DEFAULT_COLLECTION_PERCENTILE=10,Fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fo.DEFAULT=new Fo(41943040,Fo.DEFAULT_COLLECTION_PERCENTILE,Fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fo.DISABLED=new Fo(-1,0,0);class bS{constructor(e,t,r,s){this.userId=e,this.wt=t,this.indexManager=r,this.referenceDelegate=s,this.gn={}}static se(e,t,r,s){qt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new bS(u,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zh(e).J({index:"userMutationsIndex",range:r},(s,u,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,s){const u=sv(e),c=Zh(e);return c.add({}).next(g=>{qt("number"==typeof g);const v=new cR(g,t,r,s),I=function($,K,Q){const de=Q.baseMutations.map(it=>q0($.ne,it)),Me=Q.mutations.map(it=>q0($.ne,it));return{userId:K,batchId:Q.batchId,localWriteTimeMs:Q.localWriteTime.toMillis(),baseMutations:de,mutations:Me}}(this.wt,this.userId,v),T=[];let P=new Wn(($,K)=>on($.canonicalString(),K.canonicalString()));for(const $ of s){const K=w1(this.userId,$.key.path,g);P=P.add($.key.path.popLast()),T.push(c.put(I)),T.push(u.put(K,CV))}return P.forEach($=>{T.push(this.indexManager.addToCollectionParentIndex(e,$))}),e.addOnCommittedListener(()=>{this.gn[g]=v.keys()}),fe.waitFor(T).next(()=>v)})}lookupMutationBatch(e,t){return Zh(e).get(t).next(r=>r?(qt(r.userId===this.userId),gg(this.wt,r)):null)}yn(e,t){return this.gn[t]?fe.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const s=r.keys();return this.gn[t]=s,s}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return Zh(e).J({index:"userMutationsIndex",range:s},(c,g,v)=>{g.userId===this.userId&&(qt(g.batchId>=r),u=gg(this.wt,g)),v.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Zh(e).J({index:"userMutationsIndex",range:t,reverse:!0},(s,u,c)=>{r=u.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Zh(e).K("userMutationsIndex",t).next(r=>r.map(s=>gg(this.wt,s)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=gS(this.userId,t.path),s=IDBKeyRange.lowerBound(r),u=[];return sv(e).J({range:s},(c,g,v)=>{const[I,T,P]=c,$=uc(T);if(I===this.userId&&t.path.isEqual($))return Zh(e).get(P).next(K=>{if(!K)throw gt();qt(K.userId===this.userId),u.push(gg(this.wt,K))});v.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Wn(on);const s=[];return t.forEach(u=>{const c=gS(this.userId,u.path),g=IDBKeyRange.lowerBound(c),v=sv(e).J({range:g},(I,T,P)=>{const[$,K,Q]=I,de=uc(K);$===this.userId&&u.path.isEqual(de)?r=r.add(Q):P.done()});s.push(v)}),fe.waitFor(s).next(()=>this.pn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,u=gS(this.userId,r),c=IDBKeyRange.lowerBound(u);let g=new Wn(on);return sv(e).J({range:c},(v,I,T)=>{const[P,$,K]=v,Q=uc($);P===this.userId&&r.isPrefixOf(Q)?Q.length===s&&(g=g.add(K)):T.done()}).next(()=>this.pn(e,g))}pn(e,t){const r=[],s=[];return t.forEach(u=>{s.push(Zh(e).get(u).next(c=>{if(null===c)throw gt();qt(c.userId===this.userId),r.push(gg(this.wt,c))}))}),fe.waitFor(s).next(()=>r)}removeMutationBatch(e,t){return F1(e.ee,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),fe.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return fe.resolve();const r=IDBKeyRange.lowerBound([this.userId]),s=[];return sv(e).J({range:r},(u,c,g)=>{if(u[0]===this.userId){const v=uc(u[1]);s.push(v)}else g.done()}).next(()=>{qt(0===s.length)})})}containsKey(e,t){return L1(e,this.userId,t)}Tn(e){return V1(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function L1(n,e,t){const r=gS(e,t.path),s=r[1],u=IDBKeyRange.lowerBound(r);let c=!1;return sv(n).J({range:u,H:!0},(g,v,I)=>{const[T,P,$]=g;T===e&&P===s&&(c=!0),I.done()}).next(()=>c)}function Zh(n){return qi(n,"mutations")}function sv(n){return qi(n,"documentMutations")}function V1(n){return qi(n,"mutationQueues")}class _g{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new _g(0)}static Rn(){return new _g(-1)}}class YV{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const r=new _g(t.highestTargetId);return t.highestTargetId=r.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(t=>Bt.fromTimestamp(new br(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.bn(e).next(s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.Pn(e,s)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(r=>(r.targetCount+=1,this.Vn(t,r),this.Pn(e,r))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ov(e).delete(t.targetId)).next(()=>this.bn(e)).next(r=>(qt(r.targetCount>0),r.targetCount-=1,this.Pn(e,r)))}removeTargets(e,t,r){let s=0;const u=[];return ov(e).J((c,g)=>{const v=W0(g);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(s++,u.push(this.removeTargetData(e,v)))}).next(()=>fe.waitFor(u)).next(()=>s)}forEachTarget(e,t){return ov(e).J((r,s)=>{const u=W0(s);t(u)})}bn(e){return U1(e).get("targetGlobalKey").next(t=>(qt(null!==t),t))}Pn(e,t){return U1(e).put("targetGlobalKey",t)}vn(e,t){return ov(e).put(S1(this.wt,t))}Vn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=cg(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return ov(e).J({range:s,index:"queryTargetsIndex"},(c,g,v)=>{const I=W0(g);k0(t,I.target)&&(u=I,v.done())}).next(()=>u)}addMatchingKeys(e,t,r){const s=[],u=Yh(e);return t.forEach(c=>{const g=to(c.path);s.push(u.put({targetId:r,path:g})),s.push(this.referenceDelegate.addReference(e,r,c))}),fe.waitFor(s)}removeMatchingKeys(e,t,r){const s=Yh(e);return fe.forEach(t,u=>{const c=to(u.path);return fe.waitFor([s.delete([r,c]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Yh(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=Yh(e);let u=ln();return s.J({range:r,H:!0},(c,g,v)=>{const I=uc(c[1]),T=new rt(I);u=u.add(T)}).next(()=>u)}containsKey(e,t){const r=to(t.path),s=IDBKeyRange.bound([r],[lk(r)],!1,!0);let u=0;return Yh(e).J({index:"documentTargetsIndex",H:!0,range:s},([c,g],v,I)=>{0!==c&&(u++,I.done())}).next(()=>u>0)}te(e,t){return ov(e).get(t).next(r=>r?W0(r):null)}}function ov(n){return qi(n,"targets")}function U1(n){return qi(n,"targetGlobal")}function Yh(n){return qi(n,"targetDocuments")}function B1([n,e],[t,r]){const s=on(n,t);return 0===s?on(e,r):s}class QV{constructor(e){this.Sn=e,this.buffer=new Wn(B1),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();B1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class XV{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;ze("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ce.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){$h(r)?ze("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield jh(r)}yield t.kn(3e5)}))}}class JV{constructor(e,t){this.On=e,this.params=t}calculateTargetCount(e,t){return this.On.Mn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return fe.resolve(Oo.ot);const r=new QV(t);return this.On.forEachTarget(e,s=>r.xn(s.sequenceNumber)).next(()=>this.On.Fn(e,s=>r.xn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.On.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.On.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(k1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),k1):this.$n(e,t))}getCacheSize(e){return this.On.getCacheSize(e)}$n(e,t){let r,s,u,c,g,v,I;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(P=>(P>this.params.maximumSequenceNumbersToCollect?(ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${P}`),s=this.params.maximumSequenceNumbersToCollect):s=P,c=Date.now(),this.nthSequenceNumber(e,s))).next(P=>(r=P,g=Date.now(),this.removeTargets(e,r,t))).next(P=>(u=P,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(P=>(I=Date.now(),Gx()<=Wl.in.DEBUG&&ze("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-T}ms\n\tDetermined least recently used ${s} in `+(g-c)+`ms\n\tRemoved ${u} targets in `+(v-g)+`ms\n\tRemoved ${P} documents in `+(I-v)+`ms\nTotal Duration: ${I-T}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:u,documentsRemoved:P})))}}class eU{constructor(e,t){this.db=e,this.garbageCollector=new JV(this,t)}Mn(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}Bn(e){let t=0;return this.Fn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(r,s)=>t(s))}addReference(e,t,r){return ES(e,r)}removeReference(e,t,r){return ES(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return ES(e,t)}Un(e,t){return function(r,s){let u=!1;return V1(r).Y(c=>L1(r,c,s).next(g=>(g&&(u=!0),fe.resolve(!g)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let u=0;return this.Ln(e,(c,g)=>{if(g<=t){const v=this.Un(e,c).next(I=>{if(!I)return u++,r.getEntry(e,c).next(()=>(r.removeEntry(c,Bt.min()),Yh(e).delete([0,to(c.path)])))});s.push(v)}}).next(()=>fe.waitFor(s)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return ES(e,t)}Ln(e,t){const r=Yh(e);let s,u=Oo.ot;return r.J({index:"documentTargetsIndex"},([c,g],{path:v,sequenceNumber:I})=>{0===c?(u!==Oo.ot&&t(new rt(uc(s)),u),u=I,s=v):u=Oo.ot}).next(()=>{u!==Oo.ot&&t(new rt(uc(s)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ES(n,e){return Yh(n).put((r=n.currentSequenceNumber,{targetId:0,path:to(e.path),sequenceNumber:r}));var r}class j1{constructor(){this.changes=new Wh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ar.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?fe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class tU{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return wg(e).put(r)}removeEntry(e,t,r){return wg(e).delete(function(s,u){const c=s.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],mS(u),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.qn(e,r)))}getEntry(e,t){let r=ar.newInvalidDocument(t);return wg(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(X0(t))},(s,u)=>{r=this.Kn(t,u)}).next(()=>r)}Gn(e,t){let r={size:0,document:ar.newInvalidDocument(t)};return wg(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(X0(t))},(s,u)=>{r={document:this.Kn(t,u),size:wS(u)}}).next(()=>r)}getEntries(e,t){let r=ko();return this.Qn(e,t,(s,u)=>{const c=this.Kn(s,u);r=r.insert(s,c)}).next(()=>r)}jn(e,t){let r=ko(),s=new Lr(rt.comparator);return this.Qn(e,t,(u,c)=>{const g=this.Kn(u,c);r=r.insert(u,g),s=s.insert(u,wS(c))}).next(()=>({documents:r,Wn:s}))}Qn(e,t,r){if(t.isEmpty())return fe.resolve();let s=new Wn(G1);t.forEach(v=>s=s.add(v));const u=IDBKeyRange.bound(X0(s.first()),X0(s.last())),c=s.getIterator();let g=c.getNext();return wg(e).J({index:"documentKeyIndex",range:u},(v,I,T)=>{const P=rt.fromSegments([...I.prefixPath,I.collectionGroup,I.documentId]);for(;g&&G1(g,P)<0;)r(g,null),g=c.getNext();g&&g.isEqual(P)&&(r(g,I),g=c.hasNext()?c.getNext():null),g?T.q(X0(g)):T.done()}).next(()=>{for(;g;)r(g,null),g=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,r){const s=[t.popLast().toArray(),t.lastSegment(),mS(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return wg(e).K(IDBKeyRange.bound(s,u,!0)).next(c=>{let g=ko();for(const v of c){const I=this.Kn(rt.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);g=g.insert(I.key,I)}return g})}getAllFromCollectionGroup(e,t,r,s){let u=ko();const c=z1(t,r),g=z1(t,ba.max());return wg(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,g,!0)},(v,I,T)=>{const P=this.Kn(rt.fromSegments(I.prefixPath.concat(I.collectionGroup,I.documentId)),I);u=u.insert(P.key,P),u.size===s&&T.done()}).next(()=>u)}newChangeBuffer(e){return new nU(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return H1(e).get("remoteDocumentGlobalKey").next(t=>(qt(!!t),t))}qn(e,t){return H1(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const r=function jV(n,e){let t;if(e.document)t=h1(n.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=rt.fromSegments(e.noDocument.path),s=pg(e.noDocument.readTime);t=ar.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return gt();{const r=rt.fromSegments(e.unknownDocument.path),s=pg(e.unknownDocument.version);t=ar.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime(function(r){const s=new br(r[0],r[1]);return Bt.fromTimestamp(s)}(e.readTime)),t}(this.wt,t);if(!r.isNoDocument()||!r.version.isEqual(Bt.min()))return r}return ar.newInvalidDocument(e)}}function $1(n){return new tU(n)}class nU extends j1{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new Wh(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const t=[];let r=0,s=new Wn((u,c)=>on(u.canonicalString(),c.canonicalString()));return this.changes.forEach((u,c)=>{const g=this.Hn.get(u);if(t.push(this.zn.removeEntry(e,u,g.readTime)),c.isValidDocument()){const v=D1(this.zn.wt,c);s=s.add(u.path.popLast());const I=wS(v);r+=I-g.size,t.push(this.zn.addEntry(e,u,v))}else if(r-=g.size,this.trackRemovals){const v=D1(this.zn.wt,c.convertToNoDocument(Bt.min()));t.push(this.zn.addEntry(e,u,v))}}),s.forEach(u=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.zn.updateMetadata(e,r)),fe.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(r=>(this.Hn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:r,Wn:s})=>(s.forEach((u,c)=>{this.Hn.set(u,{size:c,readTime:r.get(u).readTime})}),r))}}function H1(n){return qi(n,"remoteDocumentGlobal")}function wg(n){return qi(n,"remoteDocumentsV14")}function X0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function z1(n,e){const t=e.documentKey.path.toArray();return[n,mS(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function G1(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(s=on(t[u],r[u]),s)return s;return s=on(t.length,r.length),s||(s=on(t[t.length-2],r[r.length-2]),s||on(t[t.length-1],r[r.length-1]))}class rU{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class q1{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.getBaseDocument(e,t,r))).next(s=>(null!==r&&V0(r.mutation,s,Ea.empty(),br.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ln()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ln()){const s=oc();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(u=>{let c=U0();return u.forEach((g,v)=>{c=c.insert(g,v.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=oc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ln()))}populateOverlays(e,t,r){const s=[];return r.forEach(u=>{t.has(u)||s.push(u)}),this.documentOverlayCache.getOverlays(e,s).next(u=>{u.forEach((c,g)=>{t.set(c,g)})})}computeViews(e,t,r,s){let u=ko();const c=B0(),g=B0();return t.forEach((v,I)=>{const T=r.get(I.key);s.has(I.key)&&(void 0===T||T.mutation instanceof vd)?u=u.insert(I.key,I):void 0!==T&&(c.set(I.key,T.mutation.getFieldMask()),V0(T.mutation,I,T.mutation.getFieldMask(),br.now()))}),this.recalculateAndSaveOverlays(e,u).next(v=>(v.forEach((I,T)=>c.set(I,T)),t.forEach((I,T)=>{var P;return g.set(I,new rU(T,null!==(P=c.get(I))&&void 0!==P?P:null))}),g))}recalculateAndSaveOverlays(e,t){const r=B0();let s=new Lr((c,g)=>c-g),u=ln();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const g of c)g.keys().forEach(v=>{const I=t.get(v);if(null===I)return;let T=r.get(v)||Ea.empty();T=g.applyToLocalView(I,T),r.set(v,T);const P=(s.get(g.batchId)||ln()).add(v);s=s.insert(g.batchId,P)})}).next(()=>{const c=[],g=s.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),I=v.key,T=v.value,P=t1();T.forEach($=>{if(!u.has($)){const K=qk(t.get($),r.get($));null!==K&&P.set($,K),u=u.add($)}}),c.push(this.documentOverlayCache.saveOverlays(e,I,P))}return fe.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return rt.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):nR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var s}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(u=>{const c=s-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-u.size):fe.resolve(oc());let g=-1,v=u;return c.next(I=>fe.forEach(I,(T,P)=>(g<P.largestBatchId&&(g=P.largestBatchId),u.get(T)?fe.resolve():this.getBaseDocument(e,T,P).next($=>{v=v.insert(T,$)}))).next(()=>this.populateOverlays(e,I,u)).next(()=>this.computeViews(e,v,I,ln())).next(T=>({batchId:g,changes:e1(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new rt(t)).next(r=>{let s=U0();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const s=t.collectionGroup;let u=U0();return this.indexManager.getCollectionParents(e,s).next(c=>fe.forEach(c,g=>{const v=(I=t,T=g.child(s),new yd(T,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt));var I,T;return this.getDocumentsMatchingCollectionQuery(e,v,r).next(I=>{I.forEach((T,P)=>{u=u.insert(T,P)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let s;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(u=>(s=u,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(u=>{u.forEach((g,v)=>{const I=v.getKey();null===s.get(I)&&(s=s.insert(I,ar.newInvalidDocument(I)))});let c=U0();return s.forEach((g,v)=>{const I=u.get(g);void 0!==I&&V0(I.mutation,v,Ea.empty(),br.now()),iR(t,v)&&(c=c.insert(g,v))}),c})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):fe.resolve(ar.newInvalidDocument(t))}}class iU{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return fe.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var r;return this.Jn.set(t.id,{id:(r=t).id,version:r.version,createTime:Gi(r.createTime)}),fe.resolve()}getNamedQuery(e,t){return fe.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(r=t).name,query:fR(r.bundledQuery),readTime:Gi(r.readTime)}),fe.resolve();var r}}class sU{constructor(){this.overlays=new Lr(rt.comparator),this.Xn=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=oc();return fe.forEach(t,s=>this.getOverlay(e,s).next(u=>{null!==u&&r.set(s,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,u)=>{this.ie(e,t,u)}),fe.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Xn.get(r);return void 0!==s&&(s.forEach(u=>this.overlays=this.overlays.remove(u)),this.Xn.delete(r)),fe.resolve()}getOverlaysForCollection(e,t,r){const s=oc(),u=t.length+1,c=new rt(t.child("")),g=this.overlays.getIteratorFrom(c);for(;g.hasNext();){const v=g.getNext().value,I=v.getKey();if(!t.isPrefixOf(I.path))break;I.path.length===u&&v.largestBatchId>r&&s.set(v.getKey(),v)}return fe.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let u=new Lr((I,T)=>I-T);const c=this.overlays.getIterator();for(;c.hasNext();){const I=c.getNext().value;if(I.getKey().getCollectionGroup()===t&&I.largestBatchId>r){let T=u.get(I.largestBatchId);null===T&&(T=oc(),u=u.insert(I.largestBatchId,T)),T.set(I.getKey(),I)}}const g=oc(),v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((I,T)=>g.set(I,T)),!(g.size()>=s)););return fe.resolve(g)}ie(e,t,r){const s=this.overlays.get(r.key);if(null!==s){const c=this.Xn.get(s.largestBatchId).delete(r.key);this.Xn.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new hR(t,r));let u=this.Xn.get(t);void 0===u&&(u=ln(),this.Xn.set(t,u)),this.Xn.set(t,u.add(r.key))}}class mR{constructor(){this.Zn=new Wn(Wi.ts),this.es=new Wn(Wi.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new Wi(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new Wi(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new rt(new bn([])),r=new Wi(t,e),s=new Wi(t,e+1),u=[];return this.es.forEachInRange([r,s],c=>{this.rs(c),u.push(c.key)}),u}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new rt(new bn([])),r=new Wi(t,e),s=new Wi(t,e+1);let u=ln();return this.es.forEachInRange([r,s],c=>{u=u.add(c.key)}),u}containsKey(e){const t=new Wi(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Wi{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return rt.comparator(e.key,t.key)||on(e.ls,t.ls)}static ns(e,t){return on(e.ls,t.ls)||rt.comparator(e.key,t.key)}}class oU{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new Wn(Wi.ts)}checkEmpty(e){return fe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,s){const u=this.fs;this.fs++;const c=new cR(u,t,r,s);this.mutationQueue.push(c);for(const g of s)this.ds=this.ds.add(new Wi(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return fe.resolve(c)}lookupMutationBatch(e,t){return fe.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.ws(t+1),u=s<0?0:s;return fe.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Wi(t,0),s=new Wi(t,Number.POSITIVE_INFINITY),u=[];return this.ds.forEachInRange([r,s],c=>{const g=this._s(c.ls);u.push(g)}),fe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Wn(on);return t.forEach(s=>{const u=new Wi(s,0),c=new Wi(s,Number.POSITIVE_INFINITY);this.ds.forEachInRange([u,c],g=>{r=r.add(g.ls)})}),fe.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let u=r;rt.isDocumentKey(u)||(u=u.child(""));const c=new Wi(new rt(u),0);let g=new Wn(on);return this.ds.forEachWhile(v=>{const I=v.key.path;return!!r.isPrefixOf(I)&&(I.length===s&&(g=g.add(v.ls)),!0)},c),fe.resolve(this.gs(g))}gs(e){const t=[];return e.forEach(r=>{const s=this._s(r);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){qt(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let r=this.ds;return fe.forEach(t.mutations,s=>{const u=new Wi(s.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.ds=r})}In(e){}containsKey(e,t){const r=new Wi(t,0),s=this.ds.firstAfterOrEqual(r);return fe.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return fe.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class aU{constructor(e){this.ps=e,this.docs=new Lr(rt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),u=s?s.size:0,c=this.ps(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return fe.resolve(r?r.document.mutableCopy():ar.newInvalidDocument(t))}getEntries(e,t){let r=ko();return t.forEach(s=>{const u=this.docs.get(s);r=r.insert(s,u?u.document.mutableCopy():ar.newInvalidDocument(s))}),fe.resolve(r)}getAllFromCollection(e,t,r){let s=ko();const u=new rt(t.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:g,value:{document:v}}=c.getNext();if(!t.isPrefixOf(g.path))break;g.path.length>t.length+1||Kx(dk(v),r)<=0||(s=s.insert(v.key,v.mutableCopy()))}return fe.resolve(s)}getAllFromCollectionGroup(e,t,r,s){gt()}Is(e,t){return fe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new uU(this)}getSize(e){return fe.resolve(this.size)}}class uU extends j1{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.zn.addEntry(e,s)):this.zn.removeEntry(r)}),fe.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class lU{constructor(e){this.persistence=e,this.Ts=new Wh(t=>cg(t),k0),this.lastRemoteSnapshotVersion=Bt.min(),this.highestTargetId=0,this.Es=0,this.As=new mR,this.targetCount=0,this.Rs=_g.An()}forEachTarget(e,t){return this.Ts.forEach((r,s)=>t(s)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Es&&(this.Es=t),fe.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new _g(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.vn(t),fe.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,r){let s=0;const u=[];return this.Ts.forEach((c,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.Ts.delete(c),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),s++)}),fe.waitFor(u).next(()=>s)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Ts.get(t)||null;return fe.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),fe.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const s=this.persistence.referenceDelegate,u=[];return s&&t.forEach(c=>{u.push(s.markPotentiallyOrphaned(e,c))}),fe.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return fe.resolve(r)}containsKey(e,t){return fe.resolve(this.As.containsKey(t))}}class W1{constructor(e,t){this.bs={},this.overlays={},this.Ps=new Oo(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new lU(this),this.indexManager=new KV,this.remoteDocumentCache=new aU(r=>this.referenceDelegate.Ss(r)),this.wt=new C1(t),this.Ds=new iU(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new sU,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.bs[e.toKey()];return r||(r=new oU(t,this.referenceDelegate),this.bs[e.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,r){ze("MemoryPersistence","Starting transaction:",e);const s=new cU(this.Ps.next());return this.referenceDelegate.Cs(),r(s).next(u=>this.referenceDelegate.xs(s).next(()=>u)).toPromise().then(u=>(s.raiseOnCommittedEvent(),u))}Ns(e,t){return fe.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class cU extends fk{constructor(e){super(),this.currentSequenceNumber=e}}class IS{constructor(e){this.persistence=e,this.ks=new mR,this.Os=null}static Ms(e){return new IS(e)}get Fs(){if(this.Os)return this.Os;throw gt()}addReference(e,t,r){return this.ks.addReference(r,t),this.Fs.delete(r.toString()),fe.resolve()}removeReference(e,t,r){return this.ks.removeReference(r,t),this.Fs.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),fe.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(s=>this.Fs.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(u=>this.Fs.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Cs(){this.Os=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.Fs,r=>{const s=rt.fromPath(r);return this.$s(e,s).next(u=>{u||t.removeEntry(s,Bt.min())})}).next(()=>(this.Os=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return fe.or([()=>fe.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class dU{constructor(e){this.wt=e}O(e,t,r,s){const u=new iS("createOrUpgrade",t);var g;r<1&&s>=1&&(e.createObjectStore("owner"),(g=e).createObjectStore("mutationQueues",{keyPath:"userId"}),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",_1,{unique:!0}),g.createObjectStore("documentMutations"),K1(e),function(g){g.createObjectStore("remoteDocuments")}(e));let c=fe.resolve();return r<3&&s>=3&&(0!==r&&(function(g){g.deleteObjectStore("targetDocuments"),g.deleteObjectStore("targets"),g.deleteObjectStore("targetGlobal")}(e),K1(e)),c=c.next(()=>function(g){const v=g.store("targetGlobal"),I={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Bt.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",I)}(u))),r<4&&s>=4&&(0!==r&&(c=c.next(()=>function(g,v){return v.store("mutations").K().next(I=>{g.deleteObjectStore("mutations"),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",_1,{unique:!0});const T=v.store("mutations"),P=I.map($=>T.put($));return fe.waitFor(P)})}(e,u))),c=c.next(()=>{!function(g){g.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&s>=5&&(c=c.next(()=>this.Bs(u))),r<6&&s>=6&&(c=c.next(()=>(function(g){g.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(u)))),r<7&&s>=7&&(c=c.next(()=>this.Us(u))),r<8&&s>=8&&(c=c.next(()=>this.qs(e,u))),r<9&&s>=9&&(c=c.next(()=>{!function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&s>=10&&(c=c.next(()=>this.Ks(u))),r<11&&s>=11&&(c=c.next(()=>{(function(g){g.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(g){g.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&s>=12&&(c=c.next(()=>{!function(g){const v=g.createObjectStore("documentOverlays",{keyPath:FV});v.createIndex("collectionPathOverlayIndex",LV,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",VV,{unique:!1})}(e)})),r<13&&s>=13&&(c=c.next(()=>function(g){const v=g.createObjectStore("remoteDocumentsV14",{keyPath:DV});v.createIndex("documentKeyIndex",SV),v.createIndex("collectionGroupIndex",TV)}(e)).next(()=>this.Gs(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&s>=14&&(c=c.next(()=>this.Qs(e,u))),r<15&&s>=15&&(c=c.next(()=>function(g){g.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),g.createObjectStore("indexState",{keyPath:PV}).createIndex("sequenceNumberIndex",NV,{unique:!1}),g.createObjectStore("indexEntries",{keyPath:OV}).createIndex("documentKeyIndex",kV,{unique:!1})}(e))),c}Ls(e){let t=0;return e.store("remoteDocuments").J((r,s)=>{t+=wS(s)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Bs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.K().next(s=>fe.forEach(s,u=>{const c=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",c).next(g=>fe.forEach(g,v=>{qt(v.userId===u.userId);const I=gg(this.wt,v);return F1(e,u.userId,I).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const u=[];return r.J((c,g)=>{const v=new bn(c),I=[0,to(v)];u.push(t.get(I).next(T=>T?fe.resolve():t.put({targetId:0,path:to(v),sequenceNumber:s.highestListenSequenceNumber})))}).next(()=>fe.waitFor(u))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:RV});const r=t.store("collectionParents"),s=new gR,u=c=>{if(s.add(c)){const g=c.lastSegment(),v=c.popLast();return r.put({collectionId:g,parent:to(v)})}};return t.store("remoteDocuments").J({H:!0},(c,g)=>{const v=new bn(c);return u(v.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([c,g,v],I)=>{const T=uc(g);return u(T.popLast())}))}Ks(e){const t=e.store("targets");return t.J((r,s)=>{const u=W0(s),c=S1(this.wt,u);return t.put(c)})}Gs(e,t){const r=t.store("remoteDocuments"),s=[];return r.J((u,c)=>{const g=t.store("remoteDocumentsV14"),v=(I=c,I.document?new rt(bn.fromString(I.document.name).popFirst(5)):I.noDocument?rt.fromSegments(I.noDocument.path):I.unknownDocument?rt.fromSegments(I.unknownDocument.path):gt()).path.toArray();var I;const T={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};s.push(g.put(T))}).next(()=>fe.waitFor(s))}Qs(e,t){const r=t.store("mutations"),s=$1(this.wt),u=new W1(IS.Ms,this.wt.ne);return r.K().next(c=>{const g=new Map;return c.forEach(v=>{var I;let T=null!==(I=g.get(v.userId))&&void 0!==I?I:ln();gg(this.wt,v).keys().forEach(P=>T=T.add(P)),g.set(v.userId,T)}),fe.forEach(g,(v,I)=>{const T=new Hi(I),P=yS.se(this.wt,T),$=u.getIndexManager(T),K=bS.se(T,this.wt,$,u.referenceDelegate);return new q1(s,K,P,$).recalculateAndSaveOverlaysForDocumentKeys(new lR(t,Oo.ot),v).next()})})}}function K1(n){n.createObjectStore("targetDocuments",{keyPath:MV}).createIndex("documentTargetsIndex",xV,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",AV,{unique:!0}),n.createObjectStore("targetGlobal")}const yR="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class vR{constructor(e,t,r,s,u,c,g,v,I,T,P=14){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.js=u,this.window=c,this.document=g,this.Ws=I,this.zs=T,this.Hs=P,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=$=>Promise.resolve(),!vR.V())throw new je(we.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new eU(this,s),this.ei=t+"main",this.wt=new C1(v),this.ni=new Ju(this.ei,this.Hs,new dU(this.wt)),this.Vs=new YV(this.referenceDelegate,this.wt),this.remoteDocumentCache=$1(this.wt),this.Ds=new $V,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===T&&ci("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new je(we.FAILED_PRECONDITION,yR);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new Oo(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var r=(0,Ce.Z)(function*(s){if(t.started)return e(s)});return function(s){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,Ce.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,Ce.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>CS(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if($h(e))return ze("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ze("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return J0(e).get("owner").next(t=>fe.resolve(this.di(t)))}_i(e){return CS(e).delete(this.clientId)}wi(){var e=this;return(0,Ce.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const s=qi(r,"clientMetadata");return s.K().next(u=>{const c=e.gi(u,18e5),g=u.filter(v=>-1===c.indexOf(v));return fe.forEach(g,v=>s.delete(v.clientId)).next(()=>g)})}).catch(()=>[]);if(e.si)for(const r of t)e.si.removeItem(e.yi(r.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?fe.resolve(!0):J0(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new je(we.FAILED_PRECONDITION,yR);return!1}}return!(!this.networkEnabled||!this.inForeground)||CS(e).K().next(r=>void 0===this.gi(r,5e3).find(s=>!(this.clientId===s.clientId||!(!this.networkEnabled&&s.networkEnabled||!this.inForeground&&s.inForeground&&this.networkEnabled===s.networkEnabled))))}).next(t=>(this.isPrimary!==t&&ze("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ce.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new lR(t,Oo.ot);return e.li(r).next(()=>e._i(r))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(r=>this.mi(r.updateTimeMs,t)&&!this.pi(r.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>CS(e).K().next(t=>this.gi(t,18e5).map(r=>r.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return bS.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ZV(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return yS.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,r){ze("IndexedDbPersistence","Starting transaction:",e);const s="readonly"===t?"readonly":"readwrite",u=15===(c=this.Hs)?BV:14===c?I1:13===c?E1:12===c?UV:11===c?b1:void gt();var c;let g;return this.ni.runTransaction(e,s,u,v=>(g=new lR(v,this.Ps?this.Ps.next():Oo.ot),"readwrite-primary"===t?this.ai(g).next(I=>!!I||this.hi(g)).next(I=>{if(!I)throw ci(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new je(we.FAILED_PRECONDITION,hk);return r(g)}).next(I=>this.fi(g).next(()=>I)):this.bi(g).next(()=>r(g)))).then(v=>(g.raiseOnCommittedEvent(),v))}bi(e){return J0(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new je(we.FAILED_PRECONDITION,yR)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return J0(e).put("owner",t)}static V(){return Ju.V()}li(e){const t=J0(e);return t.get("owner").next(r=>this.di(r)?(ze("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):fe.resolve())}mi(e,t){const r=Date.now();return!(e<r-t||e>r&&(ci(`Detected an update time that is in the future: ${e} > ${r}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,Ft.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const r=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return ze("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ci("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){ci("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function J0(n){return qi(n,"owner")}function CS(n){return qi(n,"clientMetadata")}function _R(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class wR{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Pi=r,this.vi=s}static Vi(e,t){let r=ln(),s=ln();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:s=s.add(u.doc.key)}return new wR(e,t.fromCache,r,s)}}class Z1{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,r,s){return this.Ci(e,t).next(u=>u||this.xi(e,t,s,r)).next(u=>u||this.Ni(e,t))}Ci(e,t){return fe.resolve(null)}xi(e,t,r,s){return function Y2(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||s.isEqual(Bt.min())?this.Ni(e,t):this.Di.getDocuments(e,r).next(u=>{const c=this.ki(t,u);return this.Oi(t,c,r,s)?this.Ni(e,t):(Gx()<=Wl.in.DEBUG&&ze("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),rR(t)),this.Mi(e,c,t,ck(s,-1)))})}ki(e,t){let r=new Wn(Lk(e));return t.forEach((s,u)=>{iR(e,u)&&(r=r.add(u))}),r}Oi(e,t,r,s){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(s)>0)}Ni(e,t){return Gx()<=Wl.in.DEBUG&&ze("QueryEngine","Using full collection scan to execute query:",rR(t)),this.Di.getDocumentsMatchingQuery(e,t,ba.min())}Mi(e,t,r,s){return this.Di.getDocumentsMatchingQuery(e,r,s).next(u=>(t.forEach(c=>{u=u.insert(c.key,c)}),u))}}class hU{constructor(e,t,r,s){this.persistence=e,this.Fi=t,this.wt=s,this.$i=new Lr(on),this.Bi=new Wh(u=>cg(u),k0),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(r)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new q1(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function Y1(n,e,t,r){return new hU(n,e,t,r)}function Q1(n,e){return bR.apply(this,arguments)}function bR(){return bR=(0,Ce.Z)(function*(n,e){const t=at(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(u=>(s=u,t.qi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const c=[],g=[];let v=ln();for(const I of s){c.push(I.batchId);for(const T of I.mutations)v=v.add(T.key)}for(const I of u){g.push(I.batchId);for(const T of I.mutations)v=v.add(T.key)}return t.localDocuments.getDocuments(r,v).next(I=>({Ki:I,removedBatchIds:c,addedBatchIds:g}))})})}),bR.apply(this,arguments)}function X1(n){const e=at(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function J1(n,e,t){let r=ln(),s=ln();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let c=ko();return t.forEach((g,v)=>{const I=u.get(g);v.isFoundDocument()!==I.isFoundDocument()&&(s=s.add(g)),v.isNoDocument()&&v.version.isEqual(Bt.min())?(e.removeEntry(g,v.readTime),c=c.insert(g,v)):!I.isValidDocument()||v.version.compareTo(I.version)>0||0===v.version.compareTo(I.version)&&I.hasPendingWrites?(e.addEntry(v),c=c.insert(g,v)):ze("LocalStore","Ignoring outdated watch update for ",g,". Current version:",I.version," Watch version:",v.version)}),{Gi:c,Qi:s}})}function gU(n,e){const t=at(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function av(n,e){const t=at(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Vs.getTargetData(r,e).next(u=>u?(s=u,fe.resolve(s)):t.Vs.allocateTargetId(r).next(c=>(s=new Kh(e,c,0,r.currentSequenceNumber),t.Vs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.$i.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.$i=t.$i.insert(r.targetId,r),t.Bi.set(e,r.targetId)),r})}function uv(n,e,t){return ER.apply(this,arguments)}function ER(){return ER=(0,Ce.Z)(function*(n,e,t){const r=at(n),s=r.$i.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,c=>r.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!$h(c))throw c;ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.$i=r.$i.remove(e),r.Bi.delete(s.target)}),ER.apply(this,arguments)}function DS(n,e,t){const r=at(n);let s=Bt.min(),u=ln();return r.persistence.runTransaction("Execute query","readonly",c=>function(g,v,I){const T=at(g),P=T.Bi.get(I);return void 0!==P?fe.resolve(T.$i.get(P)):T.Vs.getTargetData(v,I)}(r,c,cu(e)).next(g=>{if(g)return s=g.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(c,g.targetId).next(v=>{u=v})}).next(()=>r.Fi.getDocumentsMatchingQuery(c,e,t?s:Bt.min(),t?u:ln())).next(g=>(nF(r,Fk(e),g),{documents:g,ji:u})))}function eF(n,e){const t=at(n),r=at(t.Vs),s=t.$i.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",u=>r.te(u,e).next(c=>c?c.target:null))}function tF(n,e){const t=at(n),r=t.Li.get(e)||Bt.min();return t.persistence.runTransaction("Get new document changes","readonly",s=>t.Ui.getAllFromCollectionGroup(s,e,ck(r,-1),Number.MAX_SAFE_INTEGER)).then(s=>(nF(t,e,s),s))}function nF(n,e,t){let r=Bt.min();t.forEach((s,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Li.set(e,r)}function IR(){return IR=(0,Ce.Z)(function*(n,e,t,r){const s=at(n);let u=ln(),c=ko();for(const I of t){const T=e.Wi(I.metadata.name);I.document&&(u=u.add(T));const P=e.zi(I);P.setReadTime(e.Hi(I.metadata.readTime)),c=c.insert(T,P)}const g=s.Ui.newChangeBuffer({trackRemovals:!0}),v=yield av(s,(I=r,cu(Qy(bn.fromString(`__bundle__/docs/${I}`)))));var I;return s.persistence.runTransaction("Apply bundle documents","readwrite",I=>J1(I,g,c).next(T=>(g.apply(I),T)).next(T=>s.Vs.removeMatchingKeysForTargetId(I,v.targetId).next(()=>s.Vs.addMatchingKeys(I,u,v.targetId)).next(()=>s.localDocuments.getLocalViewOfDocuments(I,T.Gi,T.Qi)).next(()=>T.Gi)))}),IR.apply(this,arguments)}function yU(n,e){return CR.apply(this,arguments)}function CR(){return CR=(0,Ce.Z)(function*(n,e,t=ln()){const r=yield av(n,cu(fR(e.bundledQuery))),s=at(n);return s.persistence.runTransaction("Save named query","readwrite",u=>{const c=Gi(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return s.Ds.saveNamedQuery(u,e);const g=r.withResumeToken(Ri.EMPTY_BYTE_STRING,c);return s.$i=s.$i.insert(g.targetId,g),s.Vs.updateTargetData(u,g).next(()=>s.Vs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>s.Vs.addMatchingKeys(u,t,r.targetId)).next(()=>s.Ds.saveNamedQuery(u,e))})}),CR.apply(this,arguments)}function rF(n,e){return`firestore_clients_${n}_${e}`}function iF(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function DR(n,e){return`firestore_targets_${n}_${e}`}class SS{constructor(e,t,r,s){this.user=e,this.batchId=t,this.state=r,this.error=s}static Ji(e,t,r){const s=JSON.parse(r);let u,c="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return c&&s.error&&(c="string"==typeof s.error.message&&"string"==typeof s.error.code,c&&(u=new je(s.error.code,s.error.message))),c?new SS(e,t,s.state,u):(ci("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class eb{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let s,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(s=new je(r.error.code,r.error.message))),u?new eb(e,r.state,s):(ci("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class TS{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let s="object"==typeof r&&r.activeTargetIds instanceof Array,u=fS();for(let c=0;s&&c<r.activeTargetIds.length;++c)s=_k(r.activeTargetIds[c]),u=u.add(r.activeTargetIds[c]);return s?new TS(e,u):(ci("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class SR{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new SR(t.clientId,t.onlineState):(ci("SharedClientState",`Failed to parse online state: ${e}`),null)}}class TR{constructor(){this.activeTargetIds=fS()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AR{constructor(e,t,r,s,u){this.window=e,this.js=t,this.persistenceKey=r,this.tr=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Lr(on),this.started=!1,this.ir=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.rr=rF(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new TR),this.cr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(g){return`firestore_bundle_loaded_v2_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.syncEngine.Ri();for(const s of t){if(s===e.tr)continue;const u=e.getItem(rF(e.persistenceKey,s));if(u){const c=TS.Ji(s,u);c&&(e.sr=e.sr.insert(c.clientId,c))}}e._r();const r=e.storage.getItem(e.lr);if(r){const s=e.wr(r);s&&e.mr(s)}for(const s of e.ir)e.nr(s);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,s)=>{s.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(DR(this.persistenceKey,e));if(r){const s=eb.Ji(e,r);s&&(t=s.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(DR(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(s=>{this.pr(s)}),this.currentUser=e,r.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ze("SharedClientState","READ",e,t),t}setItem(e,t){ze("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ze("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(ze("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void ci("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,Ce.Z)(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const s=t.Rr(r.key);return t.br(s,null)}{const s=t.Pr(r.key,r.newValue);if(s)return t.br(s.clientId,s)}}else if(t.ar.test(r.key)){if(null!==r.newValue){const s=t.vr(r.key,r.newValue);if(s)return t.Vr(s)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const s=t.Sr(r.key,r.newValue);if(s)return t.Dr(s)}}else if(r.key===t.lr){if(null!==r.newValue){const s=t.wr(r.newValue);if(s)return t.mr(s)}}else if(r.key===t.ur){const s=function(u){let c=Oo.ot;if(null!=u)try{const g=JSON.parse(u);qt("number"==typeof g),c=g}catch(g){ci("SharedClientState","Failed to read sequence number from WebStorage",g)}return c}(r.newValue);s!==Oo.ot&&t.sequenceNumberHandler(s)}else if(r.key===t.dr){const s=t.Cr(r.newValue);yield Promise.all(s.map(u=>t.syncEngine.Nr(u)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const s=new SS(this.currentUser,e,t,r),u=iF(this.persistenceKey,this.currentUser,e);this.setItem(u,s.Yi())}pr(e){const t=iF(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const s=DR(this.persistenceKey,e),u=new eb(e,t,r);this.setItem(s,u.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return TS.Ji(r,t)}vr(e,t){const r=this.ar.exec(e),s=Number(r[1]);return SS.Ji(new Hi(void 0!==r[2]?r[2]:null),s,t)}Sr(e,t){const r=this.hr.exec(e),s=Number(r[1]);return eb.Ji(s,t)}wr(e){return SR.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,Ce.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);ze("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),s=this.gr(this.sr),u=this.gr(r),c=[],g=[];return u.forEach(v=>{s.has(v)||c.push(v)}),s.forEach(v=>{u.has(v)||g.push(v)}),this.syncEngine.Mr(c,g).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=fS();return e.forEach((r,s)=>{t=t.unionWith(s.activeTargetIds)}),t}}class sF{constructor(){this.Fr=new TR,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new TR,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vU{Br(e){}shutdown(){}}class oF{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const _U={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class wU{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class bU extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,s,u){const c=this.oo(e,t);ze("RestConnection","Sending: ",c,r);const g={};return this.uo(g,s,u),this.co(e,c,g,r).then(v=>(ze("RestConnection","Received: ",v),v),v=>{throw D0("RestConnection",`${e} failed with error: `,v,"url: ",c,"request:",r),v})}ao(e,t,r,s,u,c){return this.ro(e,t,r,s,u)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+qy,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,u)=>e[u]=s),r&&r.headers.forEach((s,u)=>e[u]=s)}oo(e,t){return`${this.so}/v1/${t}:${_U[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,s){return new Promise((u,c)=>{const g=new w2;g.listenOnce(y2.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case zx.NO_ERROR:const I=g.getResponseJson();ze("Connection","XHR received:",JSON.stringify(I)),u(I);break;case zx.TIMEOUT:ze("Connection",'RPC "'+e+'" timed out'),c(new je(we.DEADLINE_EXCEEDED,"Request time out"));break;case zx.HTTP_ERROR:const T=g.getStatus();if(ze("Connection",'RPC "'+e+'" failed with status:',T,"response text:",g.getResponseText()),T>0){const P=g.getResponseJson().error;if(P&&P.status&&P.message){const $=function(K){const Q=K.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(Q)>=0?Q:we.UNKNOWN}(P.status);c(new je($,P.message))}else c(new je(we.UNKNOWN,"Server responded with status "+g.getStatus()))}else c(new je(we.UNAVAILABLE,"Connection failed."));break;default:gt()}}finally{ze("Connection",'RPC "'+e+'" completed.')}});const v=JSON.stringify(s);g.send(t,"POST",v,r,15)})}ho(e,t,r){const s=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=g2(),c=m2(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new _2({})),this.uo(g.initMessageHeaders,t,r),(0,Ft.uI)()||(0,Ft.b$)()||(0,Ft.d)()||(0,Ft.w1)()||(0,Ft.Mn)()||(0,Ft.ru)()||(g.httpHeadersOverwriteParam="$httpHeaders");const v=s.join("");ze("Connection","Creating WebChannel: "+v,g);const I=u.createWebChannel(v,g);let T=!1,P=!1;const $=new wU({jr:Q=>{P?ze("Connection","Not sending because WebChannel is closed:",Q):(T||(ze("Connection","Opening WebChannel transport."),I.open(),T=!0),ze("Connection","WebChannel sending:",Q),I.send(Q))},Wr:()=>I.close()}),K=(Q,de,Me)=>{Q.listen(de,it=>{try{Me(it)}catch(ct){setTimeout(()=>{throw ct},0)}})};return K(I,tS.EventType.OPEN,()=>{P||ze("Connection","WebChannel transport opened.")}),K(I,tS.EventType.CLOSE,()=>{P||(P=!0,ze("Connection","WebChannel transport closed"),$.eo())}),K(I,tS.EventType.ERROR,Q=>{P||(P=!0,D0("Connection","WebChannel transport errored:",Q),$.eo(new je(we.UNAVAILABLE,"The operation could not be completed")))}),K(I,tS.EventType.MESSAGE,Q=>{var de;if(!P){const Me=Q.data[0];qt(!!Me);const ct=Me.error||(null===(de=Me[0])||void 0===de?void 0:de.error);if(ct){ze("Connection","WebChannel received error:",ct);const lt=ct.status;let Je=function(jt){const yn=di[jt];if(void 0!==yn)return Xk(yn)}(lt),Mt=ct.message;void 0===Je&&(Je=we.INTERNAL,Mt="Unknown error status: "+lt+" with message "+ct.message),P=!0,$.eo(new je(Je,Mt)),I.close()}else ze("Connection","WebChannel received:",Me),$.no(Me)}}),K(c,v2.STAT_EVENT,Q=>{Q.stat===ik.PROXY?ze("Connection","Detected buffering proxy"):Q.stat===ik.NOPROXY&&ze("Connection","Detected no buffering proxy")}),setTimeout(()=>{$.Zr()},0),$}}function aF(){return typeof window<"u"?window:null}function AS(){return typeof document<"u"?document:null}function tb(n){return new hV(n,!0)}class MR{constructor(e,t,r=1e3,s=1.5,u=6e4){this.js=e,this.timerId=t,this.lo=r,this.fo=s,this._o=u,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),s=Math.max(0,t-r);s>0&&ze("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,s,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class uF{constructor(e,t,r,s,u,c,g,v){this.js=e,this.Ao=r,this.Ro=s,this.bo=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new MR(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,Ce.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}Oo(){var e=this;return(0,Ce.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var r=this;return(0,Ce.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===we.RESOURCE_EXHAUSTED?(ci(t.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===we.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Po===t&&this.Uo(r,s)},r=>{e(()=>{const s=new je(we.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(s)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(s=>{r(()=>this.qo(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}xo(){var e=this;this.state=5,this.So.Io((0,Ce.Z)(function*(){e.state=0,e.start()}))}qo(e){return ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class EU extends uF{constructor(e,t,r,s,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,c),this.wt=u}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function gV(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:gt(),s=e.targetChange.targetIds||[],u=function(v,I){return v.dt?(qt(void 0===I||"string"==typeof I),Ri.fromBase64String(I||"")):(qt(void 0===I||I instanceof Uint8Array),Ri.fromUint8Array(I||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,g=c&&function(v){const I=void 0===v.code?we.UNKNOWN:Xk(v.code);return new je(I,v.message||"")}(c);t=new r1(r,s,u,g||null)}else if("documentChange"in e){const r=e.documentChange,s=ac(n,r.document.name),u=Gi(r.document.updateTime),c=new cs({mapValue:{fields:r.document.fields}}),g=ar.newFoundDocument(s,u,c);t=new pS(r.targetIds||[],r.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const r=e.documentDelete,s=ac(n,r.document),u=r.readTime?Gi(r.readTime):Bt.min(),c=ar.newNoDocument(s,u);t=new pS([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,s=ac(n,r.document);t=new pS([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return gt();{const r=e.filter,u=new iV(r.count||0);t=new n1(r.targetId,u)}}var v;return t}(this.wt,e),r=function(s){if(!("targetChange"in s))return Bt.min();const u=s.targetChange;return u.targetIds&&u.targetIds.length?Bt.min():u.readTime?Gi(u.readTime):Bt.min()}(e);return this.listener.Go(t,r)}Qo(e){const t={};t.database=G0(this.wt),t.addTarget=function(s,u){let c;const g=u.target;return c=uS(g)?{documents:f1(s,g)}:{query:p1(s,g)},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?c.resumeToken=a1(s,u.resumeToken):u.snapshotVersion.compareTo(Bt.min())>0&&(c.readTime=H0(s,u.snapshotVersion.toTimestamp())),c}(this.wt,e);const r=function yV(n,e){const t=function(r,s){switch(s){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return gt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Mo(t)}jo(e){const t={};t.database=G0(this.wt),t.removeTarget=e,this.Mo(t)}}class IU extends uF{constructor(e,t,r,s,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,c),this.wt=u,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(qt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function mV(n,e){return n&&n.length>0?(qt(void 0!==e),n.map(t=>function(r,s){let u=Gi(r.updateTime?r.updateTime:s);return u.isEqual(Bt.min())&&(u=Gi(s)),new tV(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Gi(e.commitTime);return this.listener.Jo(r,t)}return qt(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=G0(this.wt),this.Mo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>q0(this.wt,r))};this.Mo(t)}}class CU extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.wt=s,this.Zo=!1}tu(){if(this.Zo)throw new je(we.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.bo.ro(e,t,r,s,u)).catch(s=>{throw"FirebaseError"===s.name?(s.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new je(we.UNKNOWN,s.toString())})}ao(e,t,r,s){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.bo.ao(e,t,r,u,c,s)).catch(u=>{throw"FirebaseError"===u.name?(u.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new je(we.UNKNOWN,u.toString())})}terminate(){this.Zo=!0}}class DU{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(ci(t),this.su=!1):ze("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class SU{constructor(e,t,r,s,u){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=u,this.du.Br(g=>{r.enqueueAndForget((0,Ce.Z)(function*(){var v;Qh(c)&&(ze("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,Ce.Z)(function*(I){const T=at(I);T.lu.add(4),yield lv(T),T._u.set("Unknown"),T.lu.delete(4),yield nb(T)}),function(I){return v.apply(this,arguments)})(c))}))}),this._u=new DU(r,s)}}function nb(n){return xR.apply(this,arguments)}function xR(){return xR=(0,Ce.Z)(function*(n){if(Qh(n))for(const e of n.fu)yield e(!0)}),xR.apply(this,arguments)}function lv(n){return RR.apply(this,arguments)}function RR(){return RR=(0,Ce.Z)(function*(n){for(const e of n.fu)yield e(!1)}),RR.apply(this,arguments)}function MS(n,e){const t=at(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),OR(t)?NR(t):dv(t).Co()&&PR(t,e))}function rb(n,e){const t=at(n),r=dv(t);t.hu.delete(e),r.Co()&&lF(t,e),0===t.hu.size&&(r.Co()?r.ko():Qh(t)&&t._u.set("Unknown"))}function PR(n,e){n.wu.Nt(e.targetId),dv(n).Qo(e)}function lF(n,e){n.wu.Nt(e),dv(n).jo(e)}function NR(n){n.wu=new lV({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),te:e=>n.hu.get(e)||null}),dv(n).start(),n._u.iu()}function OR(n){return Qh(n)&&!dv(n).Do()&&n.hu.size>0}function Qh(n){return 0===at(n).lu.size}function cF(n){n.wu=void 0}function TU(n){return kR.apply(this,arguments)}function kR(){return kR=(0,Ce.Z)(function*(n){n.hu.forEach((e,t)=>{PR(n,e)})}),kR.apply(this,arguments)}function AU(n,e){return FR.apply(this,arguments)}function FR(){return FR=(0,Ce.Z)(function*(n,e){cF(n),OR(n)?(n._u.uu(e),NR(n)):n._u.set("Unknown")}),FR.apply(this,arguments)}function MU(n,e,t){return LR.apply(this,arguments)}function LR(){return LR=(0,Ce.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof r1&&2===e.state&&e.cause)try{yield(r=(0,Ce.Z)(function*(s,u){const c=u.cause;for(const g of u.targetIds)s.hu.has(g)&&(yield s.remoteSyncer.rejectListen(g,c),s.hu.delete(g),s.wu.removeTarget(g))}),function(s,u){return r.apply(this,arguments)})(n,e)}catch(r){ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield xS(n,r)}else if(e instanceof pS?n.wu.Ut(e):e instanceof n1?n.wu.zt(e):n.wu.Gt(e),!t.isEqual(Bt.min()))try{const r=yield X1(n.localStore);t.compareTo(r)>=0&&(yield function(s,u){const c=s.wu.Yt(u);return c.targetChanges.forEach((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const I=s.hu.get(v);I&&s.hu.set(v,I.withResumeToken(g.resumeToken,u))}}),c.targetMismatches.forEach(g=>{const v=s.hu.get(g);if(!v)return;s.hu.set(g,v.withResumeToken(Ri.EMPTY_BYTE_STRING,v.snapshotVersion)),lF(s,g);const I=new Kh(v.target,g,1,v.sequenceNumber);PR(s,I)}),s.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){ze("RemoteStore","Failed to raise snapshot:",r),yield xS(n,r)}var r}),LR.apply(this,arguments)}function xS(n,e,t){return VR.apply(this,arguments)}function VR(){return VR=(0,Ce.Z)(function*(n,e,t){if(!$h(e))throw e;n.lu.add(1),yield lv(n),n._u.set("Offline"),t||(t=()=>X1(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ce.Z)(function*(){ze("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield nb(n)}))}),VR.apply(this,arguments)}function dF(n,e){return e().catch(t=>xS(n,t,e))}function cv(n){return UR.apply(this,arguments)}function UR(){return UR=(0,Ce.Z)(function*(n){const e=at(n),t=Xh(e);let r=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;xU(e);)try{const s=yield gU(e.localStore,r);if(null===s){0===e.au.length&&t.ko();break}r=s.batchId,RU(e,s)}catch(s){yield xS(e,s)}hF(e)&&fF(e)}),UR.apply(this,arguments)}function xU(n){return Qh(n)&&n.au.length<10}function RU(n,e){n.au.push(e);const t=Xh(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function hF(n){return Qh(n)&&!Xh(n).Do()&&n.au.length>0}function fF(n){Xh(n).start()}function PU(n){return BR.apply(this,arguments)}function BR(){return BR=(0,Ce.Z)(function*(n){Xh(n).Xo()}),BR.apply(this,arguments)}function NU(n){return jR.apply(this,arguments)}function jR(){return jR=(0,Ce.Z)(function*(n){const e=Xh(n);for(const t of n.au)e.Ho(t.mutations)}),jR.apply(this,arguments)}function OU(n,e,t){return $R.apply(this,arguments)}function $R(){return $R=(0,Ce.Z)(function*(n,e,t){const r=n.au.shift(),s=dR.from(r,e,t);yield dF(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield cv(n)}),$R.apply(this,arguments)}function kU(n,e){return HR.apply(this,arguments)}function HR(){return HR=(0,Ce.Z)(function*(n,e){var t;e&&Xh(n).zo&&(yield(t=(0,Ce.Z)(function*(r,s){if(Qk(u=s.code)&&u!==we.ABORTED){const c=r.au.shift();Xh(r).No(),yield dF(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,s)),yield cv(r)}var u}),function(r,s){return t.apply(this,arguments)})(n,e)),hF(n)&&fF(n)}),HR.apply(this,arguments)}function pF(n,e){return zR.apply(this,arguments)}function zR(){return zR=(0,Ce.Z)(function*(n,e){const t=at(n);t.asyncQueue.verifyOperationInProgress(),ze("RemoteStore","RemoteStore received new credentials");const r=Qh(t);t.lu.add(3),yield lv(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield nb(t)}),zR.apply(this,arguments)}function GR(n,e){return qR.apply(this,arguments)}function qR(){return qR=(0,Ce.Z)(function*(n,e){const t=at(n);e?(t.lu.delete(2),yield nb(t)):e||(t.lu.add(2),yield lv(t),t._u.set("Unknown"))}),qR.apply(this,arguments)}function dv(n){return n.mu||(n.mu=function(e,t,r){const s=at(e);return s.tu(),new EU(t,s.bo,s.authCredentials,s.appCheckCredentials,s.wt,r)}(n.datastore,n.asyncQueue,{zr:TU.bind(null,n),Jr:AU.bind(null,n),Go:MU.bind(null,n)}),n.fu.push(function(){var e=(0,Ce.Z)(function*(t){t?(n.mu.No(),OR(n)?NR(n):n._u.set("Unknown")):(yield n.mu.stop(),cF(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function Xh(n){return n.gu||(n.gu=function(e,t,r){const s=at(e);return s.tu(),new IU(t,s.bo,s.authCredentials,s.appCheckCredentials,s.wt,r)}(n.datastore,n.asyncQueue,{zr:PU.bind(null,n),Jr:kU.bind(null,n),Yo:NU.bind(null,n),Jo:OU.bind(null,n)}),n.fu.push(function(){var e=(0,Ce.Z)(function*(t){t?(n.gu.No(),yield cv(n)):(yield n.gu.stop(),n.au.length>0&&(ze("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class WR{constructor(e,t,r,s,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=u,this.deferred=new zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,s,u){const c=Date.now()+r,g=new WR(e,t,c,s,u);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new je(we.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hv(n,e){if(ci("AsyncQueue",`${e}: ${n}`),$h(n))return new je(we.UNAVAILABLE,`${e}: ${n}`);throw n}class fv{constructor(e){this.comparator=e?(t,r)=>e(t,r)||rt.comparator(t.key,r.key):(t,r)=>rt.comparator(t.key,r.key),this.keyedMap=U0(),this.sortedSet=new Lr(this.comparator)}static emptySet(e){return new fv(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof fv)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(!s.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new fv;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class gF{constructor(){this.yu=new Lr(rt.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):gt():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class pv{constructor(e,t,r,s,u,c,g,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=g,this.excludesMetadataChanges=v}static fromInitialDocuments(e,t,r,s){const u=[];return t.forEach(c=>{u.push({type:0,doc:c})}),new pv(e,t,fv.emptySet(t),u,r,s,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&F0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class FU{constructor(){this.Iu=void 0,this.listeners=[]}}class LU{constructor(){this.queries=new Wh(e=>kk(e),F0),this.onlineState="Unknown",this.Tu=new Set}}function KR(n,e){return ZR.apply(this,arguments)}function ZR(){return ZR=(0,Ce.Z)(function*(n,e){const t=at(n),r=e.query;let s=!1,u=t.queries.get(r);if(u||(s=!0,u=new FU),s)try{u.Iu=yield t.onListen(r)}catch(c){const g=hv(c,`Initialization of query '${rR(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,u),u.listeners.push(e),e.Eu(t.onlineState),u.Iu&&e.Au(u.Iu)&&XR(t)}),ZR.apply(this,arguments)}function YR(n,e){return QR.apply(this,arguments)}function QR(){return QR=(0,Ce.Z)(function*(n,e){const t=at(n),r=e.query;let s=!1;const u=t.queries.get(r);if(u){const c=u.listeners.indexOf(e);c>=0&&(u.listeners.splice(c,1),s=0===u.listeners.length)}if(s)return t.queries.delete(r),t.onUnlisten(r)}),QR.apply(this,arguments)}function VU(n,e){const t=at(n);let r=!1;for(const s of e){const c=t.queries.get(s.query);if(c){for(const g of c.listeners)g.Au(s)&&(r=!0);c.Iu=s}}r&&XR(t)}function UU(n,e,t){const r=at(n),s=r.queries.get(e);if(s)for(const u of s.listeners)u.onError(t);r.queries.delete(e)}function XR(n){n.Tu.forEach(e=>{e.next()})}class JR{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new pv(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=pv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class BU{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class mF{constructor(e){this.wt=e}Wi(e){return ac(this.wt,e)}zi(e){return e.metadata.exists?h1(this.wt,e.document,!1):ar.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return Gi(e)}}class jU{constructor(e,t,r){this.xu=e,this.localStore=t,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=yF(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=bn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new mF(this.wt);for(const s of e)if(s.metadata.queries){const u=r.Wi(s.metadata.name);for(const c of s.metadata.queries){const g=(t.get(c)||ln()).add(u);t.set(c,g)}}return t}complete(){var e=this;return(0,Ce.Z)(function*(){const t=yield function mU(n,e,t,r){return IR.apply(this,arguments)}(e.localStore,new mF(e.wt),e.documents,e.xu.id),r=e.ku(e.documents);for(const s of e.queries)yield yU(e.localStore,s,r.get(s.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Mu:t}})()}}function yF(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class vF{constructor(e){this.key=e}}class _F{constructor(e){this.key=e}}class wF{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=ln(),this.mutatedKeys=ln(),this.Lu=Lk(e),this.Uu=new fv(this.Lu)}get qu(){return this.Fu}Ku(e,t){const r=t?t.Gu:new gF,s=t?t.Uu:this.Uu;let u=t?t.mutatedKeys:this.mutatedKeys,c=s,g=!1;const v="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,I="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((T,P)=>{const $=s.get(T),K=iR(this.query,P)?P:null,Q=!!$&&this.mutatedKeys.has($.key),de=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let Me=!1;$&&K?$.data.isEqual(K.data)?Q!==de&&(r.track({type:3,doc:K}),Me=!0):this.Qu($,K)||(r.track({type:2,doc:K}),Me=!0,(v&&this.Lu(K,v)>0||I&&this.Lu(K,I)<0)&&(g=!0)):!$&&K?(r.track({type:0,doc:K}),Me=!0):$&&!K&&(r.track({type:1,doc:$}),Me=!0,(v||I)&&(g=!0)),Me&&(K?(c=c.add(K),u=de?u.add(T):u.delete(T)):(c=c.delete(T),u=u.delete(T)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const T="F"===this.query.limitType?c.last():c.first();c=c.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{Uu:c,Gu:r,Oi:g,mutatedKeys:u}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const s=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const u=e.Gu.pu();u.sort((I,T)=>function(P,$){const K=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt()}};return K(P)-K($)}(I.type,T.type)||this.Lu(I.doc,T.doc)),this.ju(r);const c=t?this.Wu():[],g=0===this.Bu.size&&this.current?1:0,v=g!==this.$u;return this.$u=g,0!==u.length||v?{snapshot:new pv(this.query,e.Uu,s,u,e.mutatedKeys,0===g,v,!1),zu:c}:{zu:c}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new gF,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=ln(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new _F(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new vF(r))}),t}Ju(e){this.Fu=e.ji,this.Bu=ln();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return pv.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class $U{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class HU{constructor(e){this.key=e,this.Xu=!1}}class zU{constructor(e,t,r,s,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Zu={},this.tc=new Wh(g=>kk(g),F0),this.ec=new Map,this.nc=new Set,this.sc=new Lr(rt.comparator),this.ic=new Map,this.rc=new mR,this.oc={},this.uc=new Map,this.cc=_g.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function GU(n,e){return eP.apply(this,arguments)}function eP(){return eP=(0,Ce.Z)(function*(n,e){const t=IP(n);let r,s;const u=t.tc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),s=u.view.Yu();else{const c=yield av(t.localStore,cu(e));t.isPrimaryClient&&MS(t.remoteStore,c);const g=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,s=yield tP(t,e,r,"current"===g)}return s}),eP.apply(this,arguments)}function tP(n,e,t,r){return nP.apply(this,arguments)}function nP(){return nP=(0,Ce.Z)(function*(n,e,t,r){n.hc=(T,P,$)=>{return(K=(0,Ce.Z)(function*(Q,de,Me,it){let ct=de.view.Ku(Me);ct.Oi&&(ct=yield DS(Q.localStore,de.query,!1).then(({documents:Mt})=>de.view.Ku(Mt,ct)));const lt=it&&it.targetChanges.get(de.targetId),Je=de.view.applyChanges(ct,Q.isPrimaryClient,lt);return hP(Q,de.targetId,Je.zu),Je.snapshot}),function(Q,de,Me,it){return K.apply(this,arguments)})(n,T,P,$);var K};const s=yield DS(n.localStore,e,!0),u=new wF(e,s.ji),c=u.Ku(s.documents),g=$0.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),v=u.applyChanges(c,n.isPrimaryClient,g);hP(n,t,v.zu);const I=new $U(e,t,u);return n.tc.set(e,I),n.ec.has(t)?n.ec.get(t).push(e):n.ec.set(t,[e]),v.snapshot}),nP.apply(this,arguments)}function qU(n,e){return rP.apply(this,arguments)}function rP(){return rP=(0,Ce.Z)(function*(n,e){const t=at(n),r=t.tc.get(e),s=t.ec.get(r.targetId);if(s.length>1)return t.ec.set(r.targetId,s.filter(u=>!F0(u,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield uv(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),rb(t.remoteStore,r.targetId),gv(t,r.targetId)}).catch(jh))):(gv(t,r.targetId),yield uv(t.localStore,r.targetId,!0))}),rP.apply(this,arguments)}function iP(){return iP=(0,Ce.Z)(function*(n,e,t){const r=CP(n);try{const s=yield function(u,c){const g=at(u),v=br.now(),I=c.reduce(($,K)=>$.add(K.key),ln());let T,P;return g.persistence.runTransaction("Locally write mutations","readwrite",$=>{let K=ko(),Q=ln();return g.Ui.getEntries($,I).next(de=>{K=de,K.forEach((Me,it)=>{it.isValidDocument()||(Q=Q.add(Me))})}).next(()=>g.localDocuments.getOverlayedDocuments($,K)).next(de=>{T=de;const Me=[];for(const it of c){const ct=rV(it,T.get(it.key).overlayedDocument);null!=ct&&Me.push(new vd(it.key,ct,Sk(ct.value.mapValue),Ar.exists(!0)))}return g.mutationQueue.addMutationBatch($,v,Me,c)}).next(de=>{P=de;const Me=de.applyToLocalDocumentSet(T,Q);return g.documentOverlayCache.saveOverlays($,de.batchId,Me)})}).then(()=>({batchId:P.batchId,changes:e1(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,c,g){let v=u.oc[u.currentUser.toKey()];v||(v=new Lr(on)),v=v.insert(c,g),u.oc[u.currentUser.toKey()]=v}(r,s.batchId,t),yield _d(r,s.changes),yield cv(r.remoteStore)}catch(s){const u=hv(s,"Failed to persist write");t.reject(u)}}),iP.apply(this,arguments)}function bF(n,e){return sP.apply(this,arguments)}function sP(){return sP=(0,Ce.Z)(function*(n,e){const t=at(n);try{const r=yield function pU(n,e){const t=at(n),r=e.snapshotVersion;let s=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const c=t.Ui.newChangeBuffer({trackRemovals:!0});s=t.$i;const g=[];e.targetChanges.forEach((T,P)=>{const $=s.get(P);if(!$)return;g.push(t.Vs.removeMatchingKeys(u,T.removedDocuments,P).next(()=>t.Vs.addMatchingKeys(u,T.addedDocuments,P)));let K=$.withSequenceNumber(u.currentSequenceNumber);var Q,de,Me;e.targetMismatches.has(P)?K=K.withResumeToken(Ri.EMPTY_BYTE_STRING,Bt.min()).withLastLimboFreeSnapshotVersion(Bt.min()):T.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(T.resumeToken,r)),s=s.insert(P,K),de=K,Me=T,(0===(Q=$).resumeToken.approximateByteSize()||de.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=3e8||Me.addedDocuments.size+Me.modifiedDocuments.size+Me.removedDocuments.size>0)&&g.push(t.Vs.updateTargetData(u,K))});let v=ko(),I=ln();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(u,T))}),g.push(J1(u,c,e.documentUpdates).next(T=>{v=T.Gi,I=T.Qi})),!r.isEqual(Bt.min())){const T=t.Vs.getLastRemoteSnapshotVersion(u).next(P=>t.Vs.setTargetsMetadata(u,u.currentSequenceNumber,r));g.push(T)}return fe.waitFor(g).next(()=>c.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,v,I)).next(()=>v)}).then(u=>(t.$i=s,u))}(t.localStore,e);e.targetChanges.forEach((s,u)=>{const c=t.ic.get(u);c&&(qt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.Xu=!0:s.modifiedDocuments.size>0?qt(c.Xu):s.removedDocuments.size>0&&(qt(c.Xu),c.Xu=!1))}),yield _d(t,r,e)}catch(r){yield jh(r)}}),sP.apply(this,arguments)}function EF(n,e,t){const r=at(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const s=[];r.tc.forEach((u,c)=>{const g=c.view.Eu(e);g.snapshot&&s.push(g.snapshot)}),function(u,c){const g=at(u);g.onlineState=c;let v=!1;g.queries.forEach((I,T)=>{for(const P of T.listeners)P.Eu(c)&&(v=!0)}),v&&XR(g)}(r.eventManager,e),s.length&&r.Zu.Go(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function KU(n,e,t){return oP.apply(this,arguments)}function oP(){return oP=(0,Ce.Z)(function*(n,e,t){const r=at(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.ic.get(e),u=s&&s.key;if(u){let c=new Lr(rt.comparator);c=c.insert(u,ar.newNoDocument(u,Bt.min()));const g=ln().add(u),v=new j0(Bt.min(),new Map,new Wn(on),c,g);yield bF(r,v),r.sc=r.sc.remove(u),r.ic.delete(e),fP(r)}else yield uv(r.localStore,e,!1).then(()=>gv(r,e,t)).catch(jh)}),oP.apply(this,arguments)}function ZU(n,e){return aP.apply(this,arguments)}function aP(){return aP=(0,Ce.Z)(function*(n,e){const t=at(n),r=e.batch.batchId;try{const s=yield function fU(n,e){const t=at(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),u=t.Ui.newChangeBuffer({trackRemovals:!0});return function(c,g,v,I){const T=v.batch,P=T.keys();let $=fe.resolve();return P.forEach(K=>{$=$.next(()=>I.getEntry(g,K)).next(Q=>{const de=v.docVersions.get(K);qt(null!==de),Q.version.compareTo(de)<0&&(T.applyToRemoteDocument(Q,v),Q.isValidDocument()&&(Q.setReadTime(v.commitVersion),I.addEntry(Q)))})}),$.next(()=>c.mutationQueue.removeMutationBatch(g,T))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let g=ln();for(let v=0;v<c.mutationResults.length;++v)c.mutationResults[v].transformResults.length>0&&(g=g.add(c.batch.mutations[v].key));return g}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}(t.localStore,e);dP(t,r,null),cP(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield _d(t,s)}catch(s){yield jh(s)}}),aP.apply(this,arguments)}function YU(n,e,t){return uP.apply(this,arguments)}function uP(){return uP=(0,Ce.Z)(function*(n,e,t){const r=at(n);try{const s=yield function(u,c){const g=at(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let I;return g.mutationQueue.lookupMutationBatch(v,c).next(T=>(qt(null!==T),I=T.keys(),g.mutationQueue.removeMutationBatch(v,T))).next(()=>g.mutationQueue.performConsistencyCheck(v)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(v,I,c)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,I)).next(()=>g.localDocuments.getDocuments(v,I))})}(r.localStore,e);dP(r,e,t),cP(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield _d(r,s)}catch(s){yield jh(s)}}),uP.apply(this,arguments)}function lP(){return lP=(0,Ce.Z)(function*(n,e){const t=at(n);Qh(t.remoteStore)||ze("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const c=at(u);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>c.mutationQueue.getHighestUnacknowledgedBatchId(g))}(t.localStore);if(-1===r)return void e.resolve();const s=t.uc.get(r)||[];s.push(e),t.uc.set(r,s)}catch(r){const s=hv(r,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}),lP.apply(this,arguments)}function cP(n,e){(n.uc.get(e)||[]).forEach(t=>{t.resolve()}),n.uc.delete(e)}function dP(n,e,t){const r=at(n);let s=r.oc[r.currentUser.toKey()];if(s){const u=s.get(e);u&&(t?u.reject(t):u.resolve(),s=s.remove(e)),r.oc[r.currentUser.toKey()]=s}}function gv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ec.get(e))n.tc.delete(r),t&&n.Zu.lc(r,t);n.ec.delete(e),n.isPrimaryClient&&n.rc.us(e).forEach(r=>{n.rc.containsKey(r)||IF(n,r)})}function IF(n,e){n.nc.delete(e.path.canonicalString());const t=n.sc.get(e);null!==t&&(rb(n.remoteStore,t),n.sc=n.sc.remove(e),n.ic.delete(t),fP(n))}function hP(n,e,t){for(const r of t)r instanceof vF?(n.rc.addReference(r.key,e),XU(n,r)):r instanceof _F?(ze("SyncEngine","Document no longer in limbo: "+r.key),n.rc.removeReference(r.key,e),n.rc.containsKey(r.key)||IF(n,r.key)):gt()}function XU(n,e){const t=e.key,r=t.path.canonicalString();n.sc.get(t)||n.nc.has(r)||(ze("SyncEngine","New document in limbo: "+t),n.nc.add(r),fP(n))}function fP(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const e=n.nc.values().next().value;n.nc.delete(e);const t=new rt(bn.fromString(e)),r=n.cc.next();n.ic.set(r,new HU(t)),n.sc=n.sc.insert(t,r),MS(n.remoteStore,new Kh(cu(Qy(t.path)),r,2,Oo.ot))}}function _d(n,e,t){return pP.apply(this,arguments)}function pP(){return pP=(0,Ce.Z)(function*(n,e,t){const r=at(n),s=[],u=[],c=[];var g;r.tc.isEmpty()||(r.tc.forEach((g,v)=>{c.push(r.hc(v,e,t).then(I=>{if(I){r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,I.fromCache?"not-current":"current"),s.push(I);const T=wR.Vi(v.targetId,I);u.push(T)}}))}),yield Promise.all(c),r.Zu.Go(s),yield(g=(0,Ce.Z)(function*(v,I){const T=at(v);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",P=>fe.forEach(I,$=>fe.forEach($.Pi,K=>T.persistence.referenceDelegate.addReference(P,$.targetId,K)).next(()=>fe.forEach($.vi,K=>T.persistence.referenceDelegate.removeReference(P,$.targetId,K)))))}catch(P){if(!$h(P))throw P;ze("LocalStore","Failed to update sequence numbers: "+P)}for(const P of I){const $=P.targetId;if(!P.fromCache){const K=T.$i.get($),de=K.withLastLimboFreeSnapshotVersion(K.snapshotVersion);T.$i=T.$i.insert($,de)}}}),function(v,I){return g.apply(this,arguments)})(r.localStore,u))}),pP.apply(this,arguments)}function JU(n,e){return gP.apply(this,arguments)}function gP(){return gP=(0,Ce.Z)(function*(n,e){const t=at(n);if(!t.currentUser.isEqual(e)){ze("SyncEngine","User change. New user:",e.toKey());const r=yield Q1(t.localStore,e);t.currentUser=e,(s=t).uc.forEach(c=>{c.forEach(g=>{g.reject(new je(we.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.uc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield _d(t,r.Ki)}var s}),gP.apply(this,arguments)}function eB(n,e){const t=at(n),r=t.ic.get(e);if(r&&r.Xu)return ln().add(r.key);{let s=ln();const u=t.ec.get(e);if(!u)return s;for(const c of u){const g=t.tc.get(c);s=s.unionWith(g.view.qu)}return s}}function tB(n,e){return mP.apply(this,arguments)}function mP(){return mP=(0,Ce.Z)(function*(n,e){const t=at(n),r=yield DS(t.localStore,e.query,!0),s=e.view.Ju(r);return t.isPrimaryClient&&hP(t,e.targetId,s.zu),s}),mP.apply(this,arguments)}function nB(n,e){return yP.apply(this,arguments)}function yP(){return yP=(0,Ce.Z)(function*(n,e){const t=at(n);return tF(t.localStore,e).then(r=>_d(t,r))}),yP.apply(this,arguments)}function rB(n,e,t,r){return vP.apply(this,arguments)}function vP(){return vP=(0,Ce.Z)(function*(n,e,t,r){const s=at(n),u=yield function(c,g){const v=at(c),I=at(v.mutationQueue);return v.persistence.runTransaction("Lookup mutation documents","readonly",T=>I.yn(T,g).next(P=>P?v.localDocuments.getDocuments(T,P):fe.resolve(null)))}(s.localStore,e);var g;null!==u?("pending"===t?yield cv(s.remoteStore):"acknowledged"===t||"rejected"===t?(dP(s,e,r||null),cP(s,e),g=e,at(at(s.localStore).mutationQueue).In(g)):gt(),yield _d(s,u)):ze("SyncEngine","Cannot apply mutation batch with id: "+e)}),vP.apply(this,arguments)}function _P(){return _P=(0,Ce.Z)(function*(n,e){const t=at(n);if(IP(t),CP(t),!0===e&&!0!==t.ac){const r=t.sharedClientState.getAllActiveQueryTargets(),s=yield CF(t,r.toArray());t.ac=!0,yield GR(t.remoteStore,!0);for(const u of s)MS(t.remoteStore,u)}else if(!1===e&&!1!==t.ac){const r=[];let s=Promise.resolve();t.ec.forEach((u,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):s=s.then(()=>(gv(t,c),uv(t.localStore,c,!0))),rb(t.remoteStore,c)}),yield s,yield CF(t,r),function(u){const c=at(u);c.ic.forEach((g,v)=>{rb(c.remoteStore,v)}),c.rc.cs(),c.ic=new Map,c.sc=new Lr(rt.comparator)}(t),t.ac=!1,yield GR(t.remoteStore,!1)}}),_P.apply(this,arguments)}function CF(n,e,t){return wP.apply(this,arguments)}function wP(){return wP=(0,Ce.Z)(function*(n,e,t){const r=at(n),s=[],u=[];for(const c of e){let g;const v=r.ec.get(c);if(v&&0!==v.length){g=yield av(r.localStore,cu(v[0]));for(const I of v){const T=r.tc.get(I),P=yield tB(r,T);P.snapshot&&u.push(P.snapshot)}}else{const I=yield eF(r.localStore,c);g=yield av(r.localStore,I),yield tP(r,DF(I),c,!1)}s.push(g)}return r.Zu.Go(u),s}),wP.apply(this,arguments)}function DF(n){return Nk(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function sB(n){const e=at(n);return at(at(e.localStore).persistence).Ri()}function oB(n,e,t,r){return bP.apply(this,arguments)}function bP(){return bP=(0,Ce.Z)(function*(n,e,t,r){const s=at(n);if(s.ac)return void ze("SyncEngine","Ignoring unexpected query state notification.");const u=s.ec.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const c=yield tF(s.localStore,Fk(u[0])),g=j0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield _d(s,c,g);break}case"rejected":yield uv(s.localStore,e,!0),gv(s,e,r);break;default:gt()}}),bP.apply(this,arguments)}function aB(n,e,t){return EP.apply(this,arguments)}function EP(){return EP=(0,Ce.Z)(function*(n,e,t){const r=IP(n);if(r.ac){for(const s of e){if(r.ec.has(s)){ze("SyncEngine","Adding an already active target "+s);continue}const u=yield eF(r.localStore,s),c=yield av(r.localStore,u);yield tP(r,DF(u),c.targetId,!1),MS(r.remoteStore,c)}for(const s of t)r.ec.has(s)&&(yield uv(r.localStore,s,!1).then(()=>{rb(r.remoteStore,s),gv(r,s)}).catch(jh))}}),EP.apply(this,arguments)}function IP(n){const e=at(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=bF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KU.bind(null,e),e.Zu.Go=VU.bind(null,e.eventManager),e.Zu.lc=UU.bind(null,e.eventManager),e}function CP(n){const e=at(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YU.bind(null,e),e}class SF{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ce.Z)(function*(){t.wt=tb(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return Y1(this.persistence,new Z1,e.initialUser,this.wt)}_c(e){return new W1(IS.Ms,this.wt)}dc(e){return new sF}terminate(){var e=this;return(0,Ce.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class TF extends SF{constructor(e,t,r){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ce.Z)(function*(){yield t().call(r,e),yield r.yc.initialize(r,e),yield CP(r.yc.syncEngine),yield cv(r.yc.remoteStore),yield r.persistence.ci(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return Y1(this.persistence,new Z1,e.initialUser,this.wt)}mc(e,t){return new XV(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const r=new O2(t,this.persistence);return new N2(e.asyncQueue,r)}_c(e){const t=_R(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Fo.withCacheSize(this.cacheSizeBytes):Fo.DEFAULT;return new vR(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,aF(),AS(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new sF}}class lB extends TF{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ce.Z)(function*(){yield t().call(r,e);const s=r.yc.syncEngine;r.sharedClientState instanceof AR&&(r.sharedClientState.syncEngine={kr:rB.bind(null,s),Or:oB.bind(null,s),Mr:aB.bind(null,s),Ri:sB.bind(null,s),Nr:nB.bind(null,s)},yield r.sharedClientState.start()),yield r.persistence.ci(function(){var u=(0,Ce.Z)(function*(c){yield function iB(n,e){return _P.apply(this,arguments)}(r.yc.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return u.apply(this,arguments)}}())})()}dc(e){const t=aF();if(!AR.V(t))throw new je(we.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=_R(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new AR(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class DP{initialize(e,t){var r=this;return(0,Ce.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>EF(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=JU.bind(null,r.syncEngine),yield GR(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new LU}createDatastore(e){const t=tb(e.databaseInfo.databaseId),r=new bU(e.databaseInfo);return new CU(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,s=e.asyncQueue,u=g=>EF(this.syncEngine,g,0),c=oF.V()?new oF:new vU,new SU(t,r,s,u,c);var t,r,s,u,c}createSyncEngine(e,t){return function(r,s,u,c,g,v,I){const T=new zU(r,s,u,c,g,v);return I&&(T.ac=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ce.Z)(function*(t){const r=at(t);ze("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield lv(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function AF(n,e=10240){let t=0;return{read:()=>(0,Ce.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ce.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class RS{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class cB{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new zi,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,Ce.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,Ce.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.bc();if(null===t)return null;const r=e.Ac.decode(t),s=Number(r);isNaN(s)&&e.Pc(`length string (${r}) is not valid number`);const u=yield e.vc(s);return new BU(JSON.parse(u),t.length+s)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,Ce.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}vc(e){var t=this;return(0,Ce.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const r=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class dB{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ce.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new je(we.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(s=(0,Ce.Z)(function*(u,c){const g=at(u),v=G0(g.wt)+"/documents",I={documents:c.map(K=>z0(g.wt,K))},T=yield g.ao("BatchGetDocuments",v,I,c.length),P=new Map;T.forEach(K=>{const Q=function pV(n,e){return"found"in e?function(t,r){qt(!!r.found);const s=ac(t,r.found.name),u=Gi(r.found.updateTime),c=new cs({mapValue:{fields:r.found.fields}});return ar.newFoundDocument(s,u,c)}(n,e):"missing"in e?function(t,r){qt(!!r.missing),qt(!!r.readTime);const s=ac(t,r.missing),u=Gi(r.readTime);return ar.newNoDocument(s,u)}(n,e):gt()}(g.wt,K);P.set(Q.key.toString(),Q)});const $=[];return c.forEach(K=>{const Q=P.get(K.toString());qt(!!Q),$.push(Q)}),$}),function(u,c){return s.apply(this,arguments)})(t.datastore,e);var s;return r.forEach(s=>t.recordVersion(s)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new nv(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ce.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,s)=>{const u=rt.fromPath(s);e.mutations.push(new sR(u,e.precondition(u)))}),yield(r=(0,Ce.Z)(function*(s,u){const c=at(s),g=G0(c.wt)+"/documents",v={writes:u.map(I=>q0(c.wt,I))};yield c.ro("Commit",g,v)}),function(s,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw gt();t=Bt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new je(we.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Ar.updateTime(t):Ar.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Bt.min()))throw new je(we.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ar.updateTime(t)}return Ar.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class hB{constructor(e,t,r,s,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=s,this.deferred=u,this.Dc=r.maxAttempts,this.So=new MR(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,Ce.Z)(function*(){const t=new dB(e.datastore),r=e.xc(t);r&&r.then(s=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(s)}).catch(u=>{e.Nc(u)}))}).catch(s=>{e.Nc(s)})}))}xc(e){try{const t=this.updateFunction(e);return!x0(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Qk(t)}return!1}}class fB{constructor(e,t,r,s){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Hi.UNAUTHENTICATED,this.clientId=uk.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,Ce.Z)(function*(g){ze("FirestoreClient","Received user=",g.uid),yield u.authCredentialListener(g),u.user=g});return function(g){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(ze("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Ce.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new je(we.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=hv(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function MF(n,e){return SP.apply(this,arguments)}function SP(){return SP=(0,Ce.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ze("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,Ce.Z)(function*(u){r.isEqual(u)||(yield Q1(e.localStore,u),r=u)});return function(u){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),SP.apply(this,arguments)}function xF(n,e){return TP.apply(this,arguments)}function TP(){return TP=(0,Ce.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield AP(n);ze("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(s=>pF(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,u)=>pF(e.remoteStore,u)),n.onlineComponents=e}),TP.apply(this,arguments)}function AP(n){return MP.apply(this,arguments)}function MP(){return MP=(0,Ce.Z)(function*(n){return n.offlineComponents||(ze("FirestoreClient","Using default OfflineComponentProvider"),yield MF(n,new SF)),n.offlineComponents}),MP.apply(this,arguments)}function PS(n){return xP.apply(this,arguments)}function xP(){return xP=(0,Ce.Z)(function*(n){return n.onlineComponents||(ze("FirestoreClient","Using default OnlineComponentProvider"),yield xF(n,new DP)),n.onlineComponents}),xP.apply(this,arguments)}function RF(n){return AP(n).then(e=>e.persistence)}function RP(n){return AP(n).then(e=>e.localStore)}function PF(n){return PS(n).then(e=>e.remoteStore)}function PP(n){return PS(n).then(e=>e.syncEngine)}function mv(n){return NP.apply(this,arguments)}function NP(){return NP=(0,Ce.Z)(function*(n){const e=yield PS(n),t=e.eventManager;return t.onListen=GU.bind(null,e.syncEngine),t.onUnlisten=qU.bind(null,e.syncEngine),t}),NP.apply(this,arguments)}function NF(n,e,t={}){const r=new zi;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(s,u,c,g,v){const I=new RS({next:P=>{u.enqueueAndForget(()=>YR(s,T));const $=P.docs.has(c);!$&&P.fromCache?v.reject(new je(we.UNAVAILABLE,"Failed to get document because the client is offline.")):$&&P.fromCache&&g&&"server"===g.source?v.reject(new je(we.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(P)},error:P=>v.reject(P)}),T=new JR(Qy(c.path),I,{includeMetadataChanges:!0,Du:!0});return KR(s,T)}(yield mv(n),n.asyncQueue,e,t,r)})),r.promise}function OF(n,e,t={}){const r=new zi;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(s,u,c,g,v){const I=new RS({next:P=>{u.enqueueAndForget(()=>YR(s,T)),P.fromCache&&"server"===g.source?v.reject(new je(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(P)},error:P=>v.reject(P)}),T=new JR(c,I,{includeMetadataChanges:!0,Du:!0});return KR(s,T)}(yield mv(n),n.asyncQueue,e,t,r)})),r.promise}const kF=new Map;function OP(n,e,t){if(!t)throw new je(we.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function FF(n,e,t,r){if(!0===e&&!0===r)throw new je(we.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function LF(n){if(!rt.isDocumentKey(n))throw new je(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function VF(n){if(rt.isDocumentKey(n))throw new je(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function NS(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":gt()}function _n(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new je(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=NS(n);throw new je(we.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function UF(n,e){if(e<=0)throw new je(we.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class BF{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new je(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new je(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,FF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ib{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BF({}),this._settingsFrozen=!1,e instanceof md?this._databaseId=e:(this._app=e,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new je(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new md(s.options.projectId)}(e))}get app(){if(!this._app)throw new je(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new je(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BF(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new I2;switch(t.type){case"gapi":const r=t.client;return qt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new T2(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new je(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=kF.get(e);t&&(ze("ComponentProvider","Removing Datastore"),kF.delete(e),t.terminate())}(this),Promise.resolve()}}class pr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pr(this.firestore,e,this._key)}}class Ps{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ps(this.firestore,e,this._query)}}class lc extends Ps{constructor(e,t,r){super(e,t,Qy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pr(this.firestore,null,new rt(e))}withConverter(e){return new lc(this.firestore,e,this._path)}}function jF(n,e,...t){if(n=(0,Ft.m9)(n),OP("collection","path",e),n instanceof ib){const r=bn.fromString(e,...t);return VF(r),new lc(n,null,r)}{if(!(n instanceof pr||n instanceof lc))throw new je(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(bn.fromString(e,...t));return VF(r),new lc(n.firestore,null,r)}}function OS(n,e,...t){if(n=(0,Ft.m9)(n),1===arguments.length&&(e=uk.I()),OP("doc","path",e),n instanceof ib){const r=bn.fromString(e,...t);return LF(r),new pr(n,null,new rt(r))}{if(!(n instanceof pr||n instanceof lc))throw new je(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(bn.fromString(e,...t));return LF(r),new pr(n.firestore,n instanceof lc?n.converter:null,new rt(r))}}function $F(n,e){return n=(0,Ft.m9)(n),e=(0,Ft.m9)(e),(n instanceof pr||n instanceof lc)&&(e instanceof pr||e instanceof lc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function HF(n,e){return n=(0,Ft.m9)(n),e=(0,Ft.m9)(e),n instanceof Ps&&e instanceof Ps&&n.firestore===e.firestore&&F0(n._query,e._query)&&n.converter===e.converter}class CB{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new MR(this,"async_queue_retry"),this.Kc=()=>{const t=AS();t&&ze("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=AS();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=AS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new zi;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}jc(){var e=this;return(0,Ce.Z)(function*(){if(0!==e.Mc.length){try{yield e.Mc[0](),e.Mc.shift(),e.So.reset()}catch(t){if(!$h(t))throw t;ze("AsyncQueue","Operation failed with retryable error: "+t)}e.Mc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Oc.then(()=>(this.Lc=!0,e().catch(r=>{throw this.Bc=r,this.Lc=!1,ci("INTERNAL UNHANDLED ERROR: ",function(u){let c=u.message||"";return u.stack&&(c=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),c}(r)),r}).then(r=>(this.Lc=!1,r))));return this.Oc=t,t}enqueueAfterDelay(e,t,r){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const s=WR.createAndSchedule(this,e,t,r,u=>this.Wc(u));return this.$c.push(s),s}Gc(){this.Bc&&gt()}verifyOperationInProgress(){}zc(){var e=this;return(0,Ce.Z)(function*(){let t;do{t=e.Oc,yield t}while(t!==e.Oc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function kP(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class DB{constructor(){this._progressObserver={},this._taskCompletionResolver=new zi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Er extends ib{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new CB,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||zF(this),this._firestoreClient.terminate()}}function hi(n){return n._firestoreClient||zF(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function zF(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new L2(n._databaseId,u,n._persistenceKey,(g=t).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));var u,g;n._firestoreClient=new fB(n._authCredentials,n._appCheckCredentials,n._queue,r)}function GF(n,e,t){const r=new zi;return n.asyncQueue.enqueue((0,Ce.Z)(function*(){try{yield MF(n,t),yield xF(n,e),r.resolve()}catch(s){const u=s;if(!("FirebaseError"===(c=u).name?c.code===we.FAILED_PRECONDITION||c.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw u;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),r.reject(u)}var c})).then(()=>r.promise)}function qF(n){if(n._initialized||n._terminated)throw new je(we.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class wd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new je(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cc(Ri.fromBase64String(e))}catch(t){throw new je(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new cc(Ri.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class bg{constructor(e){this._methodName=e}}class kS{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new je(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new je(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return on(this._lat,e._lat)||on(this._long,e._long)}}const kB=/^__.*__$/;class FB{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new vd(e,this.data,this.fieldMask,t,this.fieldTransforms):new tv(e,this.data,t,this.fieldTransforms)}}class WF{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new vd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function KF(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt()}}class FS{constructor(e,t,r,s,u,c){this.settings=e,this.databaseId=t,this.wt=r,this.ignoreUndefinedProperties=s,void 0===u&&this.Xc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new FS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.ta({path:r,na:!1});return s.sa(e),s}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.ta({path:r,na:!1});return s.Xc(),s}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return US(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(KF(this.Zc)&&kB.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class LB{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=r||tb(e)}aa(e,t,r,s=!1){return new FS({Zc:e,methodName:t,ca:r,path:Kr.emptyPath(),na:!1,ua:s},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Eg(n){const e=n._freezeSettings(),t=tb(n._databaseId);return new LB(n._databaseId,!!e.ignoreUndefinedProperties,t)}function LS(n,e,t,r,s,u={}){const c=n.aa(u.merge||u.mergeFields?2:0,e,t,s);UP("Data must be an object, but it was:",c,r);const g=QF(r,c);let v,I;if(u.merge)v=new Ea(c.fieldMask),I=c.fieldTransforms;else if(u.mergeFields){const T=[];for(const P of u.mergeFields){const $=BP(e,P,t);if(!c.contains($))throw new je(we.INVALID_ARGUMENT,`Field '${$}' is specified in your field mask but missing from your input data.`);JF(T,$)||T.push($)}v=new Ea(T),I=c.fieldTransforms.filter(P=>v.covers(P.field))}else v=null,I=c.fieldTransforms;return new FB(new cs(g),v,I)}class sb extends bg{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sb}}function ZF(n,e,t){return new FS({Zc:3,ca:e.settings.ca,methodName:n._methodName,na:t},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class FP extends bg{_toFieldTransform(e){return new L0(e.path,new Jy)}isEqual(e){return e instanceof FP}}class VB extends bg{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=ZF(this,e,!0),r=this.ha.map(u=>Ig(u,t)),s=new dg(r);return new L0(e.path,s)}isEqual(e){return this===e}}class UB extends bg{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=ZF(this,e,!0),r=this.ha.map(u=>Ig(u,t)),s=new hg(r);return new L0(e.path,s)}isEqual(e){return this===e}}class BB extends bg{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new ev(e.wt,Bk(e.wt,this.la));return new L0(e.path,t)}isEqual(e){return this===e}}function LP(n,e,t,r){const s=n.aa(1,e,t);UP("Data must be an object, but it was:",s,r);const u=[],c=cs.empty();og(r,(v,I)=>{const T=VS(e,v,t);I=(0,Ft.m9)(I);const P=s.ia(T);if(I instanceof sb)u.push(T);else{const $=Ig(I,P);null!=$&&(u.push(T),c.set(T,$))}});const g=new Ea(u);return new WF(c,g,s.fieldTransforms)}function VP(n,e,t,r,s,u){const c=n.aa(1,e,t),g=[BP(e,r,t)],v=[s];if(u.length%2!=0)throw new je(we.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let $=0;$<u.length;$+=2)g.push(BP(e,u[$])),v.push(u[$+1]);const I=[],T=cs.empty();for(let $=g.length-1;$>=0;--$)if(!JF(I,g[$])){const K=g[$];let Q=v[$];Q=(0,Ft.m9)(Q);const de=c.ia(K);if(Q instanceof sb)I.push(K);else{const Me=Ig(Q,de);null!=Me&&(I.push(K),T.set(K,Me))}}const P=new Ea(I);return new WF(T,P,c.fieldTransforms)}function YF(n,e,t,r=!1){return Ig(t,n.aa(r?4:3,e))}function Ig(n,e){if(XF(n=(0,Ft.m9)(n)))return UP("Unsupported field value:",e,n),QF(n,e);if(n instanceof bg)return function(t,r){if(!KF(r.Zc))throw r.oa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${t._methodName}() is not currently supported inside arrays`);const s=t._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,r){const s=[];let u=0;for(const c of t){let g=Ig(c,r.ra(u));null==g&&(g={nullValue:"NULL_VALUE"}),s.push(g),u++}return{arrayValue:{values:s}}}(n,e)}return function(t,r){if(null===(t=(0,Ft.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Bk(r.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const s=br.fromDate(t);return{timestampValue:H0(r.wt,s)}}if(t instanceof br){const s=new br(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:H0(r.wt,s)}}if(t instanceof kS)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof cc)return{bytesValue:a1(r.wt,t._byteString)};if(t instanceof pr){const s=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(s))throw r.oa(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:oR(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.oa(`Unsupported field value: ${NS(t)}`)}(n,e)}function QF(n,e){const t={};return mk(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):og(n,(r,s)=>{const u=Ig(s,e.ea(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function XF(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof br||n instanceof kS||n instanceof cc||n instanceof pr||n instanceof bg)}function UP(n,e,t){if(!XF(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=NS(t);throw e.oa("an object"===r?n+" a custom object":n+" "+r)}var r}function BP(n,e,t){if((e=(0,Ft.m9)(e))instanceof wd)return e._internalPath;if("string"==typeof e)return VS(n,e);throw US("Field path arguments must be of type string or ",n,!1,void 0,t)}const jB=new RegExp("[~\\*/\\[\\]]");function VS(n,e,t){if(e.search(jB)>=0)throw US(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new wd(...e.split("."))._internalPath}catch{throw US(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function US(n,e,t,r,s){const u=r&&!r.isEmpty(),c=void 0!==s;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(u||c)&&(v+=" (found",u&&(v+=` in field ${r}`),c&&(v+=` in document ${s}`),v+=")"),new je(we.INVALID_ARGUMENT,g+n+v)}function JF(n,e){return n.some(t=>t.isEqual(e))}class ob{constructor(e,t,r,s,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new pr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new $B(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(BS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class $B extends ob{data(){return super.data()}}function BS(n,e){return"string"==typeof e?VS(n,e):e instanceof wd?e._internalPath:e._delegate._internalPath}class Cg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bd extends ob{constructor(e,t,r,s,u,c){super(e,t,r,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ab(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(BS("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class ab extends bd{data(e={}){return super.data(e)}}class Jh{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Cg(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ab(this._firestore,this._userDataWriter,r.key,r,new Cg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new je(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new ab(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Cg(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>s||3!==c.type).map(c=>{const g=new ab(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Cg(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,I=-1;return 0!==c.type&&(v=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),1!==c.type&&(u=u.add(c.doc),I=u.indexOf(c.doc.key)),{type:HB(c.type),doc:g,oldIndex:v,newIndex:I}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function HB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt()}}function eL(n,e){return n instanceof bd&&e instanceof bd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Jh&&e instanceof Jh&&n._firestore===e._firestore&&HF(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function tL(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new je(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ub{}function ef(n,...e){for(const t of e)n=t._apply(n);return n}class zB extends ub{constructor(e,t,r){super(),this.fa=e,this.da=t,this._a=r,this.type="where"}_apply(e){const t=Eg(e.firestore),r=function(s,u,c,g,v,I,T){let P;if(v.isKeyField()){if("array-contains"===I||"array-contains-any"===I)throw new je(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${I}' queries on documentId().`);if("in"===I||"not-in"===I){aL(T,I);const K=[];for(const Q of T)K.push(oL(g,s,Q));P={arrayValue:{values:K}}}else P=oL(g,s,T)}else"in"!==I&&"not-in"!==I&&"array-contains-any"!==I||aL(T,I),P=YF(c,"where",T,"in"===I||"not-in"===I);const $=ds.create(v,I,P);return function(K,Q){if(Q.ht()){const Me=tR(K);if(null!==Me&&!Me.isEqual(Q.field))throw new je(we.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Me.toString()}' and '${Q.field.toString()}'`);const it=eR(K);null!==it&&uL(0,Q.field,it)}const de=function(Me,it){for(const ct of Me.filters)if(it.indexOf(ct.op)>=0)return ct.op;return null}(K,function(Me){switch(Me){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Q.op));if(null!==de)throw new je(we.INVALID_ARGUMENT,de===Q.op?`Invalid query. You cannot use more than one '${Q.op.toString()}' filter.`:`Invalid query. You cannot use '${Q.op.toString()}' filters with '${de.toString()}' filters.`)}(s,$),$}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new Ps(e.firestore,e.converter,function(s,u){const c=s.filters.concat([u]);return new yd(s.path,s.collectionGroup,s.explicitOrderBy.slice(),c,s.limit,s.limitType,s.startAt,s.endAt)}(e._query,r))}}class qB extends ub{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(r,s,u){if(null!==r.startAt)throw new je(we.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new je(we.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Yy(s,u);return function(g,v){if(null===eR(g)){const I=tR(g);null!==I&&uL(0,I,v.field)}}(r,c),c}(e._query,this.fa,this.wa);return new Ps(e.firestore,e.converter,function(r,s){const u=r.explicitOrderBy.concat([s]);return new yd(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class nL extends ub{constructor(e,t,r){super(),this.type=e,this.ma=t,this.ga=r}_apply(e){return new Ps(e.firestore,e.converter,Ok(e._query,this.ma,this.ga))}}class rL extends ub{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=sL(e,this.type,this.ya,this.pa);return new Ps(e.firestore,e.converter,(s=t,new yd((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class iL extends ub{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=sL(e,this.type,this.ya,this.pa);return new Ps(e.firestore,e.converter,(s=t,new yd((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function sL(n,e,t,r){if(t[0]=(0,Ft.m9)(t[0]),t[0]instanceof ob)return function(s,u,c,g,v){if(!g)throw new je(we.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const I=[];for(const T of Xy(s))if(T.field.isKeyField())I.push(lg(u,g.key));else{const P=g.data.field(T.field);if(Qx(P))throw new je(we.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===P){const $=T.field.canonicalString();throw new je(we.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${$}' (used as the orderBy) does not exist.`)}I.push(P)}return new qh(I,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=Eg(n.firestore);return function(u,c,g,v,I,T){const P=u.explicitOrderBy;if(I.length>P.length)throw new je(we.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const $=[];for(let K=0;K<I.length;K++){const Q=I[K];if(P[K].field.isKeyField()){if("string"!=typeof Q)throw new je(we.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof Q}`);if(!nR(u)&&-1!==Q.indexOf("/"))throw new je(we.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${Q}' contains a slash.`);const de=u.path.child(bn.fromString(Q));if(!rt.isDocumentKey(de))throw new je(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${de}' is not because it contains an odd number of segments.`);const Me=new rt(de);$.push(lg(c,Me))}else{const de=YF(g,v,Q);$.push(de)}}return new qh($,T)}(n._query,n.firestore._databaseId,s,e,t,r)}}function oL(n,e,t){if("string"==typeof(t=(0,Ft.m9)(t))){if(""===t)throw new je(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nR(e)&&-1!==t.indexOf("/"))throw new je(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(bn.fromString(t));if(!rt.isDocumentKey(r))throw new je(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return lg(n,new rt(r))}if(t instanceof pr)return lg(n,t._key);throw new je(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${NS(t)}.`)}function aL(n,e){if(!Array.isArray(n)||0===n.length)throw new je(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new je(we.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function uL(n,e,t){if(!t.isEqual(e))throw new je(we.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const ej={maxAttempts:5};class jP{convertValue(e,t="none"){switch(ug(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ag(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw gt()}}convertObject(e,t){const r={};return og(e.fields,(s,u)=>{r[s]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new kS(Vr(e.latitude),Vr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=vk(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(M0(e));default:return null}}convertTimestamp(e){const t=Hh(e);return new br(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=bn.fromString(e);qt(y1(r));const s=new md(r.get(1),r.get(3)),u=new rt(r.popFirst(5));return s.isEqual(t)||ci(`Document ${u} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function jS(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class tj extends jP{constructor(e){super(),this.firestore=e}convertBytes(e){return new cc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pr(this.firestore,null,t)}}class lL{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Eg(e)}set(e,t,r){this._verifyNotCommitted();const s=tf(e,this._firestore),u=jS(s.converter,t,r),c=LS(this._dataReader,"WriteBatch.set",s._key,u,null!==s.converter,r);return this._mutations.push(c.toMutation(s._key,Ar.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const u=tf(e,this._firestore);let c;return c="string"==typeof(t=(0,Ft.m9)(t))||t instanceof wd?VP(this._dataReader,"WriteBatch.update",u._key,t,r,s):LP(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(c.toMutation(u._key,Ar.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=tf(e,this._firestore);return this._mutations=this._mutations.concat(new nv(t._key,Ar.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new je(we.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function tf(n,e){if((n=(0,Ft.m9)(n)).firestore!==e)throw new je(we.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Dg extends jP{constructor(e){super(),this.firestore=e}convertBytes(e){return new cc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pr(this.firestore,null,t)}}function cL(n,e,t){n=_n(n,pr);const r=_n(n.firestore,Er),s=jS(n.converter,e,t);return yv(r,[LS(Eg(r),"setDoc",n._key,s,null!==n.converter,t).toMutation(n._key,Ar.none())])}function dL(n,e,t,...r){n=_n(n,pr);const s=_n(n.firestore,Er),u=Eg(s);let c;return c="string"==typeof(e=(0,Ft.m9)(e))||e instanceof wd?VP(u,"updateDoc",n._key,e,t,r):LP(u,"updateDoc",n._key,e),yv(s,[c.toMutation(n._key,Ar.exists(!0))])}function hL(n,...e){var t,r,s;n=(0,Ft.m9)(n);let u={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||kP(e[c])||(u=e[c],c++);const g={includeMetadataChanges:u.includeMetadataChanges};if(kP(e[c])){const P=e[c];e[c]=null===(t=P.next)||void 0===t?void 0:t.bind(P),e[c+1]=null===(r=P.error)||void 0===r?void 0:r.bind(P),e[c+2]=null===(s=P.complete)||void 0===s?void 0:s.bind(P)}let v,I,T;if(n instanceof pr)I=_n(n.firestore,Er),T=Qy(n._key.path),v={next:P=>{e[c]&&e[c]($P(I,n,P))},error:e[c+1],complete:e[c+2]};else{const P=_n(n,Ps);I=_n(P.firestore,Er),T=P._query;const $=new Dg(I);v={next:K=>{e[c]&&e[c](new Jh(I,$,P,K))},error:e[c+1],complete:e[c+2]},tL(n._query)}return function(P,$,K,Q){const de=new RS(Q),Me=new JR($,de,K);return P.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return KR(yield mv(P),Me)})),()=>{de.Tc(),P.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return YR(yield mv(P),Me)}))}}(hi(I),T,g,v)}function yv(n,e){return function(t,r){const s=new zi;return t.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function WU(n,e,t){return iP.apply(this,arguments)}(yield PP(t),r,s)})),s.promise}(hi(n),e)}function $P(n,e,t){const r=t.docs.get(e._key),s=new Dg(n);return new bd(n,s,e._key,r,new Cg(t.hasPendingWrites,t.fromCache),e.converter)}class dj extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Eg(e)}get(e){const t=tf(e,this._firestore),r=new tj(this._firestore);return this._transaction.lookup([t._key]).then(s=>{if(!s||1!==s.length)return gt();const u=s[0];if(u.isFoundDocument())return new ob(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new ob(this._firestore,r,t._key,null,t.converter);throw gt()})}set(e,t,r){const s=tf(e,this._firestore),u=jS(s.converter,t,r),c=LS(this._dataReader,"Transaction.set",s._key,u,null!==s.converter,r);return this._transaction.set(s._key,c),this}update(e,t,r,...s){const u=tf(e,this._firestore);let c;return c="string"==typeof(t=(0,Ft.m9)(t))||t instanceof wd?VP(this._dataReader,"Transaction.update",u._key,t,r,s):LP(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,c),this}delete(e){const t=tf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=tf(e,this._firestore),r=new Dg(this._firestore);return super.get(e).then(s=>new bd(this._firestore,r,t._key,s._document,new Cg(!1,!1),t.converter))}}function HP(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new je("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function pL(){if(typeof Uint8Array>"u")throw new je("unimplemented","Uint8Arrays are not available in this environment.")}function gL(){if(!function k2(){return typeof atob<"u"}())throw new je("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){qy=So.SDK_VERSION,(0,So._registerComponent)(new mh.wA("firestore",(t,{options:r})=>{const s=t.getProvider("app").getImmediate(),u=new Er(s,new D2(t.getProvider("auth-internal")),new A2(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC")),(0,So.registerVersion)(sk,"3.4.13",n),(0,So.registerVersion)(sk,"3.4.13","esm2017")}();class lb{constructor(e){this._delegate=e}static fromBase64String(e){return gL(),new lb(cc.fromBase64String(e))}static fromUint8Array(e){return pL(),new lb(cc.fromUint8Array(e))}toBase64(){return gL(),this._delegate.toBase64()}toUint8Array(){return pL(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function zP(n){return function wj(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class bj{enableIndexedDbPersistence(e,t){return function TB(n,e){qF(n=_n(n,Er));const t=hi(n),r=n._freezeSettings(),s=new DP;return GF(t,s,new TF(s,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function AB(n){qF(n=_n(n,Er));const e=hi(n),t=n._freezeSettings(),r=new DP;return GF(e,r,new lB(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function MB(n){if(n._initialized&&!n._terminated)throw new je(we.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new zi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{yield(t=(0,Ce.Z)(function*(r){if(!Ju.V())return Promise.resolve();const s=r+"main";yield Ju.delete(s)}),function(r){return t.apply(this,arguments)})(_R(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class mL{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof md||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&D0("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function EB(n,e,t,r={}){var s;const u=(n=_n(n,ib))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&D0("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,g;if("string"==typeof r.mockUserToken)c=r.mockUserToken,g=Hi.MOCK_USER;else{c=(0,Ft.Sg)(r.mockUserToken,null===(s=n._app)||void 0===s?void 0:s.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new je(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Hi(v)}n._authCredentials=new C2(new ok(c,g))}}(this._delegate,e,t,r)}enableNetwork(){return function RB(n){return function pB(n){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){const e=yield RF(n),t=yield PF(n);return e.setNetworkEnabled(!0),function(r){const s=at(r);return s.lu.delete(0),nb(s)}(t)}))}(hi(n=_n(n,Er)))}(this._delegate)}disableNetwork(){return function PB(n){return function gB(n){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){const e=yield RF(n),t=yield PF(n);return e.setNetworkEnabled(!1),(r=(0,Ce.Z)(function*(s){const u=at(s);u.lu.add(0),yield lv(u),u._u.set("Offline")}),function(s){return r.apply(this,arguments)})(t);var r}))}(hi(n=_n(n,Er)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,FF("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function xB(n){return function(e){const t=new zi;return e.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function QU(n,e){return lP.apply(this,arguments)}(yield PP(e),t)})),t.promise}(hi(n=_n(n,Er)))}(this._delegate)}onSnapshotsInSync(e){return function cj(n,e){return function vB(n,e){const t=new RS(e);return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return r=yield mv(n),s=t,at(r).Tu.add(s),void s.next();var r,s})),()=>{t.Tc(),n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return r=yield mv(n),s=t,void at(r).Tu.delete(s);var r,s}))}}(hi(n=_n(n,Er)),kP(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new je("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new vv(this,jF(this._delegate,e))}catch(t){throw no(t,"collection()","Firestore.collection()")}}doc(e){try{return new du(this,OS(this._delegate,e))}catch(t){throw no(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ro(this,function IB(n,e){if(n=_n(n,ib),OP("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new je(we.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ps(n,null,(t=e,new yd(bn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw no(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function hj(n,e,t){n=_n(n,Er);const r=Object.assign(Object.assign({},ej),t);return function(s){if(s.maxAttempts<1)throw new je(we.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function _B(n,e,t){const r=new zi;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){const s=yield(u=n,PS(u).then(c=>c.datastore));var u;new hB(n.asyncQueue,s,t,e,r).run()})),r.promise}(hi(n),s=>e(new dj(n,s)),r)}(this._delegate,t=>e(new yL(this,t)))}batch(){return hi(this._delegate),new vL(new lL(this._delegate,e=>yv(this._delegate,e)))}loadBundle(e){return function NB(n,e){const t=hi(n=_n(n,Er)),r=new DB;return function wB(n,e,t,r){const s=function(u,c){let g;return g="string"==typeof u?(new TextEncoder).encode(u):u,v=function(v,I){if(v instanceof Uint8Array)return AF(v,I);if(v instanceof ArrayBuffer)return AF(new Uint8Array(v),I);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new cB(v,c);var v}(t,tb(e));n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){!function uB(n,e,t){const r=at(n);var s;(s=(0,Ce.Z)(function*(u,c,g){try{const v=yield c.getMetadata();if(yield function($,K){const Q=at($),de=Gi(K.createTime);return Q.persistence.runTransaction("hasNewerBundle","readonly",Me=>Q.Ds.getBundleMetadata(Me,K.id)).then(Me=>!!Me&&Me.createTime.compareTo(de)>=0)}(u.localStore,v))return yield c.close(),g._completeWith({taskState:"Success",documentsLoaded:($=v).totalDocuments,bytesLoaded:$.totalBytes,totalDocuments:$.totalDocuments,totalBytes:$.totalBytes}),Promise.resolve(new Set);g._updateProgress(yF(v));const I=new jU(v,u.localStore,c.wt);let T=yield c.fc();for(;T;){const $=yield I.Nu(T);$&&g._updateProgress($),T=yield c.fc()}const P=yield I.complete();return yield _d(u,P.Mu,void 0),yield function($,K){const Q=at($);return Q.persistence.runTransaction("Save bundle","readwrite",de=>Q.Ds.saveBundleMetadata(de,K))}(u.localStore,v),g._completeWith(P.progress),Promise.resolve(P.Ou)}catch(v){return D0("SyncEngine",`Loading bundle failed with ${v}`),g._failWith(v),Promise.resolve(new Set)}var $}),function(u,c,g){return s.apply(this,arguments)})(r,e,t).then(s=>{r.sharedClientState.notifyBundleLoaded(s)})}(yield PP(n),s,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function OB(n,e){return function bB(n,e){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){return function(t,r){const s=at(t);return s.persistence.runTransaction("Get named query","readonly",u=>s.Ds.getNamedQuery(u,r))}(yield RP(n),e)}))}(hi(n=_n(n,Er)),e).then(t=>t?new Ps(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ro(this,t):null)}}class $S extends jP{constructor(e){super(),this.firestore=e}convertBytes(e){return new lb(new cc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return du.forKey(t,this.firestore,null)}}class yL{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new $S(e)}get(e){const t=Tg(e);return this._delegate.get(t).then(r=>new cb(this._firestore,new bd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const s=Tg(e);return r?(HP("Transaction.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const u=Tg(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...s),this}delete(e){const t=Tg(e);return this._delegate.delete(t),this}}class vL{constructor(e){this._delegate=e}set(e,t,r){const s=Tg(e);return r?(HP("WriteBatch.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const u=Tg(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...s),this}delete(e){const t=Tg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Sg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new ab(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new db(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Sg.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let u=s.get(t);return u||(u=new Sg(e,new $S(e),t),s.set(t,u)),u}}Sg.INSTANCES=new WeakMap;class du{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new $S(e)}static forPath(e,t,r){if(e.length%2!=0)throw new je("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new du(t,new pr(t._delegate,r,new rt(e)))}static forKey(e,t,r){return new du(t,new pr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new vv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new vv(this.firestore,jF(this._delegate,e))}catch(t){throw no(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ft.m9)(e))instanceof pr&&$F(this._delegate,e)}set(e,t){t=HP("DocumentReference.set",t);try{return t?cL(this._delegate,e,t):cL(this._delegate,e)}catch(r){throw no(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?dL(this._delegate,e):dL(this._delegate,e,t,...r)}catch(s){throw no(s,"updateDoc()","DocumentReference.update()")}}delete(){return function uj(n){return yv(_n(n.firestore,Er),[new nv(n._key,Ar.none())])}(this._delegate)}onSnapshot(...e){const t=_L(e),r=wL(e,s=>new cb(this.firestore,new bd(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return hL(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function rj(n){n=_n(n,pr);const e=_n(n.firestore,Er),t=hi(e),r=new Dg(e);return function mB(n,e){const t=new zi;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(r=(0,Ce.Z)(function*(s,u,c){try{const g=yield function(v,I){const T=at(v);return T.persistence.runTransaction("read document","readonly",P=>T.localDocuments.getDocument(P,I))}(s,u);g.isFoundDocument()?c.resolve(g):g.isNoDocument()?c.resolve(null):c.reject(new je(we.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const v=hv(g,`Failed to get document '${u} from cache`);c.reject(v)}}),function(s,u,c){return r.apply(this,arguments)})(yield RP(n),e,t);var r})),t.promise}(t,n._key).then(s=>new bd(e,r,n._key,s,new Cg(null!==s&&s.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function ij(n){n=_n(n,pr);const e=_n(n.firestore,Er);return NF(hi(e),n._key,{source:"server"}).then(t=>$P(e,n,t))}(this._delegate):function nj(n){n=_n(n,pr);const e=_n(n.firestore,Er);return NF(hi(e),n._key).then(t=>$P(e,n,t))}(this._delegate),t.then(r=>new cb(this.firestore,new bd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new du(this.firestore,this._delegate.withConverter(e?Sg.getInstance(this.firestore,e):null))}}function no(n,e,t){return n.message=n.message.replace(e,t),n}function _L(n){for(const e of n)if("object"==typeof e&&!zP(e))return e;return{}}function wL(n,e){var t,r;let s;return s=zP(n[0])?n[0]:zP(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{s.next&&s.next(e(u))},error:null===(t=s.error)||void 0===t?void 0:t.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}class cb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new du(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return eL(this._delegate,e._delegate)}}class db extends cb{data(e){const t=this._delegate.data(e);return function E2(n,e){n||gt()}(void 0!==t),t}}class ro{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new $S(e)}where(e,t,r){try{return new ro(this.firestore,ef(this._delegate,function GB(n,e,t){const r=e,s=BS("where",n);return new zB(s,r,t)}(e,t,r)))}catch(s){throw no(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ro(this.firestore,ef(this._delegate,function WB(n,e="asc"){const t=e,r=BS("orderBy",n);return new qB(r,t)}(e,t)))}catch(r){throw no(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ro(this.firestore,ef(this._delegate,function KB(n){return UF("limit",n),new nL("limit",n,"F")}(e)))}catch(t){throw no(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ro(this.firestore,ef(this._delegate,function ZB(n){return UF("limitToLast",n),new nL("limitToLast",n,"L")}(e)))}catch(t){throw no(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ro(this.firestore,ef(this._delegate,function YB(...n){return new rL("startAt",n,!0)}(...e)))}catch(t){throw no(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ro(this.firestore,ef(this._delegate,function QB(...n){return new rL("startAfter",n,!1)}(...e)))}catch(t){throw no(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ro(this.firestore,ef(this._delegate,function XB(...n){return new iL("endBefore",n,!1)}(...e)))}catch(t){throw no(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ro(this.firestore,ef(this._delegate,function JB(...n){return new iL("endAt",n,!0)}(...e)))}catch(t){throw no(t,"endAt()","Query.endAt()")}}isEqual(e){return HF(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function oj(n){n=_n(n,Ps);const e=_n(n.firestore,Er),t=hi(e),r=new Dg(e);return function yB(n,e){const t=new zi;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(r=(0,Ce.Z)(function*(s,u,c){try{const g=yield DS(s,u,!0),v=new wF(u,g.ji),I=v.Ku(g.documents),T=v.applyChanges(I,!1);c.resolve(T.snapshot)}catch(g){const v=hv(g,`Failed to execute query '${u} against cache`);c.reject(v)}}),function(s,u,c){return r.apply(this,arguments)})(yield RP(n),e,t);var r})),t.promise}(t,n._query).then(s=>new Jh(e,r,n,s))}(this._delegate):"server"===e?.source?function aj(n){n=_n(n,Ps);const e=_n(n.firestore,Er),t=hi(e),r=new Dg(e);return OF(t,n._query,{source:"server"}).then(s=>new Jh(e,r,n,s))}(this._delegate):function sj(n){n=_n(n,Ps);const e=_n(n.firestore,Er),t=hi(e),r=new Dg(e);return tL(n._query),OF(t,n._query).then(s=>new Jh(e,r,n,s))}(this._delegate),t.then(r=>new GP(this.firestore,new Jh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=_L(e),r=wL(e,s=>new GP(this.firestore,new Jh(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return hL(this._delegate,t,r)}withConverter(e){return new ro(this.firestore,this._delegate.withConverter(e?Sg.getInstance(this.firestore,e):null))}}class Ij{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new db(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class GP{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ro(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new db(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Ij(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new db(this._firestore,r))})}isEqual(e){return eL(this._delegate,e._delegate)}}class vv extends ro{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new du(this.firestore,e):null}doc(e){try{return new du(this.firestore,void 0===e?OS(this._delegate):OS(this._delegate,e))}catch(t){throw no(t,"doc()","CollectionReference.doc()")}}add(e){return function lj(n,e){const t=_n(n.firestore,Er),r=OS(n),s=jS(n.converter,e);return yv(t,[LS(Eg(n.firestore),"addDoc",r._key,s,null!==n.converter,{}).toMutation(r._key,Ar.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new du(this.firestore,t))}isEqual(e){return $F(this._delegate,e._delegate)}withConverter(e){return new vv(this.firestore,this._delegate.withConverter(e?Sg.getInstance(this.firestore,e):null))}}function Tg(n){return _n(n,pr)}class qP{constructor(...e){this._delegate=new wd(...e)}static documentId(){return new qP(Kr.keyField().canonicalString())}isEqual(e){return(e=(0,Ft.m9)(e))instanceof wd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ag{constructor(e){this._delegate=e}static serverTimestamp(){const e=function pj(){return new FP("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Ag(e)}static delete(){const e=function fj(){return new sb("deleteField")}();return e._methodName="FieldValue.delete",new Ag(e)}static arrayUnion(...e){const t=function gj(...n){return new VB("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Ag(t)}static arrayRemove(...e){const t=function mj(...n){return new UB("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Ag(t)}static increment(e){const t=function yj(n){return new BB("increment",n)}(e);return t._methodName="FieldValue.increment",new Ag(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Cj={Firestore:mL,GeoPoint:kS,Timestamp:br,Blob:lb,Transaction:yL,WriteBatch:vL,DocumentReference:du,DocumentSnapshot:cb,Query:ro,QueryDocumentSnapshot:db,QuerySnapshot:GP,CollectionReference:vv,FieldPath:qP,FieldValue:Ag,setLogLevel:function Ej(n){!function b2(n){Bh.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function Sj(n){(function Dj(n,e){n.INTERNAL.registerComponent(new mh.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),s=t.getProvider("firestore").getImmediate();return e(r,s)},"PUBLIC").setServiceProps(Object.assign({},Cj)))})(n,(e,t)=>new mL(e,t,new bj)),n.registerVersion("@firebase/firestore-compat","0.1.22")}(Fm.Z);var Tj=k(3019),HS=k(3093),Aj=k(4552);class Mj extends Yl.x{constructor(e=1/0,t=1/0,r=Aj.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:s,_timestampProvider:u,_windowTime:c}=this;t||(r.push(e),!s&&r.push(u.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:s}=this,u=s.slice();for(let c=0;c<u.length&&!e.closed;c+=r?1:2)e.next(u[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:s}=this,u=(s?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!s){const c=t.now();let g=0;for(let v=1;v<r.length&&r[v]<=c;v+=2)g=v;g&&r.splice(0,g+1)}}}var xj=k(3020);function bL(n,e,t){let r,s=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:s=!1,scheduler:t}=n):r=n??1/0,(0,xj.B)({connector:()=>new Mj(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function EL(n,e){return(0,pa.m)(e)?(0,kr.w)(()=>n,e):(0,kr.w)(()=>n)}var WP=k(5137);const IL=new f.OlP("angularfire2.auth.use-emulator"),CL=new f.OlP("angularfire2.auth.settings"),DL=new f.OlP("angularfire2.auth.tenant-id"),SL=new f.OlP("angularfire2.auth.langugage-code"),TL=new f.OlP("angularfire2.auth.use-device-language"),AL=new f.OlP("angularfire.auth.persistence"),ML=(n,e,t,r,s,u,c,g)=>(0,ss.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=s,u&&v.useDeviceLanguage(),c)for(const[I,T]of Object.entries(c))v.settings[I]=T;return g&&v.setPersistence(g),v},[t,r,s,u,c,g]);let xL=(()=>{class n{constructor(t,r,s,u,c,g,v,I,T,P,$,K){const Q=new Yl.x,de=(0,Dt.of)(void 0).pipe((0,HS.Q)(c.outsideAngular),(0,kr.w)(()=>u.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,1128)))),(0,rn.U)(()=>(0,ss.on)(t,u,r)),(0,rn.U)(Me=>ML(Me,u,g,I,T,P,v,$)),bL({bufferSize:1,refCount:!1}));if(Hn(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Dt.of)(null);else{de.pipe(Ql()).subscribe();const it=de.pipe((0,kr.w)(Je=>Je.getRedirectResult().then(Mt=>Mt,()=>null)),sr.iC,bL({bufferSize:1,refCount:!1})),ct=de.pipe((0,kr.w)(Je=>new Xa.y(Mt=>({unsubscribe:u.runOutsideAngular(()=>Je.onAuthStateChanged(jt=>Mt.next(jt),jt=>Mt.error(jt),()=>Mt.complete()))})))),lt=de.pipe((0,kr.w)(Je=>new Xa.y(Mt=>({unsubscribe:u.runOutsideAngular(()=>Je.onIdTokenChanged(jt=>Mt.next(jt),jt=>Mt.error(jt),()=>Mt.complete()))}))));this.authState=it.pipe(EL(ct),(0,WP.R)(c.outsideAngular),(0,HS.Q)(c.insideAngular)),this.user=it.pipe(EL(lt),(0,WP.R)(c.outsideAngular),(0,HS.Q)(c.insideAngular)),this.idToken=this.user.pipe((0,kr.w)(Je=>Je?(0,Cn.D)(Je.getIdToken()):(0,Dt.of)(null))),this.idTokenResult=this.user.pipe((0,kr.w)(Je=>Je?(0,Cn.D)(Je.getIdTokenResult()):(0,Dt.of)(null))),this.credential=(0,Tj.T)(it,Q,this.authState.pipe(Ro(Je=>!Je))).pipe((0,rn.U)(Je=>Je?.user?Je:null),(0,WP.R)(c.outsideAngular),(0,HS.Q)(c.insideAngular))}return(0,ss.pX)(this,de,u,{spy:{apply:(Me,it,ct)=>{(Me.startsWith("signIn")||Me.startsWith("createUser"))&&ct.then(lt=>Q.next(lt))}}})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ss.Dh),f.LFG(ss.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(sr.HU),f.LFG(IL,8),f.LFG(CL,8),f.LFG(DL,8),f.LFG(SL,8),f.LFG(TL,8),f.LFG(AL,8),f.LFG(dy,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function RL(n,e){return function Pj(n,e=Kc.z){return new Xa.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function KP(n,e){return RL(n,e).pipe((0,rn.U)(t=>({payload:t,type:"query"})))}function zS(n,e){return KP(n,e).pipe(hy(void 0),$w(),(0,rn.U)(([t,r])=>{const s=r.payload.docChanges(),u=s.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,g)=>{const v=s.find(T=>T.doc.ref.isEqual(c.ref)),I=t?.payload.docs.find(T=>T.ref.isEqual(c.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(c.metadata)||!v&&I&&JSON.stringify(I.metadata)===JSON.stringify(c.metadata)||u.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:c}})}),u}))}function PL(n,e,t){return zS(n,t).pipe(fy((r,s)=>function Oj(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function kj(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return ZP(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return ZP(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return ZP(n,e.oldIndex,1)}return n}(n,r))}),n}(r,s.map(u=>u.payload),e),[]),(0,mO.x)(),(0,rn.U)(r=>r.map(s=>({type:s.type,payload:s}))))}function ZP(n,e,t,...r){const s=n.slice();return s.splice(e,t,...r),s}function NL(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class OL{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=zS(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,rn.U)(r=>r.filter(s=>e.indexOf(s.type)>-1)))),t.pipe(hy(void 0),$w(),Ro(([r,s])=>s.length>0||!r),(0,rn.U)(([r,s])=>s),sr.iC)}auditTrail(e){return this.stateChanges(e).pipe(fy((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=NL(e);return PL(this.query,t,this.afs.schedulers.outsideAngular).pipe(sr.iC)}valueChanges(e={}){return KP(this.query,this.afs.schedulers.outsideAngular).pipe((0,rn.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),sr.iC)}get(e){return(0,Cn.D)(this.query.get(e)).pipe(sr.iC)}add(e){return this.ref.add(e)}doc(e){return new kL(this.ref.doc(e),this.afs)}}class kL{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:s,query:u}=FL(r,t);return new OL(s,u,this.afs)}snapshotChanges(){return function Nj(n,e){return RL(n,e).pipe(hy(void 0),$w(),(0,rn.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(sr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,rn.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Cn.D)(this.ref.get(e)).pipe(sr.iC)}}class Fj{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?zS(this.query,this.afs.schedulers.outsideAngular).pipe((0,rn.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Ro(t=>t.length>0),sr.iC):zS(this.query,this.afs.schedulers.outsideAngular).pipe(sr.iC)}auditTrail(e){return this.stateChanges(e).pipe(fy((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=NL(e);return PL(this.query,t,this.afs.schedulers.outsideAngular).pipe(sr.iC)}valueChanges(e={}){return KP(this.query,this.afs.schedulers.outsideAngular).pipe((0,rn.U)(r=>r.payload.docs.map(s=>e.idField?Object.assign({[e.idField]:s.id},s.data()):s.data())),sr.iC)}get(e){return(0,Cn.D)(this.query.get(e)).pipe(sr.iC)}}const Lj=new f.OlP("angularfire2.enableFirestorePersistence"),Vj=new f.OlP("angularfire2.firestore.persistenceSettings"),Uj=new f.OlP("angularfire2.firestore.settings"),Bj=new f.OlP("angularfire2.firestore.use-emulator");function FL(n,e=(t=>t)){return{query:e(n),ref:n}}let jj=(()=>{class n{constructor(t,r,s,u,c,g,v,I,T,P,$,K,Q,de,Me,it,ct){this.schedulers=v;const lt=(0,ss.on)(t,g,r),Je=T;P&&ML(lt,g,$,Q,de,Me,K,it),[this.firestore,this.persistenceEnabled$]=(0,ss.cc)(`${lt.name}.firestore`,"AngularFirestore",lt.name,()=>{const Mt=g.runOutsideAngular(()=>lt.firestore());if(u&&Mt.settings(u),Je&&Mt.useEmulator(...Je),s&&!Hn(c)){const jt=()=>{try{return(0,Cn.D)(Mt.enablePersistence(I||void 0).then(()=>!0,()=>!1))}catch(yn){return typeof console<"u"&&console.warn(yn),(0,Dt.of)(!1)}};return[Mt,g.runOutsideAngular(jt)]}return[Mt,(0,Dt.of)(!1)]},[u,Je,s])}collection(t,r){let s;s="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:c}=FL(s,r),g=this.schedulers.ngZone.run(()=>u);return new OL(g,c,this)}collectionGroup(t,r){const s=r||(c=>c),u=this.firestore.collectionGroup(t);return new Fj(s(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const s=this.schedulers.ngZone.run(()=>r);return new kL(s,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ss.Dh),f.LFG(ss.xv,8),f.LFG(Lj,8),f.LFG(Uj,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(sr.HU),f.LFG(Vj,8),f.LFG(Bj,8),f.LFG(xL,8),f.LFG(IL,8),f.LFG(CL,8),f.LFG(DL,8),f.LFG(SL,8),f.LFG(TL,8),f.LFG(AL,8),f.LFG(dy,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function $j(n,e){1&n&&(f.TgZ(0,"div")(1,"span",11),f._uU(2,"First name is required"),f.qZA()())}function Hj(n,e){1&n&&(f.TgZ(0,"div")(1,"span",11),f._uU(2,"Last name is required"),f.qZA()())}function zj(n,e){1&n&&(f.TgZ(0,"div")(1,"span",11),f._uU(2,"Invalid email address"),f.qZA()())}function Gj(n,e){1&n&&(f.TgZ(0,"div")(1,"span",11),f._uU(2,"Message is required"),f.qZA()())}function qj(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"div",12)(1,"div",13)(2,"h2"),f._uU(3,"Success!"),f.qZA(),f.TgZ(4,"button",14),f.NdJ("click",function(){f.CHM(t);const s=f.oxw();return f.KtG(s.closeModal())}),f._uU(5,"Close"),f.qZA()()()}}let Wj=(()=>{class n{constructor(t,r,s){this.fb=t,this.fireStorage=r,this.firestore=s,this.showModal=!1,this.myForm()}ngOnInit(){}myForm(){this.contactForm=this.fb.group({firstname:["",Rf.required],lastname:["",Rf.required],email:["",[Rf.required,Rf.email]],message:["",Rf.required]})}markFieldsAsTouched(){Object.values(this.contactForm.controls).forEach(t=>{t.markAsTouched()})}onSubmit(t){if(this.contactForm.valid){console.log(t);const r=this.contactForm.value;this.firestore.collection("contactForm").add(r).then(()=>{ky().fire({title:"Wohoo!",text:"Message sent successfully",icon:"success",timer:3e3,showConfirmButton:!1})}).catch(s=>{console.error("Error saving form values to Firestore:",s),ky().fire({icon:"error",title:"Oops...",text:"Something went wrong!",timer:3e3,showConfirmButton:!1})}),this.contactForm.reset()}else this.markFieldsAsTouched()}closeModal(){this.showModal=!1}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(_N),f.Y36(X_),f.Y36(jj))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-contact"]],decls:17,vars:6,consts:[["id","contact"],[1,"contact-grid"],[1,"title"],["novalidate","",1,"form",3,"formGroup"],["type","text","formControlName","firstname","id","firstname","placeholder","First name",1,"field","form-control"],[4,"ngIf"],["type","text","formControlName","lastname","id","lastname","placeholder","Last name",1,"field","form-control"],["type","email","formControlName","email","id","email","placeholder","E-mail",1,"field","form-control"],["formControlName","message","id","message","cols","30","rows","10","placeholder","Write your message",1,"field","form-control"],["type","submit","value","SEND MESSAGE \u2192",1,"button","form-control",3,"click"],["class","modal-overlay",4,"ngIf"],[1,"error"],[1,"modal-overlay"],[1,"modal-content"],[3,"click"]],template:function(t,r){if(1&t&&(f.TgZ(0,"section",0)(1,"div",1)(2,"h1",2),f._uU(3,"Get In Touch"),f.qZA(),f.TgZ(4,"p"),f._uU(5,"Do you fancy saying hi to me or you want to get started with your project and you need my help? Feel free to contact me"),f.qZA(),f.TgZ(6,"form",3),f._UZ(7,"input",4),f.YNc(8,$j,3,0,"div",5),f._UZ(9,"input",6),f.YNc(10,Hj,3,0,"div",5),f._UZ(11,"input",7),f.YNc(12,zj,3,0,"div",5),f._UZ(13,"textarea",8),f.YNc(14,Gj,3,0,"div",5),f.TgZ(15,"input",9),f.NdJ("click",function(){return r.onSubmit(r.contactForm.value)}),f.qZA()(),f.YNc(16,qj,6,0,"div",10),f.qZA()()),2&t){let s,u,c,g;f.xp6(6),f.Q6J("formGroup",r.contactForm),f.xp6(2),f.Q6J("ngIf",(null==(s=r.contactForm.get("firstname"))?null:s.errors)&&(null==(s=r.contactForm.get("firstname"))?null:s.touched)),f.xp6(2),f.Q6J("ngIf",(null==(u=r.contactForm.get("lastname"))?null:u.errors)&&(null==(u=r.contactForm.get("lastname"))?null:u.touched)),f.xp6(2),f.Q6J("ngIf",(null==(c=r.contactForm.get("email"))?null:c.errors)&&(null==(c=r.contactForm.get("email"))?null:c.touched)),f.xp6(2),f.Q6J("ngIf",(null==(g=r.contactForm.get("message"))?null:g.errors)&&(null==(g=r.contactForm.get("message"))?null:g.touched)),f.xp6(2),f.Q6J("ngIf",r.showModal)}},dependencies:[ao,Jv,Vv,qv,aT,qf,ql],styles:["#contact[_ngcontent-%COMP%]{height:100vh;font-family:Segoe UI,Frutiger,Frutiger Linotype,Dejavu Sans,Helvetica Neue,Arial,sans-serif;color:#363636}h1[_ngcontent-%COMP%]{padding-top:13%;font-size:34px}p[_ngcontent-%COMP%]{font-family:Dekko;font-size:20px}.contact-grid[_ngcontent-%COMP%]{display:grid;justify-content:center}.form[_ngcontent-%COMP%]{display:grid;width:50vw}.field[_ngcontent-%COMP%]{height:2vh;padding:2%;margin-top:4vh;border-radius:36px 10px;border:1px}textarea[_ngcontent-%COMP%]{resize:none}.button[_ngcontent-%COMP%]{font-size:25px;background:transparent;border:none;margin-top:4vh;margin-left:37vw;font-weight:700;color:#363636;cursor:pointer}.error[_ngcontent-%COMP%]{color:red;font-size:12px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;align-items:center;justify-content:center}.modal-content[_ngcontent-%COMP%]{display:grid;background-color:#fff;padding:20px;border-radius:20px;text-align:center;height:45vh;width:30vw}.modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#00d900;font-size:51px;margin-top:16vh}.modal-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:10px;background-color:transparent;border:none;color:gray;font-weight:700}@media (max-width: 1715px){p[_ngcontent-%COMP%]{width:81%}}"]}),n})(),Kj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-layout"]],decls:8,vars:0,consts:[[1,"main"]],template:function(t,r){1&t&&(f._UZ(0,"app-header"),f.TgZ(1,"div",0),f._UZ(2,"app-about")(3,"app-skills")(4,"app-experience")(5,"app-contact"),f.qZA(),f._UZ(6,"app-footer")(7,"router-outlet"))},dependencies:[Iy,wD,ax,bD,Bw,ED,Wj]}),n})(),Zj=(()=>{class n{constructor(){this.title="portfolio"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&f._UZ(0,"app-layout")},dependencies:[Kj]}),n})();const Yj_firebaseConfig={apiKey:"AIzaSyCv2XILn9oP71GP1F3AZzKb-xJhG21GnSI",authDomain:"portfolio-dc76f.firebaseapp.com",projectId:"portfolio-dc76f",storageBucket:"portfolio-dc76f.appspot.com",messagingSenderId:"705433275762",appId:"1:705433275762:web:87d0f4a961cc69b392a1eb"};let Qj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n,bootstrap:[Zj]}),n.\u0275inj=f.cJS({imports:[Ou,_D,Nb,IE,ss.hO.initializeApp(Yj_firebaseConfig),XI]}),n})();bs().bootstrapModule(Qj).catch(n=>console.error(n))},301:(ht,Te,k)=>{"use strict";k.d(Te,{C6:()=>f.getApps,Mq:()=>f.getApp});var f=k(4303);(0,f.registerVersion)("firebase","9.9.1","app")},3071:(ht,Te,k)=>{"use strict";k.d(Te,{Z:()=>f.Z});var f=k(3106);f.Z.registerVersion("firebase","9.9.1","app-compat")},1128:(ht,Te,k)=>{"use strict";k.r(Te);var f=k(5861),ne=k(3106),L=k(9058),ae=k(4303),ue=k(7582),U=k(7879),be=k(4537);const he={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Ke=function Be(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Oe=function Pe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ze=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ot=new U.Yd("@firebase/auth");function Xe(_,...h){ot.logLevel<=U.in.ERROR&&ot.error(`Auth (${ae.SDK_VERSION}): ${_}`,...h)}function se(_,...h){throw Le(_,...h)}function ye(_,...h){return Le(_,...h)}function te(_,h,m){const w=Object.assign(Object.assign({},Oe()),{[h]:m});return new L.LL("auth","Firebase",w).create(h,{appName:_.name})}function me(_,h,m){if(!(h instanceof m))throw m.name!==h.constructor.name&&se(_,"argument-error"),te(_,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Le(_,...h){if("string"!=typeof _){const m=h[0],w=[...h.slice(1)];return w[0]&&(w[0].appName=_.name),_._errorFactory.create(m,...w)}return Ze.create(_,...h)}function H(_,h,...m){if(!_)throw Le(h,...m)}function Ie(_){const h="INTERNAL ASSERTION FAILED: "+_;throw Xe(h),new Error(h)}function De(_,h){_||Ie(h)}const Pt=new Map;function Wt(_){De(_ instanceof Function,"Expected a class definition");let h=Pt.get(_);return h?(De(h instanceof _,"Instance stored in cache mismatched with class"),h):(h=new _,Pt.set(_,h),h)}function fn(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function Qn(){return"http:"===xr()||"https:"===xr()}function xr(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class ve{constructor(h,m){this.shortDelay=h,this.longDelay=m,De(m>h,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function le(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Qn()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _e(_,h){De(_.emulator,"Emulator should always be set here");const{url:m}=_.emulator;return h?`${m}${h.startsWith("/")?h.slice(1):h}`:m}class Ve{static initialize(h,m,w){this.fetchImpl=h,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ie("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ie("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ie("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const He={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ut=new ve(3e4,6e4);function qe(_,h){return _.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:_.tenantId}):h}function sn(_,h,m,w){return ft.apply(this,arguments)}function ft(){return(ft=(0,f.Z)(function*(_,h,m,w,x={}){return Ut(_,x,(0,f.Z)(function*(){let F={},X={};w&&("GET"===h?X=w:F={body:JSON.stringify(w)});const pe=(0,L.xO)(Object.assign({key:_.config.apiKey},X)).slice(1),We=yield _._getAdditionalHeaders();return We["Content-Type"]="application/json",_.languageCode&&(We["X-Firebase-Locale"]=_.languageCode),Ve.fetch()(Xn(_,_.config.apiHost,m,pe),Object.assign({method:h,headers:We,referrerPolicy:"no-referrer"},F))}))})).apply(this,arguments)}function Ut(_,h,m){return wt.apply(this,arguments)}function wt(){return(wt=(0,f.Z)(function*(_,h,m){_._canInitEmulator=!1;const w=Object.assign(Object.assign({},He),h);try{const x=new cn(_),F=yield Promise.race([m(),x.promise]);x.clearNetworkTimeout();const X=yield F.json();if("needConfirmation"in X)throw _t(_,"account-exists-with-different-credential",X);if(F.ok&&!("errorMessage"in X))return X;{const pe=F.ok?X.errorMessage:X.error.message,[We,st]=pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===We)throw _t(_,"credential-already-in-use",X);if("EMAIL_EXISTS"===We)throw _t(_,"email-already-in-use",X);if("USER_DISABLED"===We)throw _t(_,"user-disabled",X);const Rt=w[We]||We.toLowerCase().replace(/[_\s]+/g,"-");if(st)throw te(_,Rt,st);se(_,Rt)}}catch(x){if(x instanceof L.ZR)throw x;se(_,"network-request-failed")}})).apply(this,arguments)}function Lt(_,h,m,w){return xn.apply(this,arguments)}function xn(){return(xn=(0,f.Z)(function*(_,h,m,w,x={}){const F=yield sn(_,h,m,w,x);return"mfaPendingCredential"in F&&se(_,"multi-factor-auth-required",{_serverResponse:F}),F})).apply(this,arguments)}function Xn(_,h,m,w){const x=`${h}${m}?${w}`;return _.config.emulator?_e(_.config,x):`${_.config.apiScheme}://${x}`}class cn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(ye(this.auth,"network-request-failed")),ut.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _t(_,h,m){const w={appName:_.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const x=ye(_,h,w);return x.customData._tokenResponse=m,x}function zn(){return(zn=(0,f.Z)(function*(_,h){return sn(_,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function vn(){return(vn=(0,f.Z)(function*(_,h){return sn(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function fi(){return(fi=(0,f.Z)(function*(_,h){return sn(_,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Ye(_){if(_)try{const h=new Date(Number(_));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function $n(){return($n=(0,f.Z)(function*(_,h=!1){const m=(0,L.m9)(_),w=yield m.getIdToken(h),x=er(w);H(x&&x.exp&&x.auth_time&&x.iat,m.auth,"internal-error");const F="object"==typeof x.firebase?x.firebase:void 0,X=F?.sign_in_provider;return{claims:x,token:w,authTime:Ye(pi(x.auth_time)),issuedAtTime:Ye(pi(x.iat)),expirationTime:Ye(pi(x.exp)),signInProvider:X||null,signInSecondFactor:F?.sign_in_second_factor||null}})).apply(this,arguments)}function pi(_){return 1e3*Number(_)}function er(_){var h;const[m,w,x]=_.split(".");if(void 0===m||void 0===w||void 0===x)return Xe("JWT malformed, contained fewer than 3 sections"),null;try{const F=(0,L.tV)(w);return F?JSON.parse(F):(Xe("Failed to decode base64 JWT payload"),null)}catch(F){return Xe("Caught error parsing JWT payload as JSON",null===(h=F)||void 0===h?void 0:h.toString()),null}}function In(_,h){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,f.Z)(function*(_,h,m=!1){if(m)return h;try{return yield h}catch(w){throw w instanceof L.ZR&&function Tn({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(w)&&_.auth.currentUser===_&&(yield _.auth.signOut()),w}})).apply(this,arguments)}class gr{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var m;if(h){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const x=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(h=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(h);this.timerId=setTimeout((0,f.Z)(function*(){yield m.iteration()}),w)}iteration(){var h=this;return(0,f.Z)(function*(){var m;try{yield h.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===(null===(m=w)||void 0===m?void 0:m.code)&&h.schedule(!0))}h.schedule()})()}}class an{constructor(h,m){this.createdAt=h,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ye(this.lastLoginAt),this.creationTime=Ye(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Yr(_){return Qr.apply(this,arguments)}function Qr(){return Qr=(0,f.Z)(function*(_){var h;const m=_.auth,w=yield _.getIdToken(),x=yield In(_,function mn(_,h){return fi.apply(this,arguments)}(m,{idToken:w}));H(x?.users.length,m,"internal-error");const F=x.users[0];_._notifyReloadListener(F);const X=null!==(h=F.providerUserInfo)&&void 0!==h&&h.length?function z(_){return _.map(h=>{var{providerId:m}=h,w=(0,ue._T)(h,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(F.providerUserInfo):[],pe=function Z(_,h){return[..._.filter(w=>!h.some(x=>x.providerId===w.providerId)),...h]}(_.providerData,X),Rt=!!_.isAnonymous&&!(_.email&&F.passwordHash||pe?.length),It={uid:F.localId,displayName:F.displayName||null,photoURL:F.photoUrl||null,email:F.email||null,emailVerified:F.emailVerified||!1,phoneNumber:F.phoneNumber||null,tenantId:F.tenantId||null,providerData:pe,metadata:new an(F.createdAt,F.lastLoginAt),isAnonymous:Rt};Object.assign(_,It)}),Qr.apply(this,arguments)}function J(){return(J=(0,f.Z)(function*(_){const h=(0,L.m9)(_);yield Yr(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function W(){return(W=(0,f.Z)(function*(_,h){const m=yield Ut(_,{},(0,f.Z)(function*(){const w=(0,L.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:x,apiKey:F}=_.config,X=Xn(_,x,"/v1/token",`key=${F}`),pe=yield _._getAdditionalHeaders();return pe["Content-Type"]="application/x-www-form-urlencoded",Ve.fetch()(X,{method:"POST",headers:pe,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class ke{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){H(h.idToken,"internal-error"),H(typeof h.idToken<"u","internal-error"),H(typeof h.refreshToken<"u","internal-error");const m="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function pn(_){const h=er(_);return H(h,"internal-error"),H(typeof h.exp<"u","internal-error"),H(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,m)}getToken(h,m=!1){var w=this;return(0,f.Z)(function*(){return H(!w.accessToken||w.refreshToken,h,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(h,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,m){var w=this;return(0,f.Z)(function*(){const{accessToken:x,refreshToken:F,expiresIn:X}=yield function Y(_,h){return W.apply(this,arguments)}(h,m);w.updateTokensAndExpiration(x,F,Number(X))})()}updateTokensAndExpiration(h,m,w){this.refreshToken=m||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(h,m){const{refreshToken:w,accessToken:x,expirationTime:F}=m,X=new ke;return w&&(H("string"==typeof w,"internal-error",{appName:h}),X.refreshToken=w),x&&(H("string"==typeof x,"internal-error",{appName:h}),X.accessToken=x),F&&(H("number"==typeof F,"internal-error",{appName:h}),X.expirationTime=F),X}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new ke,this.toJSON())}_performRefresh(){return Ie("not implemented")}}function $e(_,h){H("string"==typeof _||typeof _>"u","internal-error",{appName:h})}class mt{constructor(h){var{uid:m,auth:w,stsTokenManager:x}=h,F=(0,ue._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=F.displayName||null,this.email=F.email||null,this.emailVerified=F.emailVerified||!1,this.phoneNumber=F.phoneNumber||null,this.photoURL=F.photoURL||null,this.isAnonymous=F.isAnonymous||!1,this.tenantId=F.tenantId||null,this.providerData=F.providerData?[...F.providerData]:[],this.metadata=new an(F.createdAt||void 0,F.lastLoginAt||void 0)}getIdToken(h){var m=this;return(0,f.Z)(function*(){const w=yield In(m,m.stsTokenManager.getToken(m.auth,h));return H(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(h){return function Tt(_){return $n.apply(this,arguments)}(this,h)}reload(){return function Lo(_){return J.apply(this,arguments)}(this)}_assign(h){this!==h&&(H(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(m=>Object.assign({},m)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new mt(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){H(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,m=!1){var w=this;return(0,f.Z)(function*(){let x=!1;h.idToken&&h.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(h),x=!0),m&&(yield Yr(w)),yield w.auth._persistUserIfCurrent(w),x&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var h=this;return(0,f.Z)(function*(){const m=yield h.getIdToken();return yield In(h,function Ln(_,h){return zn.apply(this,arguments)}(h.auth,{idToken:m})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,m){var w,x,F,X,pe,We,st,Rt;const It=null!==(w=m.displayName)&&void 0!==w?w:void 0,hr=null!==(x=m.email)&&void 0!==x?x:void 0,Ss=null!==(F=m.phoneNumber)&&void 0!==F?F:void 0,Ii=null!==(X=m.photoURL)&&void 0!==X?X:void 0,ca=null!==(pe=m.tenantId)&&void 0!==pe?pe:void 0,Do=null!==(We=m._redirectEventId)&&void 0!==We?We:void 0,Lc=null!==(st=m.createdAt)&&void 0!==st?st:void 0,eh=null!==(Rt=m.lastLoginAt)&&void 0!==Rt?Rt:void 0,{uid:Bl,emailVerified:th,isAnonymous:lm,providerData:Df,stsTokenManager:Vc}=m;H(Bl&&Vc,h,"internal-error");const Rv=ke.fromJSON(this.name,Vc);H("string"==typeof Bl,h,"internal-error"),$e(It,h.name),$e(hr,h.name),H("boolean"==typeof th,h,"internal-error"),H("boolean"==typeof lm,h,"internal-error"),$e(Ss,h.name),$e(Ii,h.name),$e(ca,h.name),$e(Do,h.name),$e(Lc,h.name),$e(eh,h.name);const nh=new mt({uid:Bl,auth:h,email:hr,emailVerified:th,displayName:It,isAnonymous:lm,photoURL:Ii,phoneNumber:Ss,tenantId:ca,stsTokenManager:Rv,createdAt:Lc,lastLoginAt:eh});return Df&&Array.isArray(Df)&&(nh.providerData=Df.map(Sf=>Object.assign({},Sf))),Do&&(nh._redirectEventId=Do),nh}static _fromIdTokenResponse(h,m,w=!1){return(0,f.Z)(function*(){const x=new ke;x.updateFromServerResponse(m);const F=new mt({uid:m.localId,auth:h,stsTokenManager:x,isAnonymous:w});return yield Yr(F),F})()}}const dn=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(m,w){var x=this;return(0,f.Z)(function*(){x.storage[m]=w})()}_get(m){var w=this;return(0,f.Z)(function*(){const x=w.storage[m];return void 0===x?null:x})()}_remove(m){var w=this;return(0,f.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return _.type="NONE",_})();function tr(_,h,m){return`firebase:${_}:${h}:${m}`}class Kt{constructor(h,m,w){this.persistence=h,this.auth=m,this.userKey=w;const{config:x,name:F}=this.auth;this.fullUserKey=tr(this.userKey,x.apiKey,F),this.fullPersistenceKey=tr("persistence",x.apiKey,F),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,f.Z)(function*(){const m=yield h.persistence._get(h.fullUserKey);return m?mt._fromJSON(h.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var m=this;return(0,f.Z)(function*(){if(m.persistence===h)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=h,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,m,w="authUser"){return(0,f.Z)(function*(){if(!m.length)return new Kt(Wt(dn),h,w);const x=(yield Promise.all(m.map(function(){var st=(0,f.Z)(function*(Rt){if(yield Rt._isAvailable())return Rt});return function(Rt){return st.apply(this,arguments)}}()))).filter(st=>st);let F=x[0]||Wt(dn);const X=tr(w,h.config.apiKey,h.name);let pe=null;for(const st of m)try{const Rt=yield st._get(X);if(Rt){const It=mt._fromJSON(h,Rt);st!==F&&(pe=It),F=st;break}}catch{}const We=x.filter(st=>st._shouldAllowMigration);return F._shouldAllowMigration&&We.length?(F=We[0],pe&&(yield F._set(X,pe.toJSON())),yield Promise.all(m.map(function(){var st=(0,f.Z)(function*(Rt){if(Rt!==F)try{yield Rt._remove(X)}catch{}});return function(Rt){return st.apply(this,arguments)}}())),new Kt(F,h,w)):new Kt(F,h,w)})()}}function Ur(_){const h=_.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Cr(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Yi(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(gi(h))return"Blackberry";if(Qt(h))return"Webos";if(io(h))return"Safari";if((h.includes("chrome/")||Ir(h))&&!h.includes("edge/"))return"Chrome";if(mr(h))return"Android";{const w=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function Yi(_=(0,L.z$)()){return/firefox\//i.test(_)}function io(_=(0,L.z$)()){const h=_.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Ir(_=(0,L.z$)()){return/crios\//i.test(_)}function Cr(_=(0,L.z$)()){return/iemobile/i.test(_)}function mr(_=(0,L.z$)()){return/android/i.test(_)}function gi(_=(0,L.z$)()){return/blackberry/i.test(_)}function Qt(_=(0,L.z$)()){return/webos/i.test(_)}function Xr(_=(0,L.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function Vn(_=(0,L.z$)()){return Xr(_)||mr(_)||Qt(_)||gi(_)||/windows phone/i.test(_)||Cr(_)}function Os(_,h=[]){let m;switch(_){case"Browser":m=Ur((0,L.z$)());break;case"Worker":m=`${Ur((0,L.z$)())}-${_}`;break;default:m=_}const w=h.length?h.join(","):"FirebaseCore-web";return`${m}/JsCore/${ae.SDK_VERSION}/${w}`}class fu{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,m){const w=F=>new Promise((X,pe)=>{try{X(h(F))}catch(We){pe(We)}});w.onAbort=m,this.queue.push(w);const x=this.queue.length-1;return()=>{this.queue[x]=()=>Promise.resolve()}}runMiddleware(h){var m=this;return(0,f.Z)(function*(){var w;if(m.auth.currentUser===h)return;const x=[];try{for(const F of m.queue)yield F(h),F.onAbort&&x.push(F.onAbort)}catch(F){x.reverse();for(const X of x)try{X()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(w=F)||void 0===w?void 0:w.message})}})()}}class Sa{constructor(h,m,w){this.app=h,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uo(this),this.idTokenSubscription=new Uo(this),this.beforeStateQueue=new fu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ze,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(h,m){var w=this;return m&&(this._popupRedirectResolver=Wt(m)),this._initializationPromise=this.queue((0,f.Z)(function*(){var x,F;if(!w._deleted&&(w.persistenceManager=yield Kt.create(w,h),!w._deleted)){if(null!==(x=w._popupRedirectResolver)&&void 0!==x&&x._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(F=w.currentUser)||void 0===F?void 0:F.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,f.Z)(function*(){if(h._deleted)return;const m=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||m){if(h.currentUser&&m&&h.currentUser.uid===m.uid)return h._currentUser._assign(m),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(m,!0)}})()}initializeCurrentUser(h){var m=this;return(0,f.Z)(function*(){var w;const x=yield m.assertedPersistence.getCurrentUser();let F=x,X=!1;if(h&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const pe=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,We=F?._redirectEventId,st=yield m.tryRedirectSignIn(h);(!pe||pe===We)&&st?.user&&(F=st.user,X=!0)}if(!F)return m.directlySetCurrentUser(null);if(!F._redirectEventId){if(X)try{yield m.beforeStateQueue.runMiddleware(F)}catch(pe){F=x,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(pe))}return F?m.reloadAndSetCurrentUserOrClear(F):m.directlySetCurrentUser(null)}return H(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===F._redirectEventId?m.directlySetCurrentUser(F):m.reloadAndSetCurrentUserOrClear(F)})()}tryRedirectSignIn(h){var m=this;return(0,f.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,h,!0)}catch{yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(h){var m=this;return(0,f.Z)(function*(){var w;try{yield Yr(h)}catch(x){if("auth/network-request-failed"!==(null===(w=x)||void 0===w?void 0:w.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function ge(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var h=this;return(0,f.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var m=this;return(0,f.Z)(function*(){const w=h?(0,L.m9)(h):null;return w&&H(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(h,m=!1){var w=this;return(0,f.Z)(function*(){if(!w._deleted)return h&&H(w.tenantId===h.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(h)),w.queue((0,f.Z)(function*(){yield w.directlySetCurrentUser(h),w.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,f.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var m=this;return this.queue((0,f.Z)(function*(){yield m.assertedPersistence.setPersistence(Wt(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new L.LL("auth","Firebase",h())}onAuthStateChanged(h,m,w){return this.registerStateListener(this.authStateSubscription,h,m,w)}beforeAuthStateChanged(h,m){return this.beforeStateQueue.pushCallback(h,m)}onIdTokenChanged(h,m,w){return this.registerStateListener(this.idTokenSubscription,h,m,w)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,m){var w=this;return(0,f.Z)(function*(){const x=yield w.getOrInitRedirectPersistenceManager(m);return null===h?x.removeCurrentUser():x.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var m=this;return(0,f.Z)(function*(){if(!m.redirectPersistenceManager){const w=h&&Wt(h)||m._popupRedirectResolver;H(w,m,"argument-error"),m.redirectPersistenceManager=yield Kt.create(m,[Wt(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(h){var m=this;return(0,f.Z)(function*(){var w,x;return m._isInitialized&&(yield m.queue((0,f.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===h?m._currentUser:(null===(x=m.redirectUser)||void 0===x?void 0:x._redirectEventId)===h?m.redirectUser:null})()}_persistUserIfCurrent(h){var m=this;return(0,f.Z)(function*(){if(h===m.currentUser)return m.queue((0,f.Z)(function*(){return m.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,m,w,x){if(this._deleted)return()=>{};const F="function"==typeof m?m:m.next.bind(m),X=this._isInitialized?Promise.resolve():this._initializationPromise;return H(X,this,"internal-error"),X.then(()=>F(this.currentUser)),"function"==typeof m?h.addObserver(m,w,x):h.addObserver(m)}directlySetCurrentUser(h){var m=this;return(0,f.Z)(function*(){m.currentUser&&m.currentUser!==h&&(m._currentUser._stopProactiveRefresh(),h&&m.isProactiveRefreshEnabled&&h._startProactiveRefresh()),m.currentUser=h,h?yield m.assertedPersistence.setCurrentUser(h):yield m.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return H(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Os(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,f.Z)(function*(){var m;const w={"X-Client-Version":h.clientVersion};h.app.options.appId&&(w["X-Firebase-gmpid"]=h.app.options.appId);const x=yield null===(m=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return x&&(w["X-Firebase-Client"]=x),w})()}}function Kn(_){return(0,L.m9)(_)}class Uo{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,L.ne)(m=>this.observer=m)}get next(){return H(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Fs(_){const h=_.indexOf(":");return h<0?"":_.substr(0,h+1)}function el(_){if(!_)return null;const h=Number(_);return isNaN(h)?null:h}class fs{constructor(h,m){this.providerId=h,this.signInMethod=m}toJSON(){return Ie("not implemented")}_getIdTokenResponse(h){return Ie("not implemented")}_linkToIdToken(h,m){return Ie("not implemented")}_getReauthenticationResolver(h){return Ie("not implemented")}}function yr(_,h){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,f.Z)(function*(_,h){return sn(_,"POST","/v1/accounts:resetPassword",qe(_,h))})).apply(this,arguments)}function tl(_,h){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,f.Z)(function*(_,h){return sn(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function oo(){return(oo=(0,f.Z)(function*(_,h){return sn(_,"POST","/v1/accounts:update",qe(_,h))})).apply(this,arguments)}function rl(){return(rl=(0,f.Z)(function*(_,h){return Lt(_,"POST","/v1/accounts:signInWithPassword",qe(_,h))})).apply(this,arguments)}function ao(_,h){return jo.apply(this,arguments)}function jo(){return(jo=(0,f.Z)(function*(_,h){return sn(_,"POST","/v1/accounts:sendOobCode",qe(_,h))})).apply(this,arguments)}function uo(){return(uo=(0,f.Z)(function*(_,h){return ao(_,h)})).apply(this,arguments)}function Aa(){return(Aa=(0,f.Z)(function*(_,h){return ao(_,h)})).apply(this,arguments)}function fc(){return(fc=(0,f.Z)(function*(_,h){return ao(_,h)})).apply(this,arguments)}function $o(){return($o=(0,f.Z)(function*(_,h){return ao(_,h)})).apply(this,arguments)}function yu(){return(yu=(0,f.Z)(function*(_,h){return Lt(_,"POST","/v1/accounts:signInWithEmailLink",qe(_,h))})).apply(this,arguments)}function xt(){return(xt=(0,f.Z)(function*(_,h){return Lt(_,"POST","/v1/accounts:signInWithEmailLink",qe(_,h))})).apply(this,arguments)}class Gn extends fs{constructor(h,m,w,x=null){super("password",w),this._email=h,this._password=m,this._tenantId=x}static _fromEmailAndPassword(h,m){return new Gn(h,m,"password")}static _fromEmailAndCode(h,m,w=null){return new Gn(h,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(h){var m=this;return(0,f.Z)(function*(){switch(m.signInMethod){case"password":return function Ta(_,h){return rl.apply(this,arguments)}(h,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Id(_,h){return yu.apply(this,arguments)}(h,{email:m._email,oobCode:m._password});default:se(h,"internal-error")}})()}_linkToIdToken(h,m){var w=this;return(0,f.Z)(function*(){switch(w.signInMethod){case"password":return tl(h,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function pc(_,h){return xt.apply(this,arguments)}(h,{idToken:m,email:w._email,oobCode:w._password});default:se(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Rn(_,h){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,f.Z)(function*(_,h){return Lt(_,"POST","/v1/accounts:signInWithIdp",qe(_,h))})).apply(this,arguments)}class mi extends fs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const m=new mi(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(m.idToken=h.idToken),h.accessToken&&(m.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(m.nonce=h.nonce),h.pendingToken&&(m.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(m.accessToken=h.oauthToken,m.secret=h.oauthTokenSecret):se("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h,{providerId:w,signInMethod:x}=m,F=(0,ue._T)(m,["providerId","signInMethod"]);if(!w||!x)return null;const X=new mi(w,x);return X.idToken=F.idToken||void 0,X.accessToken=F.accessToken||void 0,X.secret=F.secret,X.nonce=F.nonce,X.pendingToken=F.pendingToken||null,X}_getIdTokenResponse(h){return Rn(h,this.buildRequest())}_linkToIdToken(h,m){const w=this.buildRequest();return w.idToken=m,Rn(h,w)}_getReauthenticationResolver(h){const m=this.buildRequest();return m.autoCreate=!1,Rn(h,m)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),h.postBody=(0,L.xO)(m)}return h}}function co(){return(co=(0,f.Z)(function*(_,h){return sn(_,"POST","/v1/accounts:sendVerificationCode",qe(_,h))})).apply(this,arguments)}function Xi(){return(Xi=(0,f.Z)(function*(_,h){return Lt(_,"POST","/v1/accounts:signInWithPhoneNumber",qe(_,h))})).apply(this,arguments)}function Qe(){return(Qe=(0,f.Z)(function*(_,h){const m=yield Lt(_,"POST","/v1/accounts:signInWithPhoneNumber",qe(_,h));if(m.temporaryProof)throw _t(_,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Ot={USER_NOT_FOUND:"user-not-found"};function Pr(){return(Pr=(0,f.Z)(function*(_,h){return Lt(_,"POST","/v1/accounts:signInWithPhoneNumber",qe(_,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Ot)})).apply(this,arguments)}class yi extends fs{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,m){return new yi({verificationId:h,verificationCode:m})}static _fromTokenResponse(h,m){return new yi({phoneNumber:h,temporaryProof:m})}_getIdTokenResponse(h){return function Ma(_,h){return Xi.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,m){return function Zn(_,h){return Qe.apply(this,arguments)}(h,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Pn(_,h){return Pr.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:m,verificationId:w,verificationCode:x}=this.params;return h&&m?{temporaryProof:h,phoneNumber:m}:{sessionInfo:w,code:x}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:m,verificationCode:w,phoneNumber:x,temporaryProof:F}=h;return w||m||x||F?new yi({verificationId:m,verificationCode:w,phoneNumber:x,temporaryProof:F}):null}}class wn{constructor(h){var m,w,x,F,X,pe;const We=(0,L.zd)((0,L.pd)(h)),st=null!==(m=We.apiKey)&&void 0!==m?m:null,Rt=null!==(w=We.oobCode)&&void 0!==w?w:null,It=function Un(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=We.mode)&&void 0!==x?x:null);H(st&&Rt&&It,"argument-error"),this.apiKey=st,this.operation=It,this.code=Rt,this.continueUrl=null!==(F=We.continueUrl)&&void 0!==F?F:null,this.languageCode=null!==(X=We.languageCode)&&void 0!==X?X:null,this.tenantId=null!==(pe=We.tenantId)&&void 0!==pe?pe:null}static parseLink(h){const m=function ps(_){const h=(0,L.zd)((0,L.pd)(_)).link,m=h?(0,L.zd)((0,L.pd)(h)).deep_link_id:null,w=(0,L.zd)((0,L.pd)(_)).deep_link_id;return(w?(0,L.zd)((0,L.pd)(w)).link:null)||w||m||h||_}(h);try{return new wn(m)}catch{return null}}}let Pi=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(m,w){return Gn._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const x=wn.parseLink(w);return H(x,"argument-error"),Gn._fromEmailAndCode(m,x.code,x.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class bt{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class _i extends bt{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class gs extends _i{static credentialFromJSON(h){const m="string"==typeof h?JSON.parse(h):h;return H("providerId"in m&&"signInMethod"in m,"argument-error"),mi._fromParams(m)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return H(h.idToken||h.accessToken,"argument-error"),mi._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return gs.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return gs.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:x,pendingToken:F,nonce:X,providerId:pe}=h;if(!w&&!x&&!m&&!F||!pe)return null;try{return new gs(pe)._credential({idToken:m,accessToken:w,nonce:X,pendingToken:F})}catch{return null}}}let Dr=(()=>{class _ extends _i{constructor(){super("facebook.com")}static credential(m){return mi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),An=(()=>{class _ extends _i{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return mi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:x}=m;if(!w&&!x)return null;try{return _.credential(w,x)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Ho=(()=>{class _ extends _i{constructor(){super("github.com")}static credential(m){return mi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Nr extends fs{constructor(h,m){super(h,h),this.pendingToken=m}_getIdTokenResponse(h){return Rn(h,this.buildRequest())}_linkToIdToken(h,m){const w=this.buildRequest();return w.idToken=m,Rn(h,w)}_getReauthenticationResolver(h){const m=this.buildRequest();return m.autoCreate=!1,Rn(h,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h,{providerId:w,signInMethod:x,pendingToken:F}=m;return w&&x&&F&&w===x?new Nr(w,F):null}static _create(h,m){return new Nr(h,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class $r extends bt{constructor(h){H(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return $r.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return $r.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const m=Nr.fromJSON(h);return H(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:m,providerId:w}=h;if(!m||!w)return null;try{return Nr._create(w,m)}catch{return null}}}let Ji=(()=>{class _ extends _i{constructor(){super("twitter.com")}static credential(m,w){return mi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:x}=m;if(!w||!x)return null;try{return _.credential(w,x)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Jr(_,h){return Go.apply(this,arguments)}function Go(){return(Go=(0,f.Z)(function*(_,h){return Lt(_,"POST","/v1/accounts:signUp",qe(_,h))})).apply(this,arguments)}class Hn{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,m,w,x=!1){return(0,f.Z)(function*(){const F=yield mt._fromIdTokenResponse(h,w,x),X=Yt(w);return new Hn({user:F,providerId:X,_tokenResponse:w,operationType:m})})()}static _forOperation(h,m,w){return(0,f.Z)(function*(){yield h._updateTokensIfNecessary(w,!0);const x=Yt(w);return new Hn({user:h,providerId:x,_tokenResponse:w,operationType:m})})()}}function Yt(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function xa(){return(xa=(0,f.Z)(function*(_){var h;const m=Kn(_);if(yield m._initializationPromise,null!==(h=m.currentUser)&&void 0!==h&&h.isAnonymous)return new Hn({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield Jr(m,{returnSecureToken:!0}),x=yield Hn._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(x.user),x})).apply(this,arguments)}class qo extends L.ZR{constructor(h,m,w,x){var F;super(m.code,m.message),this.operationType=w,this.user=x,Object.setPrototypeOf(this,qo.prototype),this.customData={appName:h.name,tenantId:null!==(F=h.tenantId)&&void 0!==F?F:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(h,m,w,x){return new qo(h,m,w,x)}}function ei(_,h,m,w){return("reauthenticate"===h?m._getReauthenticationResolver(_):m._getIdTokenResponse(_)).catch(F=>{throw"auth/multi-factor-auth-required"===F.code?qo._fromErrorAndOperation(_,F,h,w):F})}function ti(_){return new Set(_.map(({providerId:h})=>h).filter(h=>!!h))}function es(){return es=(0,f.Z)(function*(_,h){const m=(0,L.m9)(_);yield Nn(!0,m,h);const{providerUserInfo:w}=yield function Jn(_,h){return vn.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[h]}),x=ti(w||[]);return m.providerData=m.providerData.filter(F=>x.has(F.providerId)),x.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),es.apply(this,arguments)}function qn(_,h){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,f.Z)(function*(_,h,m=!1){const w=yield In(_,h._linkToIdToken(_.auth,yield _.getIdToken()),m);return Hn._forOperation(_,"link",w)})).apply(this,arguments)}function Nn(_,h,m){return ur.apply(this,arguments)}function ur(){return(ur=(0,f.Z)(function*(_,h,m){yield Yr(h);const x=!1===_?"provider-already-linked":"no-such-provider";H(ti(h.providerData).has(m)===_,h.auth,x)})).apply(this,arguments)}function Ko(_,h){return ni.apply(this,arguments)}function ni(){return(ni=(0,f.Z)(function*(_,h,m=!1){var w;const{auth:x}=_,F="reauthenticate";try{const X=yield In(_,ei(x,F,h,_),m);H(X.idToken,x,"internal-error");const pe=er(X.idToken);H(pe,x,"internal-error");const{sub:We}=pe;return H(_.uid===We,x,"user-mismatch"),Hn._forOperation(_,F,X)}catch(X){throw"auth/user-not-found"===(null===(w=X)||void 0===w?void 0:w.code)&&se(x,"user-mismatch"),X}})).apply(this,arguments)}function ms(_,h){return lr.apply(this,arguments)}function lr(){return(lr=(0,f.Z)(function*(_,h,m=!1){const w="signIn",x=yield ei(_,w,h),F=yield Hn._fromIdTokenResponse(_,w,x);return m||(yield _._updateCurrentUser(F.user)),F})).apply(this,arguments)}function On(_,h){return vu.apply(this,arguments)}function vu(){return(vu=(0,f.Z)(function*(_,h){return ms(Kn(_),h)})).apply(this,arguments)}function Zo(_,h){return _u.apply(this,arguments)}function _u(){return(_u=(0,f.Z)(function*(_,h){const m=(0,L.m9)(_);return yield Nn(!1,m,h.providerId),qn(m,h)})).apply(this,arguments)}function Ra(_,h){return ys.apply(this,arguments)}function ys(){return(ys=(0,f.Z)(function*(_,h){return Ko((0,L.m9)(_),h)})).apply(this,arguments)}function Pa(){return(Pa=(0,f.Z)(function*(_,h){return Lt(_,"POST","/v1/accounts:signInWithCustomToken",qe(_,h))})).apply(this,arguments)}function Na(){return Na=(0,f.Z)(function*(_,h){const m=Kn(_),w=yield function sl(_,h){return Pa.apply(this,arguments)}(m,{token:h,returnSecureToken:!0}),x=yield Hn._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(x.user),x}),Na.apply(this,arguments)}class Oa{constructor(h,m){this.factorId=h,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(h,m){return"phoneInfo"in m?wu._fromServerResponse(h,m):se(h,"internal-error")}}class wu extends Oa{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,m){return new wu(m)}}function bu(_,h,m){var w;H((null===(w=m.url)||void 0===w?void 0:w.length)>0,_,"invalid-continue-uri"),H(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),h.continueUrl=m.url,h.dynamicLinkDomain=m.dynamicLinkDomain,h.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(H(m.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),h.iOSBundleId=m.iOS.bundleId),m.android&&(H(m.android.packageName.length>0,_,"missing-android-pkg-name"),h.androidInstallApp=m.android.installApp,h.androidMinimumVersionCode=m.android.minimumVersion,h.androidPackageName=m.android.packageName)}function ul(){return ul=(0,f.Z)(function*(_,h,m){const w=(0,L.m9)(_),x={requestType:"PASSWORD_RESET",email:h};m&&bu(w,x,m),yield function lo(_,h){return Aa.apply(this,arguments)}(w,x)}),ul.apply(this,arguments)}function Eu(){return(Eu=(0,f.Z)(function*(_,h,m){yield yr((0,L.m9)(_),{oobCode:h,newPassword:m})})).apply(this,arguments)}function ho(){return ho=(0,f.Z)(function*(_,h){yield function nl(_,h){return oo.apply(this,arguments)}((0,L.m9)(_),{oobCode:h})}),ho.apply(this,arguments)}function ka(_,h){return cl.apply(this,arguments)}function cl(){return(cl=(0,f.Z)(function*(_,h){const m=(0,L.m9)(_),w=yield yr(m,{oobCode:h}),x=w.requestType;switch(H(x,m,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":H(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":H(w.mfaInfo,m,"internal-error");default:H(w.email,m,"internal-error")}let F=null;return w.mfaInfo&&(F=Oa._fromServerResponse(Kn(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:F},operation:x}})).apply(this,arguments)}function yc(){return(yc=(0,f.Z)(function*(_,h){const{data:m}=yield ka((0,L.m9)(_),h);return m.email})).apply(this,arguments)}function Iu(){return(Iu=(0,f.Z)(function*(_,h,m){const w=Kn(_),x=yield Jr(w,{returnSecureToken:!0,email:h,password:m}),F=yield Hn._fromIdTokenResponse(w,"signIn",x);return yield w._updateCurrentUser(F.user),F})).apply(this,arguments)}function Cu(){return Cu=(0,f.Z)(function*(_,h,m){const w=(0,L.m9)(_),x={requestType:"EMAIL_SIGNIN",email:h};H(m.handleCodeInApp,w,"argument-error"),m&&bu(w,x,m),yield function hc(_,h){return fc.apply(this,arguments)}(w,x)}),Cu.apply(this,arguments)}function Fa(){return(Fa=(0,f.Z)(function*(_,h,m){const w=(0,L.m9)(_),x=Pi.credentialWithLink(h,m||fn());return H(x._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),On(w,x)})).apply(this,arguments)}function Qo(){return(Qo=(0,f.Z)(function*(_,h){return sn(_,"POST","/v1/accounts:createAuthUri",qe(_,h))})).apply(this,arguments)}function fo(){return fo=(0,f.Z)(function*(_,h){const w={identifier:h,continueUri:Qn()?fn():"http://localhost"},{signinMethods:x}=yield function Dd(_,h){return Qo.apply(this,arguments)}((0,L.m9)(_),w);return x||[]}),fo.apply(this,arguments)}function ts(){return ts=(0,f.Z)(function*(_,h){const m=(0,L.m9)(_),x={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};h&&bu(m.auth,x,h);const{email:F}=yield function Ls(_,h){return uo.apply(this,arguments)}(m.auth,x);F!==_.email&&(yield _.reload())}),ts.apply(this,arguments)}function Xo(){return Xo=(0,f.Z)(function*(_,h,m){const w=(0,L.m9)(_),F={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:h};m&&bu(w.auth,F,m);const{email:X}=yield function mu(_,h){return $o.apply(this,arguments)}(w.auth,F);X!==_.email&&(yield _.reload())}),Xo.apply(this,arguments)}function Us(){return(Us=(0,f.Z)(function*(_,h){return sn(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Su(){return Su=(0,f.Z)(function*(_,{displayName:h,photoURL:m}){if(void 0===h&&void 0===m)return;const w=(0,L.m9)(_),F={idToken:yield w.getIdToken(),displayName:h,photoUrl:m,returnSecureToken:!0},X=yield In(w,function po(_,h){return Us.apply(this,arguments)}(w.auth,F));w.displayName=X.displayName||null,w.photoURL=X.photoUrl||null;const pe=w.providerData.find(({providerId:We})=>"password"===We);pe&&(pe.displayName=w.displayName,pe.photoURL=w.photoURL),yield w._updateTokensIfNecessary(X)}),Su.apply(this,arguments)}function pl(_,h,m){return mo.apply(this,arguments)}function mo(){return(mo=(0,f.Z)(function*(_,h,m){const{auth:w}=_,F={idToken:yield _.getIdToken(),returnSecureToken:!0};h&&(F.email=h),m&&(F.password=m);const X=yield In(_,tl(w,F));yield _._updateTokensIfNecessary(X,!0)})).apply(this,arguments)}class La{constructor(h,m,w={}){this.isNewUser=h,this.providerId=m,this.profile=w}}class Sd extends La{constructor(h,m,w,x){super(h,m,w),this.username=x}}class _c extends La{constructor(h,m){super(h,"facebook.com",m)}}class Tu extends Sd{constructor(h,m){super(h,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Td extends La{constructor(h,m){super(h,"google.com",m)}}class Au extends Sd{constructor(h,m,w){super(h,"twitter.com",m,w)}}function gl(_){const{user:h,_tokenResponse:m}=_;return h.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function vc(_){var h,m;if(!_)return null;const{providerId:w}=_,x=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},F=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!w&&_?.idToken){const X=null===(m=null===(h=er(_.idToken))||void 0===h?void 0:h.firebase)||void 0===m?void 0:m.sign_in_provider;if(X)return new La(F,"anonymous"!==X&&"custom"!==X?X:null)}if(!w)return null;switch(w){case"facebook.com":return new _c(F,x);case"github.com":return new Tu(F,x);case"google.com":return new Td(F,x);case"twitter.com":return new Au(F,x,_.screenName||null);case"custom":case"anonymous":return new La(F,null);default:return new La(F,w,x)}}(m)}class vs{constructor(h,m){this.type=h,this.credential=m}static _fromIdtoken(h){return new vs("enroll",h)}static _fromMfaPendingCredential(h){return new vs("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var m,w;if(h?.multiFactorSession){if(null!==(m=h.multiFactorSession)&&void 0!==m&&m.pendingCredential)return vs._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(w=h.multiFactorSession)&&void 0!==w&&w.idToken)return vs._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Va{constructor(h,m,w){this.session=h,this.hints=m,this.signInResolver=w}static _fromError(h,m){const w=Kn(h),x=m.customData._serverResponse,F=(x.mfaInfo||[]).map(pe=>Oa._fromServerResponse(w,pe));H(x.mfaPendingCredential,w,"internal-error");const X=vs._fromMfaPendingCredential(x.mfaPendingCredential);return new Va(X,F,function(){var pe=(0,f.Z)(function*(We){const st=yield We._process(w,X);delete x.mfaInfo,delete x.mfaPendingCredential;const Rt=Object.assign(Object.assign({},x),{idToken:st.idToken,refreshToken:st.refreshToken});switch(m.operationType){case"signIn":const It=yield Hn._fromIdTokenResponse(w,m.operationType,Rt);return yield w._updateCurrentUser(It.user),It;case"reauthenticate":return H(m.user,w,"internal-error"),Hn._forOperation(m.user,m.operationType,Rt);default:se(w,"internal-error")}});return function(We){return pe.apply(this,arguments)}}())}resolveSignIn(h){var m=this;return(0,f.Z)(function*(){return m.signInResolver(h)})()}}class js{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>Oa._fromServerResponse(h.auth,w)))})}static _fromUser(h){return new js(h)}getSession(){var h=this;return(0,f.Z)(function*(){return vs._fromIdtoken(yield h.user.getIdToken())})()}enroll(h,m){var w=this;return(0,f.Z)(function*(){const x=h,F=yield w.getSession(),X=yield In(w.user,x._process(w.user.auth,F,m));return yield w.user._updateTokensIfNecessary(X),w.user.reload()})()}unenroll(h){var m=this;return(0,f.Z)(function*(){var w;const x="string"==typeof h?h:h.uid,F=yield m.user.getIdToken(),X=yield In(m.user,function Jt(_,h){return sn(_,"POST","/v2/accounts/mfaEnrollment:withdraw",qe(_,h))}(m.user.auth,{idToken:F,mfaEnrollmentId:x}));m.enrolledFactors=m.enrolledFactors.filter(({uid:pe})=>pe!==x),yield m.user._updateTokensIfNecessary(X);try{yield m.user.reload()}catch(pe){if("auth/user-token-expired"!==(null===(w=pe)||void 0===w?void 0:w.code))throw pe}})()}}const yo=new WeakMap,nr="__sak";class ml{constructor(h,m){this.storageRetriever=h,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(nr,"1"),this.storage.removeItem(nr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,m){return this.storage.setItem(h,JSON.stringify(m)),Promise.resolve()}_get(h){const m=this.storage.getItem(h);return Promise.resolve(m?JSON.parse(m):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const D=(()=>{class _ extends ml{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function bc(){const _=(0,L.z$)();return io(_)||Xr(_)}()&&function Vo(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Vn(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const x=this.storage.getItem(w),F=this.localCache[w];x!==F&&m(w,F,x)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((pe,We,st)=>{this.notifyListeners(pe,st)});const x=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const pe=this.storage.getItem(x);if(m.newValue!==pe)null!==m.newValue?this.storage.setItem(x,m.newValue):this.storage.removeItem(x);else if(this.localCache[x]===m.newValue&&!w)return}const F=()=>{const pe=this.storage.getItem(x);!w&&this.localCache[x]===pe||this.notifyListeners(x,pe)},X=this.storage.getItem(x);!function Da(){return(0,L.w1)()&&10===document.documentMode}()||X===m.newValue||m.newValue===m.oldValue?F():setTimeout(F,10)}notifyListeners(m,w){this.localCache[m]=w;const x=this.listeners[m];if(x)for(const F of Array.from(x))F(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var x=()=>super._set,F=this;return(0,f.Z)(function*(){yield x().call(F,m,w),F.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,x=this;return(0,f.Z)(function*(){const F=yield w().call(x,m);return x.localCache[m]=JSON.stringify(F),F})()}_remove(m){var w=()=>super._remove,x=this;return(0,f.Z)(function*(){yield w().call(x,m),delete x.localCache[m]})()}}return _.type="LOCAL",_})(),B=(()=>{class _ extends ml{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return _.type="SESSION",_})();let dt=(()=>{class _{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(F=>F.isListeningto(m));if(w)return w;const x=new _(m);return this.receivers.push(x),x}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,f.Z)(function*(){const x=m,{eventId:F,eventType:X,data:pe}=x.data,We=w.handlersMap[X];if(!We?.size)return;x.ports[0].postMessage({status:"ack",eventId:F,eventType:X});const st=Array.from(We).map(function(){var It=(0,f.Z)(function*(hr){return hr(x.origin,pe)});return function(hr){return It.apply(this,arguments)}}()),Rt=yield function Ee(_){return Promise.all(_.map(function(){var h=(0,f.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return h.apply(this,arguments)}}()))}(st);x.ports[0].postMessage({status:"done",eventId:F,eventType:X,response:Rt})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Ge(_="",h=10){let m="";for(let w=0;w<h;w++)m+=Math.floor(10*Math.random());return _+m}class jn{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,m,w=50){var x=this;return(0,f.Z)(function*(){const F=typeof MessageChannel<"u"?new MessageChannel:null;if(!F)throw new Error("connection_unavailable");let X,pe;return new Promise((We,st)=>{const Rt=Ge("",20);F.port1.start();const It=setTimeout(()=>{st(new Error("unsupported_event"))},w);pe={messageChannel:F,onMessage(hr){const Ss=hr;if(Ss.data.eventId===Rt)switch(Ss.data.status){case"ack":clearTimeout(It),X=setTimeout(()=>{st(new Error("timeout"))},3e3);break;case"done":clearTimeout(X),We(Ss.data.response);break;default:clearTimeout(It),clearTimeout(X),st(new Error("invalid_response"))}}},x.handlers.add(pe),F.port1.addEventListener("message",pe.onMessage),x.target.postMessage({eventType:h,eventId:Rt,data:m},[F.port2])}).finally(()=>{pe&&x.removeMessageHandler(pe)})})()}}function Xt(){return window}function vo(){return typeof Xt().WorkerGlobalScope<"u"&&"function"==typeof Xt().importScripts}function Ru(){return(Ru=(0,f.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const yl="firebaseLocalStorageDb",ea="firebaseLocalStorage",xd="fbase_key";class xe{constructor(h){this.request=h}toPromise(){return new Promise((h,m)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function en(_,h){return _.transaction([ea],h?"readwrite":"readonly").objectStore(ea)}function Pu(){const _=indexedDB.open(yl,1);return new Promise((h,m)=>{_.addEventListener("error",()=>{m(_.error)}),_.addEventListener("upgradeneeded",()=>{const w=_.result;try{w.createObjectStore(ea,{keyPath:xd})}catch(x){m(x)}}),_.addEventListener("success",(0,f.Z)(function*(){const w=_.result;w.objectStoreNames.contains(ea)?h(w):(w.close(),yield function vl(){const _=indexedDB.deleteDatabase(yl);return new xe(_).toPromise()}(),h(yield Pu()))}))})}function rr(_,h,m){return _l.apply(this,arguments)}function _l(){return(_l=(0,f.Z)(function*(_,h,m){const w=en(_,!0).put({[xd]:h,value:m});return new xe(w).toPromise()})).apply(this,arguments)}function bi(){return(bi=(0,f.Z)(function*(_,h){const m=en(_,!1).get(h),w=yield new xe(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function wl(_,h){const m=en(_,!0).delete(h);return new xe(m).toPromise()}const na=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,f.Z)(function*(){return m.db||(m.db=yield Pu()),m.db})()}_withRetries(m){var w=this;return(0,f.Z)(function*(){let x=0;for(;;)try{const F=yield w._openDb();return yield m(F)}catch(F){if(x++>3)throw F;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,f.Z)(function*(){return vo()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,f.Z)(function*(){m.receiver=dt._getInstance(function Ic(){return vo()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,f.Z)(function*(x,F){return{keyProcessed:(yield m._poll()).includes(F.key)}});return function(x,F){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,f.Z)(function*(x,F){return["keyChanged"]});return function(x,F){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,f.Z)(function*(){var w,x;if(m.activeServiceWorker=yield function Ec(){return Ru.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new jn(m.activeServiceWorker);const F=yield m.sender._send("ping",{},800);F&&null!==(w=F[0])&&void 0!==w&&w.fulfilled&&null!==(x=F[0])&&void 0!==x&&x.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,f.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function _o(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Pu();return yield rr(m,nr,"1"),yield wl(m,nr),!0}catch{}return!1})()}_withPendingWrite(m){var w=this;return(0,f.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var x=this;return(0,f.Z)(function*(){return x._withPendingWrite((0,f.Z)(function*(){return yield x._withRetries(F=>rr(F,m,w)),x.localCache[m]=w,x.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,f.Z)(function*(){const x=yield w._withRetries(F=>function ta(_,h){return bi.apply(this,arguments)}(F,m));return w.localCache[m]=x,x})()}_remove(m){var w=this;return(0,f.Z)(function*(){return w._withPendingWrite((0,f.Z)(function*(){return yield w._withRetries(x=>wl(x,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,f.Z)(function*(){const w=yield m._withRetries(X=>{const pe=en(X,!1).getAll();return new xe(pe).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const x=[],F=new Set;for(const{fbase_key:X,value:pe}of w)F.add(X),JSON.stringify(m.localCache[X])!==JSON.stringify(pe)&&(m.notifyListeners(X,pe),x.push(X));for(const X of Object.keys(m.localCache))m.localCache[X]&&!F.has(X)&&(m.notifyListeners(X,null),x.push(X));return x})()}notifyListeners(m,w){this.localCache[m]=w;const x=this.listeners[m];if(x)for(const F of Array.from(x))F(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function $s(){return($s=(0,f.Z)(function*(_){return(yield sn(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ua(_){return new Promise((h,m)=>{const w=document.createElement("script");w.setAttribute("src",_),w.onload=h,w.onerror=x=>{const F=ye("internal-error");F.customData=x,m(F)},w.type="text/javascript",w.charset="UTF-8",function rs(){var _,h;return null!==(h=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==h?h:document}().appendChild(w)})}function Ou(_){return`__${_}${Math.floor(1e6*Math.random())}`}const ra=1e12;class Rd{constructor(h){this.auth=h,this.counter=ra,this._widgets=new Map}render(h,m){const w=this.counter;return this._widgets.set(w,new Cc(h,this.auth.name,m||{})),this.counter++,w}reset(h){var m;const w=h||ra;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(h){var m;return(null===(m=this._widgets.get(h||ra))||void 0===m?void 0:m.getResponse())||""}execute(h){var m=this;return(0,f.Z)(function*(){var w;return null===(w=m._widgets.get(h||ra))||void 0===w||w.execute(),""})()}}class Cc{constructor(h,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof h?document.getElementById(h):h;H(x,"argument-error",{appName:m}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function bl(_){const h=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<_;w++)h.push(m.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":m}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const zs=Ou("rcb"),Pd=new ve(3e4,6e4);class Ba{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=Xt().grecaptcha)||void 0===h||!h.render)}load(h,m=""){return H(function Nd(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(m),h,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Xt().grecaptcha):new Promise((w,x)=>{const F=Xt().setTimeout(()=>{x(ye(h,"network-request-failed"))},Pd.get());Xt()[zs]=()=>{Xt().clearTimeout(F),delete Xt()[zs];const pe=Xt().grecaptcha;if(!pe)return void x(ye(h,"internal-error"));const We=pe.render;pe.render=(st,Rt)=>{const It=We(st,Rt);return this.counter++,It},this.hostLanguage=m,w(pe)},Ua(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:zs,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(F),x(ye(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var m;return!(null===(m=Xt().grecaptcha)||void 0===m||!m.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ng{load(h){return(0,f.Z)(function*(){return new Rd(h)})()}clearedOneInstance(){}}const df="recaptcha",hf={theme:"light",type:"image"};class Og{constructor(h,m=Object.assign({},hf),w){this.parameters=m,this.type=df,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Kn(w),this.isInvisible="invisible"===this.parameters.size,H(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof h?document.getElementById(h):h;H(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ng:new Ba,this.validateStartingState()}verify(){var h=this;return(0,f.Z)(function*(){h.assertNotDestroyed();const m=yield h.render(),w=h.getAssertedRecaptcha();return w.getResponse(m)||new Promise(F=>{const X=pe=>{pe&&(h.tokenChangeListeners.delete(X),F(pe))};h.tokenChangeListeners.add(X),h.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){H(!this.parameters.sitekey,this.auth,"argument-error"),H(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),H(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof h)h(m);else if("string"==typeof h){const w=Xt()[h];"function"==typeof w&&w(m)}}}assertNotDestroyed(){H(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,f.Z)(function*(){if(yield h.init(),!h.widgetId){let m=h.container;if(!h.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}h.widgetId=h.getAssertedRecaptcha().render(m,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,f.Z)(function*(){H(Qn()&&!vo(),h.auth,"internal-error"),yield function kg(){let _=null;return new Promise(h=>{"complete"!==document.readyState?(_=()=>h(),window.addEventListener("load",_)):h()}).catch(h=>{throw _&&window.removeEventListener("load",_),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const m=yield function bs(_){return $s.apply(this,arguments)}(h.auth);H(m,h.auth,"internal-error"),h.parameters.sitekey=m})()}getAssertedRecaptcha(){return H(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Hr{constructor(h,m){this.verificationId=h,this.onConfirmation=m}confirm(h){const m=yi._fromVerification(this.verificationId,h);return this.onConfirmation(m)}}function kn(){return(kn=(0,f.Z)(function*(_,h,m){const w=Kn(_),x=yield ku(w,h,(0,L.m9)(m));return new Hr(x,F=>On(w,F))})).apply(this,arguments)}function Od(){return(Od=(0,f.Z)(function*(_,h,m){const w=(0,L.m9)(_);yield Nn(!1,w,"phone");const x=yield ku(w.auth,h,(0,L.m9)(m));return new Hr(x,F=>Zo(w,F))})).apply(this,arguments)}function kd(){return(kd=(0,f.Z)(function*(_,h,m){const w=(0,L.m9)(_),x=yield ku(w.auth,h,(0,L.m9)(m));return new Hr(x,F=>Ra(w,F))})).apply(this,arguments)}function ku(_,h,m){return Fu.apply(this,arguments)}function Fu(){return Fu=(0,f.Z)(function*(_,h,m){var w;const x=yield m.verify();try{let F;if(H("string"==typeof x,_,"argument-error"),H(m.type===df,_,"argument-error"),F="string"==typeof h?{phoneNumber:h}:h,"session"in F){const X=F.session;if("phoneNumber"in F)return H("enroll"===X.type,_,"internal-error"),(yield function Jo(_,h){return sn(_,"POST","/v2/accounts/mfaEnrollment:start",qe(_,h))}(_,{idToken:X.credential,phoneEnrollmentInfo:{phoneNumber:F.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{H("signin"===X.type,_,"internal-error");const pe=(null===(w=F.multiFactorHint)||void 0===w?void 0:w.uid)||F.multiFactorUid;return H(pe,_,"missing-multi-factor-info"),(yield function Sr(_,h){return sn(_,"POST","/v2/accounts/mfaSignIn:start",qe(_,h))}(_,{mfaPendingCredential:X.credential,mfaEnrollmentId:pe,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:X}=yield function il(_,h){return co.apply(this,arguments)}(_,{phoneNumber:F.phoneNumber,recaptchaToken:x});return X}}finally{m._reset()}}),Fu.apply(this,arguments)}function Gs(){return(Gs=(0,f.Z)(function*(_,h){yield qn((0,L.m9)(_),h)})).apply(this,arguments)}let El=(()=>{class _{constructor(m){this.providerId=_.PROVIDER_ID,this.auth=Kn(m)}verifyPhoneNumber(m,w){return ku(this.auth,m,(0,L.m9)(w))}static credential(m,w){return yi._fromVerification(m,w)}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:x}=m;return w&&x?yi._fromTokenResponse(w,x):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Es(_,h){return h?Wt(h):(H(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Lu extends fs{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Rn(h,this._buildIdpRequest())}_linkToIdToken(h,m){return Rn(h,this._buildIdpRequest(m))}_getReauthenticationResolver(h){return Rn(h,this._buildIdpRequest())}_buildIdpRequest(h){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(m.idToken=h),m}}function Sc(_){return ms(_.auth,new Lu(_),_.bypassAuthState)}function Il(_){const{auth:h,user:m}=_;return H(m,h,"internal-error"),Ko(m,new Lu(_),_.bypassAuthState)}function Vu(_){return ja.apply(this,arguments)}function ja(){return(ja=(0,f.Z)(function*(_){const{auth:h,user:m}=_;return H(m,h,"internal-error"),qn(m,new Lu(_),_.bypassAuthState)})).apply(this,arguments)}class Oi{constructor(h,m,w,x,F=!1){this.auth=h,this.resolver=w,this.user=x,this.bypassAuthState=F,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var h=this;return new Promise(function(){var m=(0,f.Z)(function*(w,x){h.pendingPromise={resolve:w,reject:x};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(F){h.reject(F)}});return function(w,x){return m.apply(this,arguments)}}())}onAuthEvent(h){var m=this;return(0,f.Z)(function*(){const{urlResponse:w,sessionId:x,postBody:F,tenantId:X,error:pe,type:We}=h;if(pe)return void m.reject(pe);const st={auth:m.auth,requestUri:w,sessionId:x,tenantId:X||void 0,postBody:F||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(We)(st))}catch(Rt){m.reject(Rt)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Sc;case"linkViaPopup":case"linkViaRedirect":return Vu;case"reauthViaPopup":case"reauthViaRedirect":return Il;default:se(this.auth,"internal-error")}}resolve(h){De(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){De(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sa=new ve(2e3,1e4);function Cl(){return(Cl=(0,f.Z)(function*(_,h,m){const w=Kn(_);me(_,h,bt);const x=Es(w,m);return new Vd(w,"signInViaPopup",h,x).executeNotNull()})).apply(this,arguments)}function Uu(){return(Uu=(0,f.Z)(function*(_,h,m){const w=(0,L.m9)(_);me(w.auth,h,bt);const x=Es(w.auth,m);return new Vd(w.auth,"reauthViaPopup",h,x,w).executeNotNull()})).apply(this,arguments)}function Ld(){return(Ld=(0,f.Z)(function*(_,h,m){const w=(0,L.m9)(_);me(w.auth,h,bt);const x=Es(w.auth,m);return new Vd(w.auth,"linkViaPopup",h,x,w).executeNotNull()})).apply(this,arguments)}let Vd=(()=>{class _ extends Oi{constructor(m,w,x,F,X){super(m,w,F,X),this.provider=x,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var m=this;return(0,f.Z)(function*(){const w=yield m.execute();return H(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,f.Z)(function*(){De(1===m.filter.length,"Popup operations only handle one event");const w=Ge();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(x=>{m.reject(x)}),m.resolver._isIframeWebStorageSupported(m.auth,x=>{x||m.reject(ye(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(ye(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,x;this.pollId=null!==(x=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==x&&x.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ye(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,sa.get())};m()}}return _.currentPopupAction=null,_})();const Dl="pendingRedirect",Sl=new Map;class ff extends Oi{constructor(h,m,w=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var h=()=>super.execute,m=this;return(0,f.Z)(function*(){let w=Sl.get(m.auth._key());if(!w){try{const F=(yield function Tc(_,h){return wo.apply(this,arguments)}(m.resolver,m.auth))?yield h().call(m):null;w=()=>Promise.resolve(F)}catch(x){w=()=>Promise.reject(x)}Sl.set(m.auth._key(),w)}return m.bypassAuthState||Sl.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(h){var m=()=>super.onAuthEvent,w=this;return(0,f.Z)(function*(){if("signInViaRedirect"===h.type)return m().call(w,h);if("unknown"!==h.type){if(h.eventId){const x=yield w.auth._redirectUserForId(h.eventId);if(x)return w.user=x,m().call(w,h);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function wo(){return(wo=(0,f.Z)(function*(_,h){const m=Ac(h),w=Bu(_);if(!(yield w._isAvailable()))return!1;const x="true"===(yield w._get(m));return yield w._remove(m),x})).apply(this,arguments)}function Is(_,h){return ki.apply(this,arguments)}function ki(){return(ki=(0,f.Z)(function*(_,h){return Bu(_)._set(Ac(h),"true")})).apply(this,arguments)}function Ug(_,h){Sl.set(_._key(),h)}function Bu(_){return Wt(_._redirectPersistence)}function Ac(_){return tr(Dl,_.config.apiKey,_.name)}function pf(_,h,m){return function qs(_,h,m){return S.apply(this,arguments)}(_,h,m)}function S(){return(S=(0,f.Z)(function*(_,h,m){const w=Kn(_);me(_,h,bt);const x=Es(w,m);return yield Is(x,w),x._openRedirect(w,h,"signInViaRedirect")})).apply(this,arguments)}function A(_,h,m){return function N(_,h,m){return j.apply(this,arguments)}(_,h,m)}function j(){return(j=(0,f.Z)(function*(_,h,m){const w=(0,L.m9)(_);me(w.auth,h,bt);const x=Es(w.auth,m);yield Is(x,w.auth);const F=yield Ct(w);return x._openRedirect(w.auth,h,"reauthViaRedirect",F)})).apply(this,arguments)}function re(_,h,m){return function ce(_,h,m){return Fe.apply(this,arguments)}(_,h,m)}function Fe(){return(Fe=(0,f.Z)(function*(_,h,m){const w=(0,L.m9)(_);me(w.auth,h,bt);const x=Es(w.auth,m);yield Nn(!1,w,h.providerId),yield Is(x,w.auth);const F=yield Ct(w);return x._openRedirect(w.auth,h,"linkViaRedirect",F)})).apply(this,arguments)}function Et(){return(Et=(0,f.Z)(function*(_,h){return yield Kn(_)._initializationPromise,kt(_,h,!1)})).apply(this,arguments)}function kt(_,h){return zt.apply(this,arguments)}function zt(){return(zt=(0,f.Z)(function*(_,h,m=!1){const w=Kn(_),x=Es(w,h),X=yield new ff(w,x,m).execute();return X&&!m&&(delete X.user._redirectEventId,yield w._persistUserIfCurrent(X.user),yield w._setRedirectUser(null,h)),X})).apply(this,arguments)}function Ct(_){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,f.Z)(function*(_){const h=Ge(`${_.uid}:::`);return _._redirectEventId=h,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),h})).apply(this,arguments)}class ju{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(h,w)&&(m=!0,this.sendToConsumer(h,w),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function za(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bo(_);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=h,m=!0)),m}sendToConsumer(h,m){var w;if(h.error&&!bo(h)){const x=(null===(w=h.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(ye(this.auth,x))}else m.onAuthEvent(h)}isEventForConsumer(h,m){const w=null===m.eventId||!!h.eventId&&h.eventId===m.eventId;return m.filter.includes(h.type)&&w}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(oa(h))}saveEventToCache(h){this.cachedEventUids.add(oa(h)),this.lastProcessedEventTime=Date.now()}}function oa(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(h=>h).join("-")}function bo({type:_,error:h}){return"unknown"===_&&"auth/no-auth-event"===h?.code}function Tl(_){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,f.Z)(function*(_,h={}){return sn(_,"GET","/v1/projects",h)})).apply(this,arguments)}const Ws=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ga=/^https?/;function xc(){return(xc=(0,f.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:h}=yield Tl(_);for(const m of h)try{if(Al(m))return}catch{}se(_,"unauthorized-domain")})).apply(this,arguments)}function Al(_){const h=fn(),{protocol:m,hostname:w}=new URL(h);if(_.startsWith("chrome-extension://")){const X=new URL(_);return""===X.hostname&&""===w?"chrome-extension:"===m&&_.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===m&&X.hostname===w}if(!Ga.test(m))return!1;if(Ws.test(_))return w===_;const x=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(w)}const Ml=new ve(3e4,6e4);function $u(){const _=Xt().___jsl;if(_?.H)for(const h of Object.keys(_.H))if(_.H[h].r=_.H[h].r||[],_.H[h].L=_.H[h].L||[],_.H[h].r=[..._.H[h].L],_.CP)for(let m=0;m<_.CP.length;m++)_.CP[m]=null}let xl=null;const qS=new ve(5e3,15e3),_v="__/auth/iframe",pb="emulator/auth/iframe",Hu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jg(_){const h=_.config;H(h.authDomain,_,"auth-domain-config-required");const m=h.emulator?_e(h,pb):`https://${_.config.authDomain}/${_v}`,w={apiKey:h.apiKey,appName:_.name,v:ae.SDK_VERSION},x=wv.get(_.config.apiHost);x&&(w.eid=x);const F=_._getFrameworks();return F.length&&(w.fw=F.join(",")),`${m}?${(0,L.xO)(w).slice(1)}`}function Ud(){return Ud=(0,f.Z)(function*(_){const h=yield function Rl(_){return xl=xl||function Bg(_){return new Promise((h,m)=>{var w,x,F;function X(){$u(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{$u(),m(ye(_,"network-request-failed"))},timeout:Ml.get()})}if(null!==(x=null===(w=Xt().gapi)||void 0===w?void 0:w.iframes)&&void 0!==x&&x.Iframe)h(gapi.iframes.getContext());else{if(null===(F=Xt().gapi)||void 0===F||!F.load){const pe=Ou("iframefcb");return Xt()[pe]=()=>{gapi.load?X():m(ye(_,"network-request-failed"))},Ua(`https://apis.google.com/js/api.js?onload=${pe}`).catch(We=>m(We))}X()}}).catch(h=>{throw xl=null,h})}(_),xl}(_),m=Xt().gapi;return H(m,_,"internal-error"),h.open({where:document.body,url:jg(_),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hu,dontclear:!0},w=>new Promise(function(){var x=(0,f.Z)(function*(F,X){yield w.restyle({setHideOnLeave:!1});const pe=ye(_,"network-request-failed"),We=Xt().setTimeout(()=>{X(pe)},qS.get());function st(){Xt().clearTimeout(We),F(w)}w.ping(st).then(st,()=>{X(pe)})});return function(F,X){return x.apply(this,arguments)}}()))}),Ud.apply(this,arguments)}const zr={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Cs{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Bd="__/auth/handler",zg="emulator/auth/handler";function zu(_,h,m,w,x,F){H(_.config.authDomain,_,"auth-domain-config-required"),H(_.config.apiKey,_,"invalid-api-key");const X={apiKey:_.config.apiKey,appName:_.name,authType:m,redirectUrl:w,v:ae.SDK_VERSION,eventId:x};if(h instanceof bt){h.setDefaultLanguage(_.languageCode),X.providerId=h.providerId||"",(0,L.xb)(h.getCustomParameters())||(X.customParameters=JSON.stringify(h.getCustomParameters()));for(const[We,st]of Object.entries(F||{}))X[We]=st}if(h instanceof _i){const We=h.getScopes().filter(st=>""!==st);We.length>0&&(X.scopes=We.join(","))}_.tenantId&&(X.tid=_.tenantId);const pe=X;for(const We of Object.keys(pe))void 0===pe[We]&&delete pe[We];return`${function Pl({config:_}){return _.emulator?_e(_,zg):`https://${_.authDomain}/${Bd}`}(_)}?${(0,L.xO)(pe).slice(1)}`}const Gg="webStorageSupport",jd=class Iv{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=B,this._completeRedirectFn=kt,this._overrideRedirectResult=Ug}_openPopup(h,m,w,x){var F=this;return(0,f.Z)(function*(){var X;De(null===(X=F.eventManagers[h._key()])||void 0===X?void 0:X.manager,"_initialize() not called before _openPopup()");const pe=zu(h,m,w,fn(),x);return function Hg(_,h,m,w=500,x=600){const F=Math.max((window.screen.availHeight-x)/2,0).toString(),X=Math.max((window.screen.availWidth-w)/2,0).toString();let pe="";const We=Object.assign(Object.assign({},zr),{width:w.toString(),height:x.toString(),top:F,left:X}),st=(0,L.z$)().toLowerCase();m&&(pe=Ir(st)?"_blank":m),Yi(st)&&(h=h||"http://localhost",We.scrollbars="yes");const Rt=Object.entries(We).reduce((hr,[Ss,Ii])=>`${hr}${Ss}=${Ii},`,"");if(function hs(_=(0,L.z$)()){var h;return Xr(_)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(st)&&"_self"!==pe)return function Ds(_,h){const m=document.createElement("a");m.href=_,m.target=h;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(h||"",pe),new Cs(null);const It=window.open(h||"",pe,Rt);H(It,_,"popup-blocked");try{It.focus()}catch{}return new Cs(It)}(h,pe,Ge())})()}_openRedirect(h,m,w,x){var F=this;return(0,f.Z)(function*(){return yield F._originValidation(h),function _s(_){Xt().location.href=_}(zu(h,m,w,fn(),x)),new Promise(()=>{})})()}_initialize(h){const m=h._key();if(this.eventManagers[m]){const{manager:x,promise:F}=this.eventManagers[m];return x?Promise.resolve(x):(De(F,"If manager is not set, promise should be"),F)}const w=this.initAndGetManager(h);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(h){var m=this;return(0,f.Z)(function*(){const w=yield function $g(_){return Ud.apply(this,arguments)}(h),x=new ju(h);return w.register("authEvent",F=>(H(F?.authEvent,h,"invalid-auth-event"),{status:x.onEvent(F.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[h._key()]={manager:x},m.iframes[h._key()]=w,x})()}_isIframeWebStorageSupported(h,m){this.iframes[h._key()].send(Gg,{type:Gg},x=>{var F;const X=null===(F=x?.[0])||void 0===F?void 0:F[Gg];void 0!==X&&m(!!X),se(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const m=h._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Mc(_){return xc.apply(this,arguments)}(h)),this.originValidationPromises[m]}get _shouldInitProactively(){return Vn()||io()||Xr()}};class mb{constructor(h){this.factorId=h}_process(h,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(h,m.credential,w);case"signin":return this._finalizeSignIn(h,m.credential);default:return Ie("unexpected MultiFactorSessionType")}}}class si extends mb{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new si(h)}_finalizeEnroll(h,m,w){return function Or(_,h){return sn(_,"POST","/v2/accounts/mfaEnrollment:finalize",qe(_,h))}(h,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,m){return function ws(_,h){return sn(_,"POST","/v2/accounts/mfaSignIn:finalize",qe(_,h))}(h,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let gf=(()=>{class _{constructor(){}static assertion(m){return si._fromCredential(m)}}return _.FACTOR_ID="phone",_})();var aa="@firebase/auth";class Rc{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var m=this;return(0,f.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const m=this.auth.onIdTokenChanged(w=>{var x;h((null===(x=w)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,m),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const m=this.internalListeners.get(h);m&&(this.internalListeners.delete(h),m(),this.updateProactiveRefresh())}assertAuthConfigured(){H(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ei(){return window}!function qg(_){(0,ae._registerComponent)(new be.wA("auth",(h,{options:m})=>{const w=h.getProvider("app").getImmediate(),x=h.getProvider("heartbeat"),{apiKey:F,authDomain:X}=w.options;return((pe,We)=>{H(F&&!F.includes(":"),"invalid-api-key",{appName:pe.name}),H(!X?.includes(":"),"argument-error",{appName:pe.name});const st={apiKey:F,authDomain:X,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Os(_)},Rt=new Sa(pe,We,st);return function hn(_,h){const m=h?.persistence||[],w=(Array.isArray(m)?m:[m]).map(Wt);h?.errorMap&&_._updateErrorMap(h.errorMap),_._initializeWithPersistence(w,h?.popupRedirectResolver)}(Rt,m),Rt})(w,x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,m,w)=>{h.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new be.wA("auth-internal",h=>{const m=Kn(h.getProvider("auth").getImmediate());return new Rc(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(aa,"0.20.5",function Hd(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,ae.registerVersion)(aa,"0.20.5","esm2017")}("Browser");function Pc(){return Pc=(0,f.Z)(function*(_,h,m){var w;const{BuildInfo:x}=Ei();De(h.sessionId,"AuthEvent did not contain a session ID");const F=yield function Wa(_){return ua.apply(this,arguments)}(h.sessionId),X={};return Xr()?X.ibi=x.packageName:mr()?X.apn=x.packageName:se(_,"operation-not-supported-in-this-environment"),x.displayName&&(X.appDisplayName=x.displayName),X.sessionId=F,zu(_,m,h.type,void 0,null!==(w=h.eventId)&&void 0!==w?w:void 0,X)}),Pc.apply(this,arguments)}function Gd(){return(Gd=(0,f.Z)(function*(_){const{BuildInfo:h}=Ei(),m={};Xr()?m.iosBundleId=h.packageName:mr()?m.androidPackageName=h.packageName:se(_,"operation-not-supported-in-this-environment"),yield Tl(_,m)})).apply(this,arguments)}function is(){return(is=(0,f.Z)(function*(_,h,m){const{cordova:w}=Ei();let x=()=>{};try{yield new Promise((F,X)=>{let pe=null;function We(){var It;F();const hr=null===(It=w.plugins.browsertab)||void 0===It?void 0:It.close;"function"==typeof hr&&hr(),"function"==typeof m?.close&&m.close()}function st(){pe||(pe=window.setTimeout(()=>{X(ye(_,"redirect-cancelled-by-user"))},2e3))}function Rt(){"visible"===document?.visibilityState&&st()}h.addPassiveListener(We),document.addEventListener("resume",st,!1),mr()&&document.addEventListener("visibilitychange",Rt,!1),x=()=>{h.removePassiveListener(We),document.removeEventListener("resume",st,!1),document.removeEventListener("visibilitychange",Rt,!1),pe&&window.clearTimeout(pe)}})}finally{x()}})).apply(this,arguments)}function ua(){return(ua=(0,f.Z)(function*(_){const h=function Wd(_){if(De(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const h=new ArrayBuffer(_.length),m=new Uint8Array(h);for(let w=0;w<_.length;w++)m[w]=_.charCodeAt(w);return m}(_),m=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(m)).map(x=>x.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Zg extends ju{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(h)),super.onEvent(h)}initialized(){var h=this;return(0,f.Z)(function*(){yield h.initPromise})()}}function Nl(_){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,f.Z)(function*(_){const h=yield yf()._get(Fi(_));return h&&(yield yf()._remove(Fi(_))),h})).apply(this,arguments)}function Yg(){const _=[];for(let m=0;m<20;m++){const w=Math.floor(62*Math.random());_.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(w))}return _.join("")}function yf(){return Wt(D)}function Fi(_){return tr("authEvent",_.config.apiKey,_.name)}function vf(_){if(!_?.includes("?"))return{};const[h,...m]=_.split("?");return(0,L.zd)(m.join("?"))}const vb=class Cv{constructor(){this._redirectPersistence=B,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=kt,this._overrideRedirectResult=Ug}_initialize(h){var m=this;return(0,f.Z)(function*(){const w=h._key();let x=m.eventManagers.get(w);return x||(x=new Zg(h),m.eventManagers.set(w,x),m.attachCallbackListeners(h,x)),x})()}_openPopup(h){se(h,"operation-not-supported-in-this-environment")}_openRedirect(h,m,w,x){var F=this;return(0,f.Z)(function*(){!function Io(_){var h,m,w,x,F,X,pe,We,st,Rt;const It=Ei();H("function"==typeof(null===(h=It?.universalLinks)||void 0===h?void 0:h.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),H(typeof(null===(m=It?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),H("function"==typeof(null===(F=null===(x=null===(w=It?.cordova)||void 0===w?void 0:w.plugins)||void 0===x?void 0:x.browsertab)||void 0===F?void 0:F.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),H("function"==typeof(null===(We=null===(pe=null===(X=It?.cordova)||void 0===X?void 0:X.plugins)||void 0===pe?void 0:pe.browsertab)||void 0===We?void 0:We.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),H("function"==typeof(null===(Rt=null===(st=It?.cordova)||void 0===st?void 0:st.InAppBrowser)||void 0===Rt?void 0:Rt.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const X=yield F._initialize(h);yield X.initialized(),X.resetRedirect(),function Ha(){Sl.clear()}(),yield F._originValidation(h);const pe=function Nc(_,h,m=null){return{type:h,eventId:m,urlResponse:null,sessionId:Yg(),postBody:null,tenantId:_.tenantId,error:ye(_,"no-auth-event")}}(h,w,x);yield function la(_,h){return yf()._set(Fi(_),h)}(h,pe);const We=yield function zd(_,h,m){return Pc.apply(this,arguments)}(h,pe,m),st=yield function qd(_){const{cordova:h}=Ei();return new Promise(m=>{h.plugins.browsertab.isAvailable(w=>{let x=null;w?h.plugins.browsertab.openUrl(_):x=h.InAppBrowser.open(_,function so(_=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),m(x)})})}(We);return function Kg(_,h,m){return is.apply(this,arguments)}(h,X,st)})()}_isIframeWebStorageSupported(h,m){throw new Error("Method not implemented.")}_originValidation(h){const m=h._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function qa(_){return Gd.apply(this,arguments)}(h)),this.originValidationPromises[m]}attachCallbackListeners(h,m){const{universalLinks:w,handleOpenURL:x,BuildInfo:F}=Ei(),X=setTimeout((0,f.Z)(function*(){yield Nl(h),m.onEvent(Xg())}),500),pe=function(){var Rt=(0,f.Z)(function*(It){clearTimeout(X);const hr=yield Nl(h);let Ss=null;hr&&It?.url&&(Ss=function WS(_,h){var m,w;const x=function yb(_){const h=vf(_),m=h.link?decodeURIComponent(h.link):void 0,w=vf(m).link,x=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return vf(x).link||x||w||m||_}(h);if(x.includes("/__/auth/callback")){const F=vf(x),X=F.firebaseError?function Qg(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(F.firebaseError)):null,pe=null===(w=null===(m=X?.code)||void 0===m?void 0:m.split("auth/"))||void 0===w?void 0:w[1],We=pe?ye(pe):null;return We?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:We,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:x,postBody:null}}return null}(hr,It.url)),m.onEvent(Ss||Xg())});return function(hr){return Rt.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,pe);const We=x,st=`${F.packageName.toLowerCase()}://`;Ei().handleOpenURL=function(){var Rt=(0,f.Z)(function*(It){if(It.toLowerCase().startsWith(st)&&pe({url:It}),"function"==typeof We)try{We(It)}catch(hr){console.error(hr)}});return function(It){return Rt.apply(this,arguments)}}()}};function Xg(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ye("no-auth-event")}}function Ka(){var _;return(null===(_=self?.location)||void 0===_?void 0:_.protocol)||null}function em(_=(0,L.z$)()){return!("file:"!==Ka()&&"ionic:"!==Ka()&&"capacitor:"!==Ka()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function Av(){try{const _=self.localStorage,h=Ge();if(_)return _.setItem(h,"1"),_.removeItem(h),!function Tv(_=(0,L.z$)()){return function bf(){return(0,L.w1)()&&11===document?.documentMode}()||function tm(_=(0,L.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,L.hl)()}catch{return nm()&&(0,L.hl)()}return!1}function nm(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function rm(){return(function Ol(){return"http:"===Ka()||"https:"===Ka()}()||(0,L.ru)()||em())&&!function Sv(){return(0,L.b$)()||(0,L.UG)()}()&&Av()&&!nm()}function im(){return em()&&typeof document<"u"}function kl(){return(kl=(0,f.Z)(function*(){return!!im()&&new Promise(_=>{const h=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),_(!0)})})})).apply(this,arguments)}const oi={LOCAL:"local",NONE:"none",SESSION:"session"},Ya=H,Co="persistence";function Yd(_){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,f.Z)(function*(_){yield _._initializationPromise;const h=Ks(),m=tr(Co,_.config.apiKey,_.name);h&&h.setItem(m,_._getPersistence())})).apply(this,arguments)}function Ks(){var _;try{return(null===(_=function Za(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const Ef=H;class Qa{constructor(){this.browserResolver=Wt(jd),this.cordovaResolver=Wt(vb),this.underlyingResolver=null,this._redirectPersistence=B,this._completeRedirectFn=kt,this._overrideRedirectResult=Ug}_initialize(h){var m=this;return(0,f.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,m,w,x){var F=this;return(0,f.Z)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._openPopup(h,m,w,x)})()}_openRedirect(h,m,w,x){var F=this;return(0,f.Z)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._openRedirect(h,m,w,x)})()}_isIframeWebStorageSupported(h,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,m)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return im()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ef(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,f.Z)(function*(){if(h.underlyingResolver)return;const m=yield function Zd(){return kl.apply(this,arguments)}();h.underlyingResolver=m?h.cordovaResolver:h.browserResolver})()}}function kc(_){return _.unwrap()}function Ll(_){return If(_)}function If(_){const{_tokenResponse:h}=_ instanceof L.ZR?_.customData:_;if(!h)return null;if(!(_ instanceof L.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return El.credentialFromResult(_);const m=h.providerId;if(!m||m===he.PASSWORD)return null;let w;switch(m){case he.GOOGLE:w=An;break;case he.FACEBOOK:w=Dr;break;case he.GITHUB:w=Ho;break;case he.TWITTER:w=Ji;break;default:const{oauthIdToken:x,oauthAccessToken:F,oauthTokenSecret:X,pendingToken:pe,nonce:We}=h;return F||X||x||pe?pe?m.startsWith("saml.")?Nr._create(m,pe):mi._fromParams({providerId:m,signInMethod:m,pendingToken:pe,idToken:x,accessToken:F}):new gs(m).credential({idToken:x,accessToken:F,rawNonce:We}):null}return _ instanceof L.ZR?w.credentialFromError(_):w.credentialFromResult(_)}function Li(_,h){return h.catch(m=>{throw m instanceof L.ZR&&function Mv(_,h){var m,w;const x=null===(m=h.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null===(w=h)||void 0===w?void 0:w.code))h.resolver=new wb(_,function Ht(_,h){var m;const w=(0,L.m9)(_),x=h;return H(h.customData.operationType,w,"argument-error"),H(null===(m=x.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),Va._fromError(w,x)}(_,h));else if(x){const F=If(h),X=h;F&&(X.credential=F,X.tenantId=x.tenantId||void 0,X.email=x.email||void 0,X.phoneNumber=x.phoneNumber||void 0)}}(_,m),m}).then(m=>{const x=m.user;return{operationType:m.operationType,credential:Ll(m),additionalUserInfo:gl(m),user:ir.getOrCreate(x)}})}function Cf(_,h){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,f.Z)(function*(_,h){const m=yield h;return{verificationId:m.verificationId,confirm:w=>Li(_,m.confirm(w))}})).apply(this,arguments)}class wb{constructor(h,m){this.resolver=m,this.auth=function Xd(_){return _.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return Li(kc(this.auth),this.resolver.resolveSignIn(h))}}class ir{constructor(h){this._delegate=h,this.multiFactor=function ns(_){const h=(0,L.m9)(_);return yo.has(h)||yo.set(h,js._fromUser(h)),yo.get(h)}(h)}static getOrCreate(h){return ir.USER_MAP.has(h)||ir.USER_MAP.set(h,new ir(h)),ir.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var m=this;return(0,f.Z)(function*(){return Li(m.auth,Zo(m._delegate,h))})()}linkWithPhoneNumber(h,m){var w=this;return(0,f.Z)(function*(){return Cf(w.auth,function Fg(_,h,m){return Od.apply(this,arguments)}(w._delegate,h,m))})()}linkWithPopup(h){var m=this;return(0,f.Z)(function*(){return Li(m.auth,function fb(_,h,m){return Ld.apply(this,arguments)}(m._delegate,h,Qa))})()}linkWithRedirect(h){var m=this;return(0,f.Z)(function*(){return yield Yd(Kn(m.auth)),re(m._delegate,h,Qa)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var m=this;return(0,f.Z)(function*(){return Li(m.auth,Ra(m._delegate,h))})()}reauthenticateWithPhoneNumber(h,m){return Cf(this.auth,function Lg(_,h,m){return kd.apply(this,arguments)}(this._delegate,h,m))}reauthenticateWithPopup(h){return Li(this.auth,function Vg(_,h,m){return Uu.apply(this,arguments)}(this._delegate,h,Qa))}reauthenticateWithRedirect(h){var m=this;return(0,f.Z)(function*(){return yield Yd(Kn(m.auth)),A(m._delegate,h,Qa)})()}sendEmailVerification(h){return function Bn(_,h){return ts.apply(this,arguments)}(this._delegate,h)}unlink(h){var m=this;return(0,f.Z)(function*(){return yield function Ni(_,h){return es.apply(this,arguments)}(m._delegate,h),m})()}updateEmail(h){return function fl(_,h){return pl((0,L.m9)(_),h,null)}(this._delegate,h)}updatePassword(h){return function go(_,h){return pl((0,L.m9)(_),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function Fd(_,h){return Gs.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function Du(_,h){return Su.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,m){return function hl(_,h,m){return Xo.apply(this,arguments)}(this._delegate,h,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ir.USER_MAP=new WeakMap;const Gu=H;let Jd=(()=>{class _{constructor(m,w){if(this.app=m,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:x}=m.options;Gu(x,"invalid-api-key",{appName:m.name}),Gu(x,"invalid-api-key",{appName:m.name});const F=typeof window<"u"?Qa:void 0;this._delegate=w.initialize({options:{persistence:Gr(x,m.name),popupRedirectResolver:F}}),this._delegate._updateErrorMap(Ke),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ir.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,w){!function ks(_,h,m){const w=Kn(_);H(w._canInitEmulator,w,"emulator-config-failed"),H(/^https?:\/\//.test(h),w,"invalid-emulator-scheme");const x=!!m?.disableWarnings,F=Fs(h),{host:X,port:pe}=function pu(_){const h=Fs(_),m=/(\/\/)?([^?#/]+)/.exec(_.substr(h.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(w);if(x){const F=x[1];return{host:F,port:el(w.substr(F.length+1))}}{const[F,X]=w.split(":");return{host:F,port:el(X)}}}(h);w.config.emulator={url:`${F}//${X}${null===pe?"":`:${pe}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:X,port:pe,protocol:F.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function gu(){function _(){const h=document.createElement("p"),m=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,m,w)}applyActionCode(m){return function ll(_,h){return ho.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return ka(this._delegate,m)}confirmPasswordReset(m,w){return function mc(_,h,m){return Eu.apply(this,arguments)}(this._delegate,m,w)}createUserWithEmailAndPassword(m,w){var x=this;return(0,f.Z)(function*(){return Li(x._delegate,function Vs(_,h,m){return Iu.apply(this,arguments)}(x._delegate,m,w))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function ri(_,h){return fo.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function dl(_,h){const m=wn.parseLink(h);return"EMAIL_SIGNIN"===m?.operation}(0,m)}getRedirectResult(){var m=this;return(0,f.Z)(function*(){Gu(rm(),m._delegate,"operation-not-supported-in-this-environment");const w=yield function et(_,h){return Et.apply(this,arguments)}(m._delegate,Qa);return w?Li(m._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function wf(_,h){Kn(_)._logFramework(h)}(this._delegate,m)}onAuthStateChanged(m,w,x){const{next:F,error:X,complete:pe}=Vl(m,w,x);return this._delegate.onAuthStateChanged(F,X,pe)}onIdTokenChanged(m,w,x){const{next:F,error:X,complete:pe}=Vl(m,w,x);return this._delegate.onIdTokenChanged(F,X,pe)}sendSignInLinkToEmail(m,w){return function Yo(_,h,m){return Cu.apply(this,arguments)}(this._delegate,m,w)}sendPasswordResetEmail(m,w){return function al(_,h,m){return ul.apply(this,arguments)}(this._delegate,m,w||void 0)}setPersistence(m){var w=this;return(0,f.Z)(function*(){let x;switch(function sm(_,h){Ya(Object.values(oi).includes(h),_,"invalid-persistence-type"),(0,L.b$)()?Ya(h!==oi.SESSION,_,"unsupported-persistence-type"):(0,L.UG)()?Ya(h===oi.NONE,_,"unsupported-persistence-type"):nm()?Ya(h===oi.NONE||h===oi.LOCAL&&(0,L.hl)(),_,"unsupported-persistence-type"):Ya(h===oi.NONE||Av(),_,"unsupported-persistence-type")}(w._delegate,m),m){case oi.SESSION:x=B;break;case oi.LOCAL:x=(yield Wt(na)._isAvailable())?na:D;break;case oi.NONE:x=dn;break;default:return se("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(x)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Li(this._delegate,function gc(_){return xa.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Li(this._delegate,On(this._delegate,m))}signInWithCustomToken(m){return Li(this._delegate,function ol(_,h){return Na.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,w){return Li(this._delegate,function rf(_,h,m){return On((0,L.m9)(_),Pi.credential(h,m))}(this._delegate,m,w))}signInWithEmailLink(m,w){return Li(this._delegate,function Cd(_,h,m){return Fa.apply(this,arguments)}(this._delegate,m,w))}signInWithPhoneNumber(m,w){return Cf(this._delegate,function ia(_,h,m){return kn.apply(this,arguments)}(this._delegate,m,w))}signInWithPopup(m){var w=this;return(0,f.Z)(function*(){return Gu(rm(),w._delegate,"operation-not-supported-in-this-environment"),Li(w._delegate,function $a(_,h,m){return Cl.apply(this,arguments)}(w._delegate,m,Qa))})()}signInWithRedirect(m){var w=this;return(0,f.Z)(function*(){return Gu(rm(),w._delegate,"operation-not-supported-in-this-environment"),yield Yd(w._delegate),pf(w._delegate,m,Qa)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Mn(_,h){return yc.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=oi,_})();function Vl(_,h,m){let w=_;"function"!=typeof _&&({next:w,error:h,complete:m}=_);const x=w;return{next:X=>x(X&&ir.getOrCreate(X)),error:h,complete:m}}function Gr(_,h){const m=function Qd(_,h){const m=Ks();if(!m)return[];const w=tr(Co,_,h);switch(m.getItem(w)){case oi.NONE:return[dn];case oi.LOCAL:return[na,B];case oi.SESSION:return[B];default:return[]}}(_,h);if(typeof self<"u"&&!m.includes(na)&&m.push(na),typeof window<"u")for(const w of[D,B])m.includes(w)||m.push(w);return m.includes(dn)||m.push(dn),m}class Ul{constructor(){this.providerId="phone",this._delegate=new El(kc(ne.Z.auth()))}static credential(h,m){return El.credential(h,m)}verifyPhoneNumber(h,m){return this._delegate.verifyPhoneNumber(h,m)}unwrap(){return this._delegate}}Ul.PHONE_SIGN_IN_METHOD=El.PHONE_SIGN_IN_METHOD,Ul.PROVIDER_ID=El.PROVIDER_ID;const om=H;class am{constructor(h,m,w=ne.Z.app()){var x;om(null===(x=w.options)||void 0===x?void 0:x.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Og(h,m,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function um(_){_.INTERNAL.registerComponent(new be.wA("auth-compat",h=>{const m=h.getProvider("app-compat").getImmediate(),w=h.getProvider("auth");return new Jd(m,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Pi,FacebookAuthProvider:Dr,GithubAuthProvider:Ho,GoogleAuthProvider:An,OAuthProvider:gs,SAMLAuthProvider:$r,PhoneAuthProvider:Ul,PhoneMultiFactorGenerator:gf,RecaptchaVerifier:am,TwitterAuthProvider:Ji,Auth:Jd,AuthCredential:fs,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.18")}(ne.Z)},5619:(ht,Te,k)=>{"use strict";k.d(Te,{X:()=>ne});var f=k(8645);class ne extends f.x{constructor(ae){super(),this._value=ae}get value(){return this.getValue()}_subscribe(ae){const ue=super._subscribe(ae);return!ue.closed&&ae.next(this._value),ue}getValue(){const{hasError:ae,thrownError:ue,_value:U}=this;if(ae)throw ue;return this._throwIfClosed(),U}next(ae){super.next(this._value=ae)}}},5592:(ht,Te,k)=>{"use strict";k.d(Te,{y:()=>Ae});var f=k(1887),ne=k(7394),L=k(4850),ae=k(8407),ue=k(2653),U=k(4674),be=k(1441);let Ae=(()=>{class ie{constructor(Pe){Pe&&(this._subscribe=Pe)}lift(Pe){const Ke=new ie;return Ke.source=this,Ke.operator=Pe,Ke}subscribe(Pe,Ke,Oe){const Ze=function G(ie){return ie&&ie instanceof f.Lv||function q(ie){return ie&&(0,U.m)(ie.next)&&(0,U.m)(ie.error)&&(0,U.m)(ie.complete)}(ie)&&(0,ne.Nn)(ie)}(Pe)?Pe:new f.Hp(Pe,Ke,Oe);return(0,be.x)(()=>{const{operator:Ne,source:ot}=this;Ze.add(Ne?Ne.call(Ze,ot):ot?this._subscribe(Ze):this._trySubscribe(Ze))}),Ze}_trySubscribe(Pe){try{return this._subscribe(Pe)}catch(Ke){Pe.error(Ke)}}forEach(Pe,Ke){return new(Ke=he(Ke))((Oe,Ze)=>{const Ne=new f.Hp({next:ot=>{try{Pe(ot)}catch(Xe){Ze(Xe),Ne.unsubscribe()}},error:Ze,complete:Oe});this.subscribe(Ne)})}_subscribe(Pe){var Ke;return null===(Ke=this.source)||void 0===Ke?void 0:Ke.subscribe(Pe)}[L.L](){return this}pipe(...Pe){return(0,ae.U)(Pe)(this)}toPromise(Pe){return new(Pe=he(Pe))((Ke,Oe)=>{let Ze;this.subscribe(Ne=>Ze=Ne,Ne=>Oe(Ne),()=>Ke(Ze))})}}return ie.create=Be=>new ie(Be),ie})();function he(ie){var Be;return null!==(Be=ie??ue.config.Promise)&&void 0!==Be?Be:Promise}},8645:(ht,Te,k)=>{"use strict";k.d(Te,{x:()=>be});var f=k(5592),ne=k(7394);const ae=(0,k(2306).d)(he=>function(){he(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=k(9039),U=k(1441);let be=(()=>{class he extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const ie=new Ae(this,this);return ie.operator=G,ie}_throwIfClosed(){if(this.closed)throw new ae}next(G){(0,U.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ie of this.currentObservers)ie.next(G)}})}error(G){(0,U.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:ie}=this;for(;ie.length;)ie.shift().error(G)}})}complete(){(0,U.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:ie,isStopped:Be,observers:Pe}=this;return ie||Be?ne.Lc:(this.currentObservers=null,Pe.push(G),new ne.w0(()=>{this.currentObservers=null,(0,ue.P)(Pe,G)}))}_checkFinalizedStatuses(G){const{hasError:ie,thrownError:Be,isStopped:Pe}=this;ie?G.error(Be):Pe&&G.complete()}asObservable(){const G=new f.y;return G.source=this,G}}return he.create=(q,G)=>new Ae(q,G),he})();class Ae extends be{constructor(q,G){super(),this.destination=q,this.source=G}next(q){var G,ie;null===(ie=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===ie||ie.call(G,q)}error(q){var G,ie;null===(ie=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===ie||ie.call(G,q)}complete(){var q,G;null===(G=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===G||G.call(q)}_subscribe(q){var G,ie;return null!==(ie=null===(G=this.source)||void 0===G?void 0:G.subscribe(q))&&void 0!==ie?ie:ne.Lc}}},1887:(ht,Te,k)=>{"use strict";k.d(Te,{Hp:()=>Oe,Lv:()=>ie});var f=k(4674),ne=k(7394),L=k(2653),ae=k(3894);function ue(){}const U=he("C",void 0,void 0);function he(se,ye,te){return{kind:se,value:ye,error:te}}var q=k(7599),G=k(1441);class ie extends ne.w0{constructor(ye){super(),this.isStopped=!1,ye?(this.destination=ye,(0,ne.Nn)(ye)&&ye.add(this)):this.destination=Xe}static create(ye,te,me){return new Oe(ye,te,me)}next(ye){this.isStopped?ot(function Ae(se){return he("N",se,void 0)}(ye),this):this._next(ye)}error(ye){this.isStopped?ot(function be(se){return he("E",void 0,se)}(ye),this):(this.isStopped=!0,this._error(ye))}complete(){this.isStopped?ot(U,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ye){this.destination.next(ye)}_error(ye){try{this.destination.error(ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Be=Function.prototype.bind;function Pe(se,ye){return Be.call(se,ye)}class Ke{constructor(ye){this.partialObserver=ye}next(ye){const{partialObserver:te}=this;if(te.next)try{te.next(ye)}catch(me){Ze(me)}}error(ye){const{partialObserver:te}=this;if(te.error)try{te.error(ye)}catch(me){Ze(me)}else Ze(ye)}complete(){const{partialObserver:ye}=this;if(ye.complete)try{ye.complete()}catch(te){Ze(te)}}}class Oe extends ie{constructor(ye,te,me){let Le;if(super(),(0,f.m)(ye)||!ye)Le={next:ye??void 0,error:te??void 0,complete:me??void 0};else{let H;this&&L.config.useDeprecatedNextContext?(H=Object.create(ye),H.unsubscribe=()=>this.unsubscribe(),Le={next:ye.next&&Pe(ye.next,H),error:ye.error&&Pe(ye.error,H),complete:ye.complete&&Pe(ye.complete,H)}):Le=ye}this.destination=new Ke(Le)}}function Ze(se){L.config.useDeprecatedSynchronousErrorHandling?(0,G.O)(se):(0,ae.h)(se)}function ot(se,ye){const{onStoppedNotification:te}=L.config;te&&q.z.setTimeout(()=>te(se,ye))}const Xe={closed:!0,next:ue,error:function Ne(se){throw se},complete:ue}},7394:(ht,Te,k)=>{"use strict";k.d(Te,{Lc:()=>U,w0:()=>ue,Nn:()=>be});var f=k(4674);const L=(0,k(2306).d)(he=>function(G){he(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((ie,Be)=>`${Be+1}) ${ie.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var ae=k(9039);class ue{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Pe of G)Pe.remove(this);else G.remove(this);const{initialTeardown:ie}=this;if((0,f.m)(ie))try{ie()}catch(Pe){q=Pe instanceof L?Pe.errors:[Pe]}const{_finalizers:Be}=this;if(Be){this._finalizers=null;for(const Pe of Be)try{Ae(Pe)}catch(Ke){q=q??[],Ke instanceof L?q=[...q,...Ke.errors]:q.push(Ke)}}if(q)throw new L(q)}}add(q){var G;if(q&&q!==this)if(this.closed)Ae(q);else{if(q instanceof ue){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(q)}}_hasParent(q){const{_parentage:G}=this;return G===q||Array.isArray(G)&&G.includes(q)}_addParent(q){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(q),G):G?[G,q]:q}_removeParent(q){const{_parentage:G}=this;G===q?this._parentage=null:Array.isArray(G)&&(0,ae.P)(G,q)}remove(q){const{_finalizers:G}=this;G&&(0,ae.P)(G,q),q instanceof ue&&q._removeParent(this)}}ue.EMPTY=(()=>{const he=new ue;return he.closed=!0,he})();const U=ue.EMPTY;function be(he){return he instanceof ue||he&&"closed"in he&&(0,f.m)(he.remove)&&(0,f.m)(he.add)&&(0,f.m)(he.unsubscribe)}function Ae(he){(0,f.m)(he)?he():he.unsubscribe()}},2653:(ht,Te,k)=>{"use strict";k.d(Te,{config:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(ht,Te,k)=>{"use strict";k.d(Te,{E:()=>ne});const ne=new(k(5592).y)(ue=>ue.complete())},2459:(ht,Te,k)=>{"use strict";k.d(Te,{D:()=>ye});var f=k(4829),ne=k(3093),L=k(5137),U=k(5592),Ae=k(4971),he=k(4674),q=k(7103);function ie(te,me){if(!te)throw new Error("Iterable cannot be null");return new U.y(Le=>{(0,q.f)(Le,me,()=>{const H=te[Symbol.asyncIterator]();(0,q.f)(Le,me,()=>{H.next().then(Ie=>{Ie.done?Le.complete():Le.next(Ie.value)})},0,!0)})})}var Be=k(8382),Pe=k(4026),Ke=k(4266),Oe=k(3664),Ze=k(5726),Ne=k(9853),ot=k(541);function ye(te,me){return me?function se(te,me){if(null!=te){if((0,Be.c)(te))return function ae(te,me){return(0,f.Xf)(te).pipe((0,L.R)(me),(0,ne.Q)(me))}(te,me);if((0,Ke.z)(te))return function be(te,me){return new U.y(Le=>{let H=0;return me.schedule(function(){H===te.length?Le.complete():(Le.next(te[H++]),Le.closed||this.schedule())})})}(te,me);if((0,Pe.t)(te))return function ue(te,me){return(0,f.Xf)(te).pipe((0,L.R)(me),(0,ne.Q)(me))}(te,me);if((0,Ze.D)(te))return ie(te,me);if((0,Oe.T)(te))return function G(te,me){return new U.y(Le=>{let H;return(0,q.f)(Le,me,()=>{H=te[Ae.h](),(0,q.f)(Le,me,()=>{let Ie,De;try{({value:Ie,done:De}=H.next())}catch(Pt){return void Le.error(Pt)}De?Le.complete():Le.next(Ie)},0,!0)}),()=>(0,he.m)(H?.return)&&H.return()})}(te,me);if((0,ot.L)(te))return function Xe(te,me){return ie((0,ot.Q)(te),me)}(te,me)}throw(0,Ne.z)(te)}(te,me):(0,f.Xf)(te)}},4829:(ht,Te,k)=>{"use strict";k.d(Te,{Xf:()=>Be});var f=k(7582),ne=k(4266),L=k(4026),ae=k(5592),ue=k(8382),U=k(5726),be=k(9853),Ae=k(3664),he=k(541),q=k(4674),G=k(3894),ie=k(4850);function Be(se){if(se instanceof ae.y)return se;if(null!=se){if((0,ue.c)(se))return function Pe(se){return new ae.y(ye=>{const te=se[ie.L]();if((0,q.m)(te.subscribe))return te.subscribe(ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(se);if((0,ne.z)(se))return function Ke(se){return new ae.y(ye=>{for(let te=0;te<se.length&&!ye.closed;te++)ye.next(se[te]);ye.complete()})}(se);if((0,L.t)(se))return function Oe(se){return new ae.y(ye=>{se.then(te=>{ye.closed||(ye.next(te),ye.complete())},te=>ye.error(te)).then(null,G.h)})}(se);if((0,U.D)(se))return Ne(se);if((0,Ae.T)(se))return function Ze(se){return new ae.y(ye=>{for(const te of se)if(ye.next(te),ye.closed)return;ye.complete()})}(se);if((0,he.L)(se))return function ot(se){return Ne((0,he.Q)(se))}(se)}throw(0,be.z)(se)}function Ne(se){return new ae.y(ye=>{(function Xe(se,ye){var te,me,Le,H;return(0,f.mG)(this,void 0,void 0,function*(){try{for(te=(0,f.KL)(se);!(me=yield te.next()).done;)if(ye.next(me.value),ye.closed)return}catch(Ie){Le={error:Ie}}finally{try{me&&!me.done&&(H=te.return)&&(yield H.call(te))}finally{if(Le)throw Le.error}}ye.complete()})})(se,ye).catch(te=>ye.error(te))})}},3019:(ht,Te,k)=>{"use strict";k.d(Te,{T:()=>U});var f=k(7537),ne=k(4829),L=k(6232),ae=k(4564),ue=k(2459);function U(...be){const Ae=(0,ae.yG)(be),he=(0,ae._6)(be,1/0),q=be;return q.length?1===q.length?(0,ne.Xf)(q[0]):(0,f.J)(he)((0,ue.D)(q,Ae)):L.E}},2096:(ht,Te,k)=>{"use strict";k.d(Te,{of:()=>L});var f=k(4564),ne=k(2459);function L(...ae){const ue=(0,f.yG)(ae);return(0,ne.D)(ae,ue)}},8251:(ht,Te,k)=>{"use strict";k.d(Te,{x:()=>ne});var f=k(1887);function ne(ae,ue,U,be,Ae){return new L(ae,ue,U,be,Ae)}class L extends f.Lv{constructor(ue,U,be,Ae,he,q){super(ue),this.onFinalize=he,this.shouldUnsubscribe=q,this._next=U?function(G){try{U(G)}catch(ie){ue.error(ie)}}:super._next,this._error=Ae?function(G){try{Ae(G)}catch(ie){ue.error(ie)}finally{this.unsubscribe()}}:super._error,this._complete=be?function(){try{be()}catch(G){ue.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ue;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:U}=this;super.unsubscribe(),!U&&(null===(ue=this.onFinalize)||void 0===ue||ue.call(this))}}}},3997:(ht,Te,k)=>{"use strict";k.d(Te,{x:()=>ae});var f=k(2737),ne=k(9360),L=k(8251);function ae(U,be=f.y){return U=U??ue,(0,ne.e)((Ae,he)=>{let q,G=!0;Ae.subscribe((0,L.x)(he,ie=>{const Be=be(ie);(G||!U(q,Be))&&(G=!1,q=Be,he.next(ie))}))})}function ue(U,be){return U===be}},7398:(ht,Te,k)=>{"use strict";k.d(Te,{U:()=>L});var f=k(9360),ne=k(8251);function L(ae,ue){return(0,f.e)((U,be)=>{let Ae=0;U.subscribe((0,ne.x)(be,he=>{be.next(ae.call(ue,he,Ae++))}))})}},7537:(ht,Te,k)=>{"use strict";k.d(Te,{J:()=>L});var f=k(1631),ne=k(2737);function L(ae=1/0){return(0,f.z)(ne.y,ae)}},1631:(ht,Te,k)=>{"use strict";k.d(Te,{z:()=>Ae});var f=k(7398),ne=k(4829),L=k(9360),ae=k(7103),ue=k(8251),be=k(4674);function Ae(he,q,G=1/0){return(0,be.m)(q)?Ae((ie,Be)=>(0,f.U)((Pe,Ke)=>q(ie,Pe,Be,Ke))((0,ne.Xf)(he(ie,Be))),G):("number"==typeof q&&(G=q),(0,L.e)((ie,Be)=>function U(he,q,G,ie,Be,Pe,Ke,Oe){const Ze=[];let Ne=0,ot=0,Xe=!1;const se=()=>{Xe&&!Ze.length&&!Ne&&q.complete()},ye=me=>Ne<ie?te(me):Ze.push(me),te=me=>{Pe&&q.next(me),Ne++;let Le=!1;(0,ne.Xf)(G(me,ot++)).subscribe((0,ue.x)(q,H=>{Be?.(H),Pe?ye(H):q.next(H)},()=>{Le=!0},void 0,()=>{if(Le)try{for(Ne--;Ze.length&&Ne<ie;){const H=Ze.shift();Ke?(0,ae.f)(q,Ke,()=>te(H)):te(H)}se()}catch(H){q.error(H)}}))};return he.subscribe((0,ue.x)(q,ye,()=>{Xe=!0,se()})),()=>{Oe?.()}}(ie,Be,he,G)))}},3093:(ht,Te,k)=>{"use strict";k.d(Te,{Q:()=>ae});var f=k(7103),ne=k(9360),L=k(8251);function ae(ue,U=0){return(0,ne.e)((be,Ae)=>{be.subscribe((0,L.x)(Ae,he=>(0,f.f)(Ae,ue,()=>Ae.next(he),U),()=>(0,f.f)(Ae,ue,()=>Ae.complete(),U),he=>(0,f.f)(Ae,ue,()=>Ae.error(he),U)))})}},3020:(ht,Te,k)=>{"use strict";k.d(Te,{B:()=>ue});var f=k(4829),ne=k(8645),L=k(1887),ae=k(9360);function ue(be={}){const{connector:Ae=(()=>new ne.x),resetOnError:he=!0,resetOnComplete:q=!0,resetOnRefCountZero:G=!0}=be;return ie=>{let Be,Pe,Ke,Oe=0,Ze=!1,Ne=!1;const ot=()=>{Pe?.unsubscribe(),Pe=void 0},Xe=()=>{ot(),Be=Ke=void 0,Ze=Ne=!1},se=()=>{const ye=Be;Xe(),ye?.unsubscribe()};return(0,ae.e)((ye,te)=>{Oe++,!Ne&&!Ze&&ot();const me=Ke=Ke??Ae();te.add(()=>{Oe--,0===Oe&&!Ne&&!Ze&&(Pe=U(se,G))}),me.subscribe(te),!Be&&Oe>0&&(Be=new L.Hp({next:Le=>me.next(Le),error:Le=>{Ne=!0,ot(),Pe=U(Xe,he,Le),me.error(Le)},complete:()=>{Ze=!0,ot(),Pe=U(Xe,q),me.complete()}}),(0,f.Xf)(ye).subscribe(Be))})(ie)}}function U(be,Ae,...he){if(!0===Ae)return void be();if(!1===Ae)return;const q=new L.Hp({next:()=>{q.unsubscribe(),be()}});return(0,f.Xf)(Ae(...he)).subscribe(q)}},5137:(ht,Te,k)=>{"use strict";k.d(Te,{R:()=>ne});var f=k(9360);function ne(L,ae=0){return(0,f.e)((ue,U)=>{U.add(L.schedule(()=>ue.subscribe(U),ae))})}},4664:(ht,Te,k)=>{"use strict";k.d(Te,{w:()=>ae});var f=k(4829),ne=k(9360),L=k(8251);function ae(ue,U){return(0,ne.e)((be,Ae)=>{let he=null,q=0,G=!1;const ie=()=>G&&!he&&Ae.complete();be.subscribe((0,L.x)(Ae,Be=>{he?.unsubscribe();let Pe=0;const Ke=q++;(0,f.Xf)(ue(Be,Ke)).subscribe(he=(0,L.x)(Ae,Oe=>Ae.next(U?U(Be,Oe,Ke,Pe++):Oe),()=>{he=null,ie()}))},()=>{G=!0,ie()}))})}},9397:(ht,Te,k)=>{"use strict";k.d(Te,{b:()=>ue});var f=k(4674),ne=k(9360),L=k(8251),ae=k(2737);function ue(U,be,Ae){const he=(0,f.m)(U)||be||Ae?{next:U,error:be,complete:Ae}:U;return he?(0,ne.e)((q,G)=>{var ie;null===(ie=he.subscribe)||void 0===ie||ie.call(he);let Be=!0;q.subscribe((0,L.x)(G,Pe=>{var Ke;null===(Ke=he.next)||void 0===Ke||Ke.call(he,Pe),G.next(Pe)},()=>{var Pe;Be=!1,null===(Pe=he.complete)||void 0===Pe||Pe.call(he),G.complete()},Pe=>{var Ke;Be=!1,null===(Ke=he.error)||void 0===Ke||Ke.call(he,Pe),G.error(Pe)},()=>{var Pe,Ke;Be&&(null===(Pe=he.unsubscribe)||void 0===Pe||Pe.call(he)),null===(Ke=he.finalize)||void 0===Ke||Ke.call(he)}))}):ae.y}},1954:(ht,Te,k)=>{"use strict";k.d(Te,{o:()=>ue});var f=k(7394);class ne extends f.w0{constructor(be,Ae){super()}schedule(be,Ae=0){return this}}const L={setInterval(U,be,...Ae){const{delegate:he}=L;return he?.setInterval?he.setInterval(U,be,...Ae):setInterval(U,be,...Ae)},clearInterval(U){const{delegate:be}=L;return(be?.clearInterval||clearInterval)(U)},delegate:void 0};var ae=k(9039);class ue extends ne{constructor(be,Ae){super(be,Ae),this.scheduler=be,this.work=Ae,this.pending=!1}schedule(be,Ae=0){var he;if(this.closed)return this;this.state=be;const q=this.id,G=this.scheduler;return null!=q&&(this.id=this.recycleAsyncId(G,q,Ae)),this.pending=!0,this.delay=Ae,this.id=null!==(he=this.id)&&void 0!==he?he:this.requestAsyncId(G,this.id,Ae),this}requestAsyncId(be,Ae,he=0){return L.setInterval(be.flush.bind(be,this),he)}recycleAsyncId(be,Ae,he=0){if(null!=he&&this.delay===he&&!1===this.pending)return Ae;null!=Ae&&L.clearInterval(Ae)}execute(be,Ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(be,Ae);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(be,Ae){let q,he=!1;try{this.work(be)}catch(G){he=!0,q=G||new Error("Scheduled action threw falsy error")}if(he)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:be,scheduler:Ae}=this,{actions:he}=Ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(he,this),null!=be&&(this.id=this.recycleAsyncId(Ae,be,null)),this.delay=null,super.unsubscribe()}}}},2631:(ht,Te,k)=>{"use strict";k.d(Te,{v:()=>L});var f=k(4552);class ne{constructor(ue,U=ne.now){this.schedulerActionCtor=ue,this.now=U}schedule(ue,U=0,be){return new this.schedulerActionCtor(this,ue).schedule(be,U)}}ne.now=f.l.now;class L extends ne{constructor(ue,U=ne.now){super(ue,U),this.actions=[],this._active=!1}flush(ue){const{actions:U}=this;if(this._active)return void U.push(ue);let be;this._active=!0;do{if(be=ue.execute(ue.state,ue.delay))break}while(ue=U.shift());if(this._active=!1,be){for(;ue=U.shift();)ue.unsubscribe();throw be}}}},6321:(ht,Te,k)=>{"use strict";k.d(Te,{z:()=>L});var f=k(1954);const L=new(k(2631).v)(f.o)},4552:(ht,Te,k)=>{"use strict";k.d(Te,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},7599:(ht,Te,k)=>{"use strict";k.d(Te,{z:()=>f});const f={setTimeout(ne,L,...ae){const{delegate:ue}=f;return ue?.setTimeout?ue.setTimeout(ne,L,...ae):setTimeout(ne,L,...ae)},clearTimeout(ne){const{delegate:L}=f;return(L?.clearTimeout||clearTimeout)(ne)},delegate:void 0}},4971:(ht,Te,k)=>{"use strict";k.d(Te,{h:()=>ne});const ne=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(ht,Te,k)=>{"use strict";k.d(Te,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(ht,Te,k)=>{"use strict";k.d(Te,{_6:()=>U,jO:()=>ae,yG:()=>ue});var f=k(4674);function L(be){return be[be.length-1]}function ae(be){return(0,f.m)(L(be))?be.pop():void 0}function ue(be){return function ne(be){return be&&(0,f.m)(be.schedule)}(L(be))?be.pop():void 0}function U(be,Ae){return"number"==typeof L(be)?be.pop():Ae}},9039:(ht,Te,k)=>{"use strict";function f(ne,L){if(ne){const ae=ne.indexOf(L);0<=ae&&ne.splice(ae,1)}}k.d(Te,{P:()=>f})},2306:(ht,Te,k)=>{"use strict";function f(ne){const ae=ne(ue=>{Error.call(ue),ue.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}k.d(Te,{d:()=>f})},1441:(ht,Te,k)=>{"use strict";k.d(Te,{O:()=>ae,x:()=>L});var f=k(2653);let ne=null;function L(ue){if(f.config.useDeprecatedSynchronousErrorHandling){const U=!ne;if(U&&(ne={errorThrown:!1,error:null}),ue(),U){const{errorThrown:be,error:Ae}=ne;if(ne=null,be)throw Ae}}else ue()}function ae(ue){f.config.useDeprecatedSynchronousErrorHandling&&ne&&(ne.errorThrown=!0,ne.error=ue)}},7103:(ht,Te,k)=>{"use strict";function f(ne,L,ae,ue=0,U=!1){const be=L.schedule(function(){ae(),U?ne.add(this.schedule(null,ue)):this.unsubscribe()},ue);if(ne.add(be),!U)return be}k.d(Te,{f:()=>f})},2737:(ht,Te,k)=>{"use strict";function f(ne){return ne}k.d(Te,{y:()=>f})},4266:(ht,Te,k)=>{"use strict";k.d(Te,{z:()=>f});const f=ne=>ne&&"number"==typeof ne.length&&"function"!=typeof ne},5726:(ht,Te,k)=>{"use strict";k.d(Te,{D:()=>ne});var f=k(4674);function ne(L){return Symbol.asyncIterator&&(0,f.m)(L?.[Symbol.asyncIterator])}},4674:(ht,Te,k)=>{"use strict";function f(ne){return"function"==typeof ne}k.d(Te,{m:()=>f})},8382:(ht,Te,k)=>{"use strict";k.d(Te,{c:()=>L});var f=k(4850),ne=k(4674);function L(ae){return(0,ne.m)(ae[f.L])}},3664:(ht,Te,k)=>{"use strict";k.d(Te,{T:()=>L});var f=k(4971),ne=k(4674);function L(ae){return(0,ne.m)(ae?.[f.h])}},4026:(ht,Te,k)=>{"use strict";k.d(Te,{t:()=>ne});var f=k(4674);function ne(L){return(0,f.m)(L?.then)}},541:(ht,Te,k)=>{"use strict";k.d(Te,{L:()=>ae,Q:()=>L});var f=k(7582),ne=k(4674);function L(ue){return(0,f.FC)(this,arguments,function*(){const be=ue.getReader();try{for(;;){const{value:Ae,done:he}=yield(0,f.qq)(be.read());if(he)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(Ae)}}finally{be.releaseLock()}})}function ae(ue){return(0,ne.m)(ue?.getReader)}},9360:(ht,Te,k)=>{"use strict";k.d(Te,{A:()=>ne,e:()=>L});var f=k(4674);function ne(ae){return(0,f.m)(ae?.lift)}function L(ae){return ue=>{if(ne(ue))return ue.lift(function(U){try{return ae(U,this)}catch(be){this.error(be)}});throw new TypeError("Unable to lift unknown Observable type")}}},8407:(ht,Te,k)=>{"use strict";k.d(Te,{U:()=>L,z:()=>ne});var f=k(2737);function ne(...ae){return L(ae)}function L(ae){return 0===ae.length?f.y:1===ae.length?ae[0]:function(U){return ae.reduce((be,Ae)=>Ae(be),U)}}},3894:(ht,Te,k)=>{"use strict";k.d(Te,{h:()=>L});var f=k(2653),ne=k(7599);function L(ae){ne.z.setTimeout(()=>{const{onUnhandledError:ue}=f.config;if(!ue)throw ae;ue(ae)})}},9853:(ht,Te,k)=>{"use strict";function f(ne){return new TypeError(`You provided ${null!==ne&&"object"==typeof ne?"an invalid object":`'${ne}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Te,{z:()=>f})},3519:function(ht){ht.exports=function(){"use strict";const k={},ne=E=>new Promise(D=>{if(!E)return D();const R=window.scrollX,B=window.scrollY;k.restoreFocusTimeout=setTimeout(()=>{k.previousActiveElement instanceof HTMLElement?(k.previousActiveElement.focus(),k.previousActiveElement=null):document.body&&document.body.focus(),D()},100),window.scrollTo(R,B)});var L={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const U=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((E,D)=>(E[D]="swal2-"+D,E),{}),Ae=["success","warning","info","question","error"].reduce((E,D)=>(E[D]="swal2-"+D,E),{}),he="SweetAlert2:",q=E=>E.charAt(0).toUpperCase()+E.slice(1),G=E=>{console.warn(`${he} ${"object"==typeof E?E.join(" "):E}`)},ie=E=>{console.error(`${he} ${E}`)},Be=[],Ke=(E,D)=>{(E=>{Be.includes(E)||(Be.push(E),G(E))})(`"${E}" is deprecated and will be removed in the next major release. Please use "${D}" instead.`)},Oe=E=>"function"==typeof E?E():E,Ze=E=>E&&"function"==typeof E.toPromise,Ne=E=>Ze(E)?E.toPromise():Promise.resolve(E),ot=E=>E&&Promise.resolve(E)===E,Xe=()=>document.body.querySelector(`.${U.container}`),se=E=>{const D=Xe();return D?D.querySelector(E):null},ye=E=>se(`.${E}`),te=()=>ye(U.popup),me=()=>ye(U.icon),H=()=>ye(U.title),Ie=()=>ye(U["html-container"]),De=()=>ye(U.image),Pt=()=>ye(U["progress-steps"]),Wt=()=>ye(U["validation-message"]),nn=()=>se(`.${U.actions} .${U.confirm}`),hn=()=>se(`.${U.actions} .${U.cancel}`),fn=()=>se(`.${U.actions} .${U.deny}`),xr=()=>se(`.${U.loader}`),le=()=>ye(U.actions),ge=()=>ye(U.footer),ve=()=>ye(U["timer-progress-bar"]),_e=()=>ye(U.close),He=()=>{const E=te();if(!E)return[];const D=E.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),R=Array.from(D).sort((dt,Ge)=>{const jn=parseInt(dt.getAttribute("tabindex")||"0"),Xt=parseInt(Ge.getAttribute("tabindex")||"0");return jn>Xt?1:jn<Xt?-1:0}),B=E.querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),Ee=Array.from(B).filter(dt=>"-1"!==dt.getAttribute("tabindex"));return[...new Set(R.concat(Ee))].filter(dt=>nt(dt))},ut=()=>Ut(document.body,U.shown)&&!Ut(document.body,U["toast-shown"])&&!Ut(document.body,U["no-backdrop"]),qe=()=>{const E=te();return!!E&&Ut(E,U.toast)},ft=(E,D)=>{if(E.textContent="",D){const B=(new DOMParser).parseFromString(D,"text/html"),Ee=B.querySelector("head");Ee&&Array.from(Ee.childNodes).forEach(Ge=>{E.appendChild(Ge)});const dt=B.querySelector("body");dt&&Array.from(dt.childNodes).forEach(Ge=>{Ge instanceof HTMLVideoElement||Ge instanceof HTMLAudioElement?E.appendChild(Ge.cloneNode(!0)):E.appendChild(Ge)})}},Ut=(E,D)=>{if(!D)return!1;const R=D.split(/\s+/);for(let B=0;B<R.length;B++)if(!E.classList.contains(R[B]))return!1;return!0},Lt=(E,D,R)=>{if(((E,D)=>{Array.from(E.classList).forEach(R=>{!Object.values(U).includes(R)&&!Object.values(Ae).includes(R)&&!Object.values(D.showClass||{}).includes(R)&&E.classList.remove(R)})})(E,D),D.customClass&&D.customClass[R]){if("string"!=typeof D.customClass[R]&&!D.customClass[R].forEach)return void G(`Invalid type of customClass.${R}! Expected string or iterable object, got "${typeof D.customClass[R]}"`);_t(E,D.customClass[R])}},xn=(E,D)=>{if(!D)return null;switch(D){case"select":case"textarea":case"file":return E.querySelector(`.${U.popup} > .${U[D]}`);case"checkbox":return E.querySelector(`.${U.popup} > .${U.checkbox} input`);case"radio":return E.querySelector(`.${U.popup} > .${U.radio} input:checked`)||E.querySelector(`.${U.popup} > .${U.radio} input:first-child`);case"range":return E.querySelector(`.${U.popup} > .${U.range} input`);default:return E.querySelector(`.${U.popup} > .${U.input}`)}},Xn=E=>{if(E.focus(),"file"!==E.type){const D=E.value;E.value="",E.value=D}},cn=(E,D,R)=>{!E||!D||("string"==typeof D&&(D=D.split(/\s+/).filter(Boolean)),D.forEach(B=>{Array.isArray(E)?E.forEach(Ee=>{R?Ee.classList.add(B):Ee.classList.remove(B)}):R?E.classList.add(B):E.classList.remove(B)}))},_t=(E,D)=>{cn(E,D,!0)},Ln=(E,D)=>{cn(E,D,!1)},zn=(E,D)=>{const R=Array.from(E.children);for(let B=0;B<R.length;B++){const Ee=R[B];if(Ee instanceof HTMLElement&&Ut(Ee,D))return Ee}},Jn=(E,D,R)=>{R===`${parseInt(R)}`&&(R=parseInt(R)),R||0===parseInt(R)?E.style[D]="number"==typeof R?`${R}px`:R:E.style.removeProperty(D)},vn=function(E){E&&(E.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex")},mn=E=>{E&&(E.style.display="none")},fi=(E,D,R,B)=>{const Ee=E.querySelector(D);Ee&&(Ee.style[R]=B)},Ye=function(E,D){D?vn(E,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):mn(E)},nt=E=>!(!E||!(E.offsetWidth||E.offsetHeight||E.getClientRects().length)),$n=E=>E.scrollHeight>E.clientHeight,pi=E=>{const D=window.getComputedStyle(E),R=parseFloat(D.getPropertyValue("animation-duration")||"0"),B=parseFloat(D.getPropertyValue("transition-duration")||"0");return R>0||B>0},er=function(E){let D=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const R=ve();nt(R)&&(D&&(R.style.transition="none",R.style.width="100%"),setTimeout(()=>{R.style.transition=`width ${E/1e3}s linear`,R.style.width="0%"},10))},In=()=>typeof window>"u"||typeof document>"u",Zi=`\n <div aria-labelledby="${U.title}" aria-describedby="${U["html-container"]}" class="${U.popup}" tabindex="-1">\n   <button type="button" class="${U.close}"></button>\n   <ul class="${U["progress-steps"]}"></ul>\n   <div class="${U.icon}"></div>\n   <img class="${U.image}" />\n   <h2 class="${U.title}" id="${U.title}"></h2>\n   <div class="${U["html-container"]}" id="${U["html-container"]}"></div>\n   <input class="${U.input}" id="${U.input}" />\n   <input type="file" class="${U.file}" />\n   <div class="${U.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${U.select}" id="${U.select}"></select>\n   <div class="${U.radio}"></div>\n   <label class="${U.checkbox}">\n     <input type="checkbox" id="${U.checkbox}" />\n     <span class="${U.label}"></span>\n   </label>\n   <textarea class="${U.textarea}" id="${U.textarea}"></textarea>\n   <div class="${U["validation-message"]}" id="${U["validation-message"]}"></div>\n   <div class="${U.actions}">\n     <div class="${U.loader}"></div>\n     <button type="button" class="${U.confirm}"></button>\n     <button type="button" class="${U.deny}"></button>\n     <button type="button" class="${U.cancel}"></button>\n   </div>\n   <div class="${U.footer}"></div>\n   <div class="${U["timer-progress-bar-container"]}">\n     <div class="${U["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),gr=()=>{k.currentInstance.resetValidationMessage()},J=E=>{const D=(()=>{const E=Xe();return!!E&&(E.remove(),Ln([document.documentElement,document.body],[U["no-backdrop"],U["toast-shown"],U["has-column"]]),!0)})();if(In())return void ie("SweetAlert2 requires document to initialize");const R=document.createElement("div");R.className=U.container,D&&_t(R,U["no-transition"]),ft(R,Zi);const B=(E=>"string"==typeof E?document.querySelector(E):E)(E.target);B.appendChild(R),(E=>{const D=te();D.setAttribute("role",E.toast?"alert":"dialog"),D.setAttribute("aria-live",E.toast?"polite":"assertive"),E.toast||D.setAttribute("aria-modal","true")})(E),(E=>{"rtl"===window.getComputedStyle(E).direction&&_t(Xe(),U.rtl)})(B),(()=>{const E=te(),D=zn(E,U.input),R=zn(E,U.file),B=E.querySelector(`.${U.range} input`),Ee=E.querySelector(`.${U.range} output`),dt=zn(E,U.select),Ge=E.querySelector(`.${U.checkbox} input`),jn=zn(E,U.textarea);D.oninput=gr,R.onchange=gr,dt.onchange=gr,Ge.onchange=gr,jn.oninput=gr,B.oninput=()=>{gr(),Ee.value=B.value},B.onchange=()=>{gr(),Ee.value=B.value}})()},Z=(E,D)=>{E instanceof HTMLElement?D.appendChild(E):"object"==typeof E?z(E,D):E&&ft(D,E)},z=(E,D)=>{E.jquery?Y(D,E):ft(D,E.toString())},Y=(E,D)=>{if(E.textContent="",0 in D)for(let R=0;R in D;R++)E.appendChild(D[R].cloneNode(!0));else E.appendChild(D.cloneNode(!0))},W=(()=>{if(In())return!1;const E=document.createElement("div"),D={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const R in D)if(Object.prototype.hasOwnProperty.call(D,R)&&typeof E.style[R]<"u")return D[R];return!1})(),ke=(E,D)=>{const R=le(),B=xr();!R||!B||(D.showConfirmButton||D.showDenyButton||D.showCancelButton?vn(R):mn(R),Lt(R,D,"actions"),function $e(E,D,R){const B=nn(),Ee=fn(),dt=hn();!B||!Ee||!dt||(At(B,"confirm",R),At(Ee,"deny",R),At(dt,"cancel",R),function mt(E,D,R,B){B.buttonsStyling?(_t([E,D,R],U.styled),B.confirmButtonColor&&(E.style.backgroundColor=B.confirmButtonColor,_t(E,U["default-outline"])),B.denyButtonColor&&(D.style.backgroundColor=B.denyButtonColor,_t(D,U["default-outline"])),B.cancelButtonColor&&(R.style.backgroundColor=B.cancelButtonColor,_t(R,U["default-outline"]))):Ln([E,D,R],U.styled)}(B,Ee,dt,R),R.reverseButtons&&(R.toast?(E.insertBefore(dt,B),E.insertBefore(Ee,B)):(E.insertBefore(dt,D),E.insertBefore(Ee,D),E.insertBefore(B,D))))}(R,B,D),ft(B,D.loaderHtml||""),Lt(B,D,"loader"))};function At(E,D,R){const B=q(D);Ye(E,R[`show${B}Button`],"inline-block"),ft(E,R[`${D}ButtonText`]||""),E.setAttribute("aria-label",R[`${D}ButtonAriaLabel`]||""),E.className=U[D],Lt(E,R,`${D}Button`)}const tr=(E,D)=>{const R=Xe();R&&(function Kt(E,D){"string"==typeof D?E.style.background=D:D||_t([document.documentElement,document.body],U["no-backdrop"])}(R,D.backdrop),function Ur(E,D){D&&(D in U?_t(E,U[D]):(G('The "position" parameter is not valid, defaulting to "center"'),_t(E,U.center)))}(R,D.position),function Yi(E,D){D&&_t(E,U[`grow-${D}`])}(R,D.grow),Lt(R,D,"container"))};const io=["input","file","range","select","radio","checkbox","textarea"],Cr=E=>{if(!Vn[E.input])return void ie(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${E.input}"`);const D=hs(E.input),R=Vn[E.input](D,E);vn(D),E.inputAutoFocus&&setTimeout(()=>{Xn(R)})},gi=(E,D)=>{const R=xn(te(),E);if(R){(E=>{for(let D=0;D<E.attributes.length;D++){const R=E.attributes[D].name;["id","type","value","style"].includes(R)||E.removeAttribute(R)}})(R);for(const B in D)R.setAttribute(B,D[B])}},Qt=E=>{const D=hs(E.input);"object"==typeof E.customClass&&_t(D,E.customClass.input)},Xr=(E,D)=>{(!E.placeholder||D.inputPlaceholder)&&(E.placeholder=D.inputPlaceholder)},so=(E,D,R)=>{if(R.inputLabel){const B=document.createElement("label"),Ee=U["input-label"];B.setAttribute("for",E.id),B.className=Ee,"object"==typeof R.customClass&&_t(B,R.customClass.inputLabel),B.innerText=R.inputLabel,D.insertAdjacentElement("beforebegin",B)}},hs=E=>zn(te(),U[E]||U.input),Da=(E,D)=>{["string","number"].includes(typeof D)?E.value=`${D}`:ot(D)||G(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof D}"`)},Vn={};Vn.text=Vn.email=Vn.password=Vn.number=Vn.tel=Vn.url=(E,D)=>(Da(E,D.inputValue),so(E,E,D),Xr(E,D),E.type=D.input,E),Vn.file=(E,D)=>(so(E,E,D),Xr(E,D),E),Vn.range=(E,D)=>{const R=E.querySelector("input"),B=E.querySelector("output");return Da(R,D.inputValue),R.type=D.input,Da(B,D.inputValue),so(R,E,D),E},Vn.select=(E,D)=>{if(E.textContent="",D.inputPlaceholder){const R=document.createElement("option");ft(R,D.inputPlaceholder),R.value="",R.disabled=!0,R.selected=!0,E.appendChild(R)}return so(E,E,D),E},Vn.radio=E=>(E.textContent="",E),Vn.checkbox=(E,D)=>{const R=xn(te(),"checkbox");R.value="1",R.checked=!!D.inputValue;const B=E.querySelector("span");return ft(B,D.inputPlaceholder),R},Vn.textarea=(E,D)=>{Da(E,D.inputValue),Xr(E,D),so(E,E,D);return setTimeout(()=>{if("MutationObserver"in window){const B=parseInt(window.getComputedStyle(te()).width);new MutationObserver(()=>{if(!document.body.contains(E))return;const dt=E.offsetWidth+(B=>parseInt(window.getComputedStyle(B).marginLeft)+parseInt(window.getComputedStyle(B).marginRight))(E);dt>B?te().style.width=`${dt}px`:Jn(te(),"width",D.width)}).observe(E,{attributes:!0,attributeFilter:["style"]})}}),E};const Vo=(E,D)=>{const R=Ie();R&&(Lt(R,D,"htmlContainer"),D.html?(Z(D.html,R),vn(R,"block")):D.text?(R.textContent=D.text,vn(R,"block")):mn(R),((E,D)=>{const R=te(),B=L.innerParams.get(E),Ee=!B||D.input!==B.input;io.forEach(dt=>{const Ge=zn(R,U[dt]);gi(dt,D.inputAttributes),Ge.className=U[dt],Ee&&mn(Ge)}),D.input&&(Ee&&Cr(D),Qt(D))})(E,D))},Sa=(E,D)=>{for(const[R,B]of Object.entries(Ae))D.icon!==R&&Ln(E,B);_t(E,D.icon&&Ae[D.icon]),pu(E,D),Kn(),Lt(E,D,"icon")},Kn=()=>{const E=te();if(!E)return;const D=window.getComputedStyle(E).getPropertyValue("background-color"),R=E.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let B=0;B<R.length;B++)R[B].style.backgroundColor=D},Fs=(E,D)=>{if(!D.icon&&!D.iconHtml)return;let R=E.innerHTML,B="";D.iconHtml?B=el(D.iconHtml):"success"===D.icon?(B='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',R=R.replace(/ style=".*?"/g,"")):"error"===D.icon?B='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':D.icon&&(B=el({question:"?",warning:"!",info:"i"}[D.icon])),R.trim()!==B.trim()&&ft(E,B)},pu=(E,D)=>{if(D.iconColor){E.style.color=D.iconColor,E.style.borderColor=D.iconColor;for(const R of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])fi(E,R,"backgroundColor",D.iconColor);fi(E,".swal2-success-ring","borderColor",D.iconColor)}},el=E=>`<div class="${U["icon-content"]}">${E}</div>`,yr=(E,D)=>{const R=D.showClass||{};E.className=`${U.popup} ${nt(E)?R.popup:""}`,D.toast?(_t([document.documentElement,document.body],U["toast-shown"]),_t(E,U.toast)):_t(E,U.modal),Lt(E,D,"popup"),"string"==typeof D.customClass&&_t(E,D.customClass),D.icon&&_t(E,U[`icon-${D.icon}`])},tl=E=>{const D=document.createElement("li");return _t(D,U["progress-step"]),ft(D,E),D},Bo=E=>{const D=document.createElement("li");return _t(D,U["progress-step-line"]),E.progressStepsDistance&&Jn(D,"width",E.progressStepsDistance),D},oo=(E,D)=>{((E,D)=>{const R=Xe(),B=te();if(R&&B){if(D.toast){Jn(R,"width",D.width),B.style.width="100%";const Ee=xr();Ee&&B.insertBefore(Ee,me())}else Jn(B,"width",D.width);Jn(B,"padding",D.padding),D.color&&(B.style.color=D.color),D.background&&(B.style.background=D.background),mn(Wt()),yr(B,D)}})(0,D),tr(0,D),((E,D)=>{const R=Pt();if(!R)return;const{progressSteps:B,currentProgressStep:Ee}=D;B&&0!==B.length&&void 0!==Ee?(vn(R),R.textContent="",Ee>=B.length&&G("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),B.forEach((dt,Ge)=>{const jn=tl(dt);if(R.appendChild(jn),Ge===Ee&&_t(jn,U["active-progress-step"]),Ge!==B.length-1){const Xt=Bo(D);R.appendChild(Xt)}})):mn(R)})(0,D),((E,D)=>{const R=L.innerParams.get(E),B=me();if(B){if(R&&D.icon===R.icon)return Fs(B,D),void Sa(B,D);if(!D.icon&&!D.iconHtml)return void mn(B);if(D.icon&&-1===Object.keys(Ae).indexOf(D.icon))return ie(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${D.icon}"`),void mn(B);vn(B),Fs(B,D),Sa(B,D),_t(B,D.showClass&&D.showClass.icon)}})(E,D),((E,D)=>{const R=De();if(R){if(!D.imageUrl)return void mn(R);vn(R,""),R.setAttribute("src",D.imageUrl),R.setAttribute("alt",D.imageAlt||""),Jn(R,"width",D.imageWidth),Jn(R,"height",D.imageHeight),R.className=U.image,Lt(R,D,"image")}})(0,D),((E,D)=>{const R=H();R&&(Ye(R,D.title||D.titleText,"block"),D.title&&Z(D.title,R),D.titleText&&(R.innerText=D.titleText),Lt(R,D,"title"))})(0,D),((E,D)=>{const R=_e();R&&(ft(R,D.closeButtonHtml||""),Lt(R,D,"closeButton"),Ye(R,D.showCloseButton),R.setAttribute("aria-label",D.closeButtonAriaLabel||""))})(0,D),Vo(E,D),ke(0,D),((E,D)=>{const R=ge();R&&(Ye(R,D.footer),D.footer&&Z(D.footer,R),Lt(R,D,"footer"))})(0,D);const R=te();"function"==typeof D.didRender&&R&&D.didRender(R)},rl=()=>nn()&&nn().click(),Ls=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),uo=E=>{E.keydownTarget&&E.keydownHandlerAdded&&(E.keydownTarget.removeEventListener("keydown",E.keydownHandler,{capture:E.keydownListenerCapture}),E.keydownHandlerAdded=!1)},Aa=(E,D)=>{const R=He();if(R.length)return(E+=D)===R.length?E=0:-1===E&&(E=R.length-1),void R[E].focus();te().focus()},hc=["ArrowRight","ArrowDown"],fc=["ArrowLeft","ArrowUp"],mu=(E,D,R)=>{const B=L.innerParams.get(E);B&&(D.isComposing||229===D.keyCode||(B.stopKeydownPropagation&&D.stopPropagation(),"Enter"===D.key?$o(E,D,B):"Tab"===D.key?Id(D):[...hc,...fc].includes(D.key)?yu(D.key):"Escape"===D.key&&pc(D,B,R)))},$o=(E,D,R)=>{if(Oe(R.allowEnterKey)&&D.target&&E.getInput()&&D.target instanceof HTMLElement&&D.target.outerHTML===E.getInput().outerHTML){if(["textarea","file"].includes(R.input))return;rl(),D.preventDefault()}},Id=E=>{const D=E.target,R=He();let B=-1;for(let Ee=0;Ee<R.length;Ee++)if(D===R[Ee]){B=Ee;break}Aa(B,E.shiftKey?-1:1),E.stopPropagation(),E.preventDefault()},yu=E=>{const D=nn(),R=fn(),B=hn();if(document.activeElement instanceof HTMLElement&&![D,R,B].includes(document.activeElement))return;const dt=hc.includes(E)?"nextElementSibling":"previousElementSibling";let Ge=document.activeElement;for(let jn=0;jn<le().children.length;jn++){if(Ge=Ge[dt],!Ge)return;if(Ge instanceof HTMLButtonElement&&nt(Ge))break}Ge instanceof HTMLButtonElement&&Ge.focus()},pc=(E,D,R)=>{Oe(D.allowEscapeKey)&&(E.preventDefault(),R(Ls.esc))};var xt={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Rn=()=>{Array.from(document.body.children).forEach(D=>{D.hasAttribute("data-previous-aria-hidden")?(D.setAttribute("aria-hidden",D.getAttribute("data-previous-aria-hidden")||""),D.removeAttribute("data-previous-aria-hidden")):D.removeAttribute("aria-hidden")})},Qi=typeof window<"u"&&!!window.GestureEvent,mi=()=>{const E=Xe();let D;E.ontouchstart=R=>{D=il(R)},E.ontouchmove=R=>{D&&(R.preventDefault(),R.stopPropagation())}},il=E=>{const D=E.target,R=Xe();return!co(E)&&!Ma(E)&&(D===R||!$n(R)&&D instanceof HTMLElement&&"INPUT"!==D.tagName&&"TEXTAREA"!==D.tagName&&!($n(Ie())&&Ie().contains(D)))},co=E=>E.touches&&E.touches.length&&"stylus"===E.touches[0].touchType,Ma=E=>E.touches&&E.touches.length>1;let Qe=null;const Ot=()=>{null===Qe&&document.body.scrollHeight>window.innerHeight&&(Qe=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Qe+(()=>{const E=document.createElement("div");E.className=U["scrollbar-measure"],document.body.appendChild(E);const D=E.getBoundingClientRect().width-E.clientWidth;return document.body.removeChild(E),D})()}px`)};function Pr(E,D,R,B){qe()?gs(E,B):(ne(R).then(()=>gs(E,B)),uo(k)),Qi?(D.setAttribute("style","display:none !important"),D.removeAttribute("class"),D.innerHTML=""):D.remove(),ut()&&(null!==Qe&&(document.body.style.paddingRight=`${Qe}px`,Qe=null),(()=>{if(Ut(document.body,U.iosfix)){const E=parseInt(document.body.style.top,10);Ln(document.body,U.iosfix),document.body.style.top="",document.body.scrollTop=-1*E}})(),Rn()),function yi(){Ln([document.documentElement,document.body],[U.shown,U["height-auto"],U["no-backdrop"],U["toast-shown"]])}()}function Un(E){E=Pi(E);const D=xt.swalPromiseResolve.get(this),R=ps(this);this.isAwaitingPromise?E.isDismissed||(vi(this),D(E)):R&&D(E)}const ps=E=>{const D=te();if(!D)return!1;const R=L.innerParams.get(E);if(!R||Ut(D,R.hideClass.popup))return!1;Ln(D,R.showClass.popup),_t(D,R.hideClass.popup);const B=Xe();return Ln(B,R.showClass.backdrop),_t(B,R.hideClass.backdrop),bt(E,D,R),!0};function wn(E){const D=xt.swalPromiseReject.get(this);vi(this),D&&D(E)}const vi=E=>{E.isAwaitingPromise&&(delete E.isAwaitingPromise,L.innerParams.get(E)||E._destroy())},Pi=E=>typeof E>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},E),bt=(E,D,R)=>{const B=Xe(),Ee=W&&pi(D);"function"==typeof R.willClose&&R.willClose(D),Ee?_i(E,D,B,R.returnFocus,R.didClose):Pr(E,B,R.returnFocus,R.didClose)},_i=(E,D,R,B,Ee)=>{k.swalCloseEventFinishedCallback=Pr.bind(null,E,R,B,Ee),D.addEventListener(W,function(dt){dt.target===D&&(k.swalCloseEventFinishedCallback(),delete k.swalCloseEventFinishedCallback)})},gs=(E,D)=>{setTimeout(()=>{"function"==typeof D&&D.bind(E.params)(),E._destroy&&E._destroy()})},Dr=E=>{let D=te();D||new ii,D=te();const R=xr();qe()?mn(me()):An(D,E),vn(R),D.setAttribute("data-loading","true"),D.setAttribute("aria-busy","true"),D.focus()},An=(E,D)=>{const R=le(),B=xr();!D&&nt(nn())&&(D=nn()),vn(R),D&&(mn(D),B.setAttribute("data-button-to-replace",D.className)),B.parentNode.insertBefore(B,D),_t([E,R],U.loading)},Nr=E=>E.checked?1:0,jr=E=>E.checked?E.value:null,$r=E=>E.files.length?null!==E.getAttribute("multiple")?E.files:E.files[0]:null,Ji=(E,D)=>{const R=te(),B=Ee=>{Go[D.input](R,Hn(Ee),D)};Ze(D.inputOptions)||ot(D.inputOptions)?(Dr(nn()),Ne(D.inputOptions).then(Ee=>{E.hideLoading(),B(Ee)})):"object"==typeof D.inputOptions?B(D.inputOptions):ie("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof D.inputOptions)},Jr=(E,D)=>{const R=E.getInput();mn(R),Ne(D.inputValue).then(B=>{R.value="number"===D.input?`${parseFloat(B)||0}`:`${B}`,vn(R),R.focus(),E.hideLoading()}).catch(B=>{ie(`Error in inputValue promise: ${B}`),R.value="",vn(R),R.focus(),E.hideLoading()})},Go={select:(E,D,R)=>{const B=zn(E,U.select),Ee=(dt,Ge,jn)=>{const Xt=document.createElement("option");Xt.value=jn,ft(Xt,Ge),Xt.selected=Yt(jn,R.inputValue),dt.appendChild(Xt)};D.forEach(dt=>{const Ge=dt[0],jn=dt[1];if(Array.isArray(jn)){const Xt=document.createElement("optgroup");Xt.label=Ge,Xt.disabled=!1,B.appendChild(Xt),jn.forEach(_s=>Ee(Xt,_s[1],_s[0]))}else Ee(B,jn,Ge)}),B.focus()},radio:(E,D,R)=>{const B=zn(E,U.radio);D.forEach(dt=>{const Ge=dt[0],jn=dt[1],Xt=document.createElement("input"),_s=document.createElement("label");Xt.type="radio",Xt.name=U.radio,Xt.value=Ge,Yt(Ge,R.inputValue)&&(Xt.checked=!0);const vo=document.createElement("span");ft(vo,jn),vo.className=U.label,_s.appendChild(Xt),_s.appendChild(vo),B.appendChild(_s)});const Ee=B.querySelectorAll("input");Ee.length&&Ee[0].focus()}},Hn=E=>{const D=[];return typeof Map<"u"&&E instanceof Map?E.forEach((R,B)=>{let Ee=R;"object"==typeof Ee&&(Ee=Hn(Ee)),D.push([B,Ee])}):Object.keys(E).forEach(R=>{let B=E[R];"object"==typeof B&&(B=Hn(B)),D.push([R,B])}),D},Yt=(E,D)=>D&&D.toString()===E.toString(),ei=(E,D)=>{const R=L.innerParams.get(E);if(!R.input)return void ie(`The "input" parameter is needed to be set when using returnInputValueOn${q(D)}`);const B=((E,D)=>{const R=E.getInput();if(!R)return null;switch(D.input){case"checkbox":return Nr(R);case"radio":return jr(R);case"file":return $r(R);default:return D.inputAutoTrim?R.value.trim():R.value}})(E,R);R.inputValidator?ti(E,B,D):E.getInput().checkValidity()?"deny"===D?Ni(E,B):Wo(E,B):(E.enableButtons(),E.showValidationMessage(R.validationMessage))},ti=(E,D,R)=>{const B=L.innerParams.get(E);E.disableInput(),Promise.resolve().then(()=>Ne(B.inputValidator(D,B.validationMessage))).then(dt=>{E.enableButtons(),E.enableInput(),dt?E.showValidationMessage(dt):"deny"===R?Ni(E,D):Wo(E,D)})},Ni=(E,D)=>{const R=L.innerParams.get(E||void 0);R.showLoaderOnDeny&&Dr(fn()),R.preDeny?(E.isAwaitingPromise=!0,Promise.resolve().then(()=>Ne(R.preDeny(D,R.validationMessage))).then(Ee=>{!1===Ee?(E.hideLoading(),vi(E)):E.close({isDenied:!0,value:typeof Ee>"u"?D:Ee})}).catch(Ee=>qn(E||void 0,Ee))):E.close({isDenied:!0,value:D})},es=(E,D)=>{E.close({isConfirmed:!0,value:D})},qn=(E,D)=>{E.rejectPromise(D)},Wo=(E,D)=>{const R=L.innerParams.get(E||void 0);R.showLoaderOnConfirm&&Dr(),R.preConfirm?(E.resetValidationMessage(),E.isAwaitingPromise=!0,Promise.resolve().then(()=>Ne(R.preConfirm(D,R.validationMessage))).then(Ee=>{nt(Wt())||!1===Ee?(E.hideLoading(),vi(E)):es(E,typeof Ee>"u"?D:Ee)}).catch(Ee=>qn(E||void 0,Ee))):es(E,D)};function Nn(){const E=L.innerParams.get(this);if(!E)return;const D=L.domCache.get(this);mn(D.loader),qe()?E.icon&&vn(me()):ur(D),Ln([D.popup,D.actions],U.loading),D.popup.removeAttribute("aria-busy"),D.popup.removeAttribute("data-loading"),D.confirmButton.disabled=!1,D.denyButton.disabled=!1,D.cancelButton.disabled=!1}const ur=E=>{const D=E.popup.getElementsByClassName(E.loader.getAttribute("data-button-to-replace"));D.length?vn(D[0],"inline-block"):!nt(nn())&&!nt(fn())&&!nt(hn())&&mn(E.actions)};function Ko(){const E=L.innerParams.get(this),D=L.domCache.get(this);return D?xn(D.popup,E.input):null}function ni(E,D,R){const B=L.domCache.get(E);D.forEach(Ee=>{B[Ee].disabled=R})}function ms(E,D){if(E)if("radio"===E.type){const B=E.parentNode.parentNode.querySelectorAll("input");for(let Ee=0;Ee<B.length;Ee++)B[Ee].disabled=D}else E.disabled=D}function lr(){ni(this,["confirmButton","denyButton","cancelButton"],!1)}function On(){ni(this,["confirmButton","denyButton","cancelButton"],!0)}function vu(){ms(this.getInput(),!1)}function Zo(){ms(this.getInput(),!0)}function _u(E){const D=L.domCache.get(this),R=L.innerParams.get(this);ft(D.validationMessage,E),D.validationMessage.className=U["validation-message"],R.customClass&&R.customClass.validationMessage&&_t(D.validationMessage,R.customClass.validationMessage),vn(D.validationMessage);const B=this.getInput();B&&(B.setAttribute("aria-invalid",!0),B.setAttribute("aria-describedby",U["validation-message"]),Xn(B),_t(B,U.inputerror))}function Ra(){const E=L.domCache.get(this);E.validationMessage&&mn(E.validationMessage);const D=this.getInput();D&&(D.removeAttribute("aria-invalid"),D.removeAttribute("aria-describedby"),Ln(D,U.inputerror))}const ys={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},sl=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Pa={},ol=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Na=E=>Object.prototype.hasOwnProperty.call(ys,E),Oa=E=>-1!==sl.indexOf(E),wu=E=>Pa[E],bu=E=>{Na(E)||G(`Unknown parameter "${E}"`)},al=E=>{ol.includes(E)&&G(`The parameter "${E}" is incompatible with toasts`)},ul=E=>{const D=wu(E);D&&Ke(E,D)};function Eu(E){const D=te(),R=L.innerParams.get(this);if(!D||Ut(D,R.hideClass.popup))return void G("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const B=ll(E),Ee=Object.assign({},R,B);oo(this,Ee),L.innerParams.set(this,Ee),Object.defineProperties(this,{params:{value:Object.assign({},this.params,E),writable:!1,enumerable:!0}})}const ll=E=>{const D={};return Object.keys(E).forEach(R=>{Oa(R)?D[R]=E[R]:G(`Invalid parameter to update: ${R}`)}),D};function ho(){const E=L.domCache.get(this),D=L.innerParams.get(this);D?(E.popup&&k.swalCloseEventFinishedCallback&&(k.swalCloseEventFinishedCallback(),delete k.swalCloseEventFinishedCallback),"function"==typeof D.didDestroy&&D.didDestroy(),ka(this)):cl(this)}const ka=E=>{cl(E),delete E.params,delete k.keydownHandler,delete k.keydownTarget,delete k.currentInstance},cl=E=>{E.isAwaitingPromise?(Mn(L,E),E.isAwaitingPromise=!0):(Mn(xt,E),Mn(L,E),delete E.isAwaitingPromise,delete E.disableButtons,delete E.enableButtons,delete E.getInput,delete E.disableInput,delete E.enableInput,delete E.hideLoading,delete E.disableLoading,delete E.showValidationMessage,delete E.resetValidationMessage,delete E.close,delete E.closePopup,delete E.closeModal,delete E.closeToast,delete E.rejectPromise,delete E.update,delete E._destroy)},Mn=(E,D)=>{for(const R in E)E[R].delete(D)};var yc=Object.freeze({__proto__:null,_destroy:ho,close:Un,closeModal:Un,closePopup:Un,closeToast:Un,disableButtons:On,disableInput:Zo,disableLoading:Nn,enableButtons:lr,enableInput:vu,getInput:Ko,handleAwaitingPromise:vi,hideLoading:Nn,rejectPromise:wn,resetValidationMessage:Ra,showValidationMessage:_u,update:Eu});const Iu=(E,D,R)=>{D.popup.onclick=()=>{const B=L.innerParams.get(E);B&&(rf(B)||B.timer||B.input)||R(Ls.close)}},rf=E=>E.showConfirmButton||E.showDenyButton||E.showCancelButton||E.showCloseButton;let Yo=!1;const Cu=E=>{E.popup.onmousedown=()=>{E.container.onmouseup=function(D){E.container.onmouseup=void 0,D.target===E.container&&(Yo=!0)}}},dl=E=>{E.container.onmousedown=()=>{E.popup.onmouseup=function(D){E.popup.onmouseup=void 0,(D.target===E.popup||E.popup.contains(D.target))&&(Yo=!0)}}},Cd=(E,D,R)=>{D.container.onclick=B=>{const Ee=L.innerParams.get(E);Yo?Yo=!1:B.target===D.container&&Oe(Ee.allowOutsideClick)&&R(Ls.backdrop)}},Dd=E=>E instanceof Element||(E=>"object"==typeof E&&E.jquery)(E);const ts=()=>{if(k.timeout)return(()=>{const E=ve(),D=parseInt(window.getComputedStyle(E).width);E.style.removeProperty("transition"),E.style.width="100%";const R=parseInt(window.getComputedStyle(E).width);E.style.width=D/R*100+"%"})(),k.timeout.stop()},hl=()=>{if(k.timeout){const E=k.timeout.start();return er(E),E}};let Du=!1;const Su={};const go=E=>{for(let D=E.target;D&&D!==document;D=D.parentNode)for(const R in Su){const B=D.getAttribute(R);if(B)return void Su[R].fire({template:B})}};var pl=Object.freeze({__proto__:null,argsToParams:E=>{const D={};return"object"!=typeof E[0]||Dd(E[0])?["title","html","icon"].forEach((R,B)=>{const Ee=E[B];"string"==typeof Ee||Dd(Ee)?D[R]=Ee:void 0!==Ee&&ie(`Unexpected type of ${R}! Expected "string" or "Element", got ${typeof Ee}`)}):Object.assign(D,E[0]),D},bindClickHandler:function fl(){Su[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Du||(document.body.addEventListener("click",go),Du=!0)},clickCancel:()=>hn()&&hn().click(),clickConfirm:rl,clickDeny:()=>fn()&&fn().click(),enableLoading:Dr,fire:function ri(){for(var D=arguments.length,R=new Array(D),B=0;B<D;B++)R[B]=arguments[B];return new this(...R)},getActions:le,getCancelButton:hn,getCloseButton:_e,getConfirmButton:nn,getContainer:Xe,getDenyButton:fn,getFocusableElements:He,getFooter:ge,getHtmlContainer:Ie,getIcon:me,getIconContent:()=>ye(U["icon-content"]),getImage:De,getInputLabel:()=>ye(U["input-label"]),getLoader:xr,getPopup:te,getProgressSteps:Pt,getTimerLeft:()=>k.timeout&&k.timeout.getTimerLeft(),getTimerProgressBar:ve,getTitle:H,getValidationMessage:Wt,increaseTimer:E=>{if(k.timeout){const D=k.timeout.increase(E);return er(D,!0),D}},isDeprecatedParameter:wu,isLoading:()=>{const E=te();return!!E&&E.hasAttribute("data-loading")},isTimerRunning:()=>!(!k.timeout||!k.timeout.isRunning()),isUpdatableParameter:Oa,isValidParameter:Na,isVisible:()=>nt(te()),mixin:function fo(E){return class D extends(this){_main(B,Ee){return super._main(B,Object.assign({},E,Ee))}}},resumeTimer:hl,showLoading:Dr,stopTimer:ts,toggleTimer:()=>{const E=k.timeout;return E&&(E.running?ts():hl())}});class mo{constructor(D,R){this.callback=D,this.remaining=R,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(D){const R=this.running;return R&&this.stop(),this.remaining+=D,R&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const vc=["swal-title","swal-html","swal-footer"],Sd=E=>{const D={};return Array.from(E.querySelectorAll("swal-param")).forEach(B=>{Bs(B,["name","value"]);const Ee=B.getAttribute("name"),dt=B.getAttribute("value");D[Ee]="boolean"==typeof ys[Ee]?"false"!==dt:"object"==typeof ys[Ee]?JSON.parse(dt):dt}),D},_c=E=>{const D={};return Array.from(E.querySelectorAll("swal-function-param")).forEach(B=>{const Ee=B.getAttribute("name"),dt=B.getAttribute("value");D[Ee]=new Function(`return ${dt}`)()}),D},Tu=E=>{const D={};return Array.from(E.querySelectorAll("swal-button")).forEach(B=>{Bs(B,["type","color","aria-label"]);const Ee=B.getAttribute("type");D[`${Ee}ButtonText`]=B.innerHTML,D[`show${q(Ee)}Button`]=!0,B.hasAttribute("color")&&(D[`${Ee}ButtonColor`]=B.getAttribute("color")),B.hasAttribute("aria-label")&&(D[`${Ee}ButtonAriaLabel`]=B.getAttribute("aria-label"))}),D},Td=E=>{const D={},R=E.querySelector("swal-image");return R&&(Bs(R,["src","width","height","alt"]),R.hasAttribute("src")&&(D.imageUrl=R.getAttribute("src")),R.hasAttribute("width")&&(D.imageWidth=R.getAttribute("width")),R.hasAttribute("height")&&(D.imageHeight=R.getAttribute("height")),R.hasAttribute("alt")&&(D.imageAlt=R.getAttribute("alt"))),D},Au=E=>{const D={},R=E.querySelector("swal-icon");return R&&(Bs(R,["type","color"]),R.hasAttribute("type")&&(D.icon=R.getAttribute("type")),R.hasAttribute("color")&&(D.iconColor=R.getAttribute("color")),D.iconHtml=R.innerHTML),D},gl=E=>{const D={},R=E.querySelector("swal-input");R&&(Bs(R,["type","label","placeholder","value"]),D.input=R.getAttribute("type")||"text",R.hasAttribute("label")&&(D.inputLabel=R.getAttribute("label")),R.hasAttribute("placeholder")&&(D.inputPlaceholder=R.getAttribute("placeholder")),R.hasAttribute("value")&&(D.inputValue=R.getAttribute("value")));const B=Array.from(E.querySelectorAll("swal-input-option"));return B.length&&(D.inputOptions={},B.forEach(Ee=>{Bs(Ee,["value"]);const dt=Ee.getAttribute("value");D.inputOptions[dt]=Ee.innerHTML})),D},Ad=(E,D)=>{const R={};for(const B in D){const Ee=D[B],dt=E.querySelector(Ee);dt&&(Bs(dt,[]),R[Ee.replace(/^swal-/,"")]=dt.innerHTML.trim())}return R},sf=E=>{const D=vc.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(E.children).forEach(R=>{const B=R.tagName.toLowerCase();D.includes(B)||G(`Unrecognized element <${B}>`)})},Bs=(E,D)=>{Array.from(E.attributes).forEach(R=>{-1===D.indexOf(R.name)&&G([`Unrecognized attribute "${R.name}" on <${E.tagName.toLowerCase()}>.`,D.length?`Allowed attributes are: ${D.join(", ")}`:"To set the value, use HTML within the element."])})},af=E=>{const D=Xe(),R=te();"function"==typeof E.willOpen&&E.willOpen(R);const Ee=window.getComputedStyle(document.body).overflowY;wi(D,R,E),setTimeout(()=>{wc(D,R)},10),ut()&&(uf(D,E.scrollbarPadding,Ee),Array.from(document.body.children).forEach(D=>{D===Xe()||D.contains(Xe())||(D.hasAttribute("aria-hidden")&&D.setAttribute("data-previous-aria-hidden",D.getAttribute("aria-hidden")||""),D.setAttribute("aria-hidden","true"))})),!qe()&&!k.previousActiveElement&&(k.previousActiveElement=document.activeElement),"function"==typeof E.didOpen&&setTimeout(()=>E.didOpen(R)),Ln(D,U["no-transition"])},Mu=E=>{const D=te();if(E.target!==D)return;const R=Xe();D.removeEventListener(W,Mu),R.style.overflowY="auto"},wc=(E,D)=>{W&&pi(D)?(E.style.overflowY="hidden",D.addEventListener(W,Mu)):E.style.overflowY="auto"},uf=(E,D,R)=>{(()=>{if(Qi&&!Ut(document.body,U.iosfix)){const E=document.body.scrollTop;document.body.style.top=-1*E+"px",_t(document.body,U.iosfix),mi()}})(),D&&"hidden"!==R&&Ot(),setTimeout(()=>{E.scrollTop=0})},wi=(E,D,R)=>{_t(E,R.showClass.backdrop),D.style.setProperty("opacity","0","important"),vn(D,"grid"),setTimeout(()=>{_t(D,R.showClass.popup),D.style.removeProperty("opacity")},10),_t([document.documentElement,document.body],U.shown),R.heightAuto&&R.backdrop&&!R.toast&&_t([document.documentElement,document.body],U["height-auto"])};var vs={email:(E,D)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(E)?Promise.resolve():Promise.resolve(D||"Invalid email address"),url:(E,D)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(E)?Promise.resolve():Promise.resolve(D||"Invalid URL")};function Jo(E){(function Va(E){E.inputValidator||("email"===E.input&&(E.inputValidator=vs.email),"url"===E.input&&(E.inputValidator=vs.url))})(E),E.showLoaderOnConfirm&&!E.preConfirm&&G("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Ht(E){(!E.target||"string"==typeof E.target&&!document.querySelector(E.target)||"string"!=typeof E.target&&!E.target.appendChild)&&(G('Target parameter is not valid, defaulting to "body"'),E.target="body")}(E),"string"==typeof E.title&&(E.title=E.title.split("\n").join("<br />")),J(E)}let Or;class Jt{constructor(){if(typeof window>"u")return;Or=this;for(var D=arguments.length,R=new Array(D),B=0;B<D;B++)R[B]=arguments[B];const Ee=Object.freeze(this.constructor.argsToParams(R));this.params=Ee,this.isAwaitingPromise=!1;const dt=Or._main(Or.params);L.promise.set(this,dt)}_main(D){let R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(E=>{!1===E.backdrop&&E.allowOutsideClick&&G('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const D in E)bu(D),E.toast&&al(D),ul(D)})(Object.assign({},R,D)),k.currentInstance&&(k.currentInstance._destroy(),ut()&&Rn()),k.currentInstance=Or;const B=yo(D,R);Jo(B),Object.freeze(B),k.timeout&&(k.timeout.stop(),delete k.timeout),clearTimeout(k.restoreFocusTimeout);const Ee=ns(Or);return oo(Or,B),L.innerParams.set(Or,B),js(Or,Ee,B)}then(D){return L.promise.get(this).then(D)}finally(D){return L.promise.get(this).finally(D)}}const js=(E,D,R)=>new Promise((B,Ee)=>{const dt=Ge=>{E.close({isDismissed:!0,dismiss:Ge})};xt.swalPromiseResolve.set(E,B),xt.swalPromiseReject.set(E,Ee),D.confirmButton.onclick=()=>{(E=>{const D=L.innerParams.get(E);E.disableButtons(),D.input?ei(E,"confirm"):Wo(E,!0)})(E)},D.denyButton.onclick=()=>{(E=>{const D=L.innerParams.get(E);E.disableButtons(),D.returnInputValueOnDeny?ei(E,"deny"):Ni(E,!1)})(E)},D.cancelButton.onclick=()=>{((E,D)=>{E.disableButtons(),D(Ls.cancel)})(E,dt)},D.closeButton.onclick=()=>{dt(Ls.close)},((E,D,R)=>{L.innerParams.get(E).toast?Iu(E,D,R):(Cu(D),dl(D),Cd(E,D,R))})(E,D,dt),((E,D,R,B)=>{uo(D),R.toast||(D.keydownHandler=Ee=>mu(E,Ee,B),D.keydownTarget=R.keydownListenerCapture?window:te(),D.keydownListenerCapture=R.keydownListenerCapture,D.keydownTarget.addEventListener("keydown",D.keydownHandler,{capture:D.keydownListenerCapture}),D.keydownHandlerAdded=!0)})(E,k,R,dt),((E,D)=>{"select"===D.input||"radio"===D.input?Ji(E,D):["text","email","number","tel","textarea"].includes(D.input)&&(Ze(D.inputValue)||ot(D.inputValue))&&(Dr(nn()),Jr(E,D))})(E,R),af(R),nr(k,R,dt),ml(D,R),setTimeout(()=>{D.container.scrollTop=0})}),yo=(E,D)=>{const R=(E=>{const D="string"==typeof E.template?document.querySelector(E.template):E.template;if(!D)return{};const R=D.content;return sf(R),Object.assign(Sd(R),_c(R),Tu(R),Td(R),Au(R),gl(R),Ad(R,vc))})(E),B=Object.assign({},ys,D,R,E);return B.showClass=Object.assign({},ys.showClass,B.showClass),B.hideClass=Object.assign({},ys.hideClass,B.hideClass),B},ns=E=>{const D={popup:te(),container:Xe(),actions:le(),confirmButton:nn(),denyButton:fn(),cancelButton:hn(),loader:xr(),closeButton:_e(),validationMessage:Wt(),progressSteps:Pt()};return L.domCache.set(E,D),D},nr=(E,D,R)=>{const B=ve();mn(B),D.timer&&(E.timeout=new mo(()=>{R("timer"),delete E.timeout},D.timer),D.timerProgressBar&&(vn(B),Lt(B,D,"timerProgressBar"),setTimeout(()=>{E.timeout&&E.timeout.running&&er(D.timer)})))},ml=(E,D)=>{if(!D.toast){if(!Oe(D.allowEnterKey))return void xu();bc(E,D)||Aa(-1,1)}},bc=(E,D)=>D.focusDeny&&nt(E.denyButton)?(E.denyButton.focus(),!0):D.focusCancel&&nt(E.cancelButton)?(E.cancelButton.focus(),!0):!(!D.focusConfirm||!nt(E.confirmButton)||(E.confirmButton.focus(),0)),xu=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const E=new Date,D=localStorage.getItem("swal-initiation");D?(E.getTime()-Date.parse(D))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const R=document.createElement("audio");R.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",R.loop=!0,document.body.appendChild(R),setTimeout(()=>{R.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${E}`)}Jt.prototype.disableButtons=On,Jt.prototype.enableButtons=lr,Jt.prototype.getInput=Ko,Jt.prototype.disableInput=Zo,Jt.prototype.enableInput=vu,Jt.prototype.hideLoading=Nn,Jt.prototype.disableLoading=Nn,Jt.prototype.showValidationMessage=_u,Jt.prototype.resetValidationMessage=Ra,Jt.prototype.close=Un,Jt.prototype.closePopup=Un,Jt.prototype.closeModal=Un,Jt.prototype.closeToast=Un,Jt.prototype.rejectPromise=wn,Jt.prototype.update=Eu,Jt.prototype._destroy=ho,Object.assign(Jt,pl),Object.keys(yc).forEach(E=>{Jt[E]=function(){return Or&&Or[E]?Or[E](...arguments):null}}),Jt.DismissReason=Ls,Jt.version="11.7.20";const ii=Jt;return ii.default=ii,ii}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(Te,k){var f=Te.createElement("style");if(Te.getElementsByTagName("head")[0].appendChild(f),f.styleSheet)f.styleSheet.disabled||(f.styleSheet.cssText=k);else try{f.innerHTML=k}catch{f.innerText=k}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},5879:(ht,Te,k)=>{"use strict";k.d(Te,{$8M:()=>xc,$WT:()=>Qi,$Z:()=>IE,AFp:()=>Ff,AaK:()=>ie,CHM:()=>vl,CRH:()=>dd,EJc:()=>JM,EpF:()=>N_,F4k:()=>bI,FYo:()=>Rm,FiY:()=>qd,GfV:()=>qf,Gpc:()=>Ke,HDt:()=>pD,JOm:()=>Ks,KtG:()=>Pu,LFG:()=>$e,LSH:()=>wm,Lbi:()=>dh,Lck:()=>Rp,MMx:()=>wC,NdJ:()=>Fr,Ojb:()=>Sm,OlP:()=>Dn,Oqu:()=>HI,P3R:()=>qv,PXZ:()=>Xu,Q6J:()=>yI,QGY:()=>O_,QbO:()=>Wv,Qsj:()=>IT,R0b:()=>us,RDi:()=>kb,Rgc:()=>ld,SBq:()=>Gf,Sil:()=>uO,Suo:()=>Pw,TTD:()=>gl,TgZ:()=>x_,VuI:()=>Yp,X6Q:()=>MD,XFs:()=>Ye,Xpm:()=>lo,Xq5:()=>YE,Xts:()=>Hc,Y36:()=>Yf,YKP:()=>xp,YNc:()=>fI,Yjl:()=>pc,Yz7:()=>wt,Z0I:()=>cn,ZZ4:()=>Zp,_Bn:()=>wy,_UZ:()=>P_,_c5:()=>wx,_uU:()=>z_,aQg:()=>n0,c2e:()=>Vw,cJS:()=>xn,cg1:()=>vp,dDg:()=>ax,dqk:()=>pn,eFA:()=>Fy,eJc:()=>Nw,ekj:()=>pp,eoX:()=>bD,f3M:()=>At,g9A:()=>Vf,h0i:()=>Po,hGG:()=>r0,iGM:()=>WC,ifc:()=>mr,ip1:()=>XM,jDz:()=>bC,kL8:()=>J_,lG2:()=>yu,lqb:()=>tu,lri:()=>_D,n5z:()=>Eo,oAB:()=>mu,oxw:()=>CI,q4F:()=>hE,qFp:()=>$y,qLn:()=>ql,qOj:()=>y_,qZA:()=>R_,rWj:()=>wD,rg0:()=>_c,s9C:()=>k_,sBO:()=>RD,s_b:()=>ec,soG:()=>kh,tb:()=>ky,tp0:()=>is,uIk:()=>b_,vHH:()=>se,vpe:()=>Qu,wAp:()=>St,xp6:()=>vE,z2F:()=>eo,zSh:()=>zc,zs3:()=>Wc});var f=k(8645),ne=k(7394),L=k(5619),ae=k(5592),ue=k(3019),U=k(2096),be=k(3020),Ae=k(4664),he=k(3997);function q(i){for(let o in i)if(i[o]===q)return o;throw Error("Could not find renamed property on target object.")}function G(i,o){for(const a in o)o.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=o[a])}function ie(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ie).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function Be(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const Pe=q({__forward_ref__:q});function Ke(i){return i.__forward_ref__=Ke,i.toString=function(){return ie(this())},i}function Oe(i){return Ze(i)?i():i}function Ze(i){return"function"==typeof i&&i.hasOwnProperty(Pe)&&i.__forward_ref__===Ke}function Ne(i){return i&&!!i.\u0275providers}const Xe="https://g.co/ng/security#xss";class se extends Error{constructor(o,a){super(function ye(i,o){return`NG0${Math.abs(i)}${o?": "+o:""}`}(o,a)),this.code=o}}function te(i){return"string"==typeof i?i:null==i?"":String(i)}function De(i,o){throw new se(-201,!1)}function ut(i,o){null==i&&function qe(i,o,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${o} <=Actual]`))}(o,i,null,"!=")}function wt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function xn(i){return{providers:i.providers||[],imports:i.imports||[]}}function Xn(i){return _t(i,Jn)||_t(i,mn)}function cn(i){return null!==Xn(i)}function _t(i,o){return i.hasOwnProperty(o)?i[o]:null}function zn(i){return i&&(i.hasOwnProperty(vn)||i.hasOwnProperty(fi))?i[vn]:null}const Jn=q({\u0275prov:q}),vn=q({\u0275inj:q}),mn=q({ngInjectableDef:q}),fi=q({ngInjectorDef:q});var Ye=(()=>((Ye=Ye||{})[Ye.Default=0]="Default",Ye[Ye.Host=1]="Host",Ye[Ye.Self=2]="Self",Ye[Ye.SkipSelf=4]="SkipSelf",Ye[Ye.Optional=8]="Optional",Ye))();let nt;function $n(i){const o=nt;return nt=i,o}function pi(i,o,a){const l=Xn(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&Ye.Optional?null:void 0!==o?o:void De(ie(i))}const pn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),gr={},an="__NG_DI_FLAG__",Yr="ngTempTokenPath",Lo=/\n/gm,Z="__source";let z;function W(i){const o=z;return z=i,o}function ke(i,o=Ye.Default){if(void 0===z)throw new se(-203,!1);return null===z?pi(i,void 0,o):z.get(i,o&Ye.Optional?null:void 0,o)}function $e(i,o=Ye.Default){return(function Tt(){return nt}()||ke)(Oe(i),o)}function At(i,o=Ye.Default){return $e(i,dn(o))}function dn(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function tr(i){const o=[];for(let a=0;a<i.length;a++){const l=Oe(i[a]);if(Array.isArray(l)){if(0===l.length)throw new se(900,!1);let d,p=Ye.Default;for(let y=0;y<l.length;y++){const b=l[y],C=Ur(b);"number"==typeof C?-1===C?d=b.token:p|=C:d=b}o.push($e(d,p))}else o.push($e(l))}return o}function Kt(i,o){return i[an]=o,i.prototype[an]=o,i}function Ur(i){return i[an]}function Ir(i){return{toString:i}.toString()}var Cr=(()=>((Cr=Cr||{})[Cr.OnPush=0]="OnPush",Cr[Cr.Default=1]="Default",Cr))(),mr=(()=>{return(i=mr||(mr={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",mr;var i})();const gi={},Qt=[],Xr=q({\u0275cmp:q}),so=q({\u0275dir:q}),hs=q({\u0275pipe:q}),Da=q({\u0275mod:q}),Vn=q({\u0275fac:q}),Vo=q({__NG_ELEMENT_ID__:q}),Os=q({__NG_ENV_ID__:q});function fu(i,o,a){let l=i.length;for(;;){const d=i.indexOf(o,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const p=o.length;if(d+p===l||i.charCodeAt(d+p)<=32)return d}a=d+1}}function Sa(i,o,a){let l=0;for(;l<a.length;){const d=a[l];if("number"==typeof d){if(0!==d)break;l++;const p=a[l++],y=a[l++],b=a[l++];i.setAttribute(o,y,b,p)}else{const p=d,y=a[++l];Uo(p)?i.setProperty(o,p,y):i.setAttribute(o,p,y),l++}}return l}function Kn(i){return 3===i||4===i||6===i}function Uo(i){return 64===i.charCodeAt(0)}function ks(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let a=-1;for(let l=0;l<o.length;l++){const d=o[l];"number"==typeof d?a=d:0===a||Fs(i,a,d,null,-1===a||2===a?o[++l]:null)}}return i}function Fs(i,o,a,l,d){let p=0,y=i.length;if(-1===o)y=-1;else for(;p<i.length;){const b=i[p++];if("number"==typeof b){if(b===o){y=-1;break}if(b>o){y=p-1;break}}}for(;p<i.length;){const b=i[p];if("number"==typeof b)break;if(b===a){if(null===l)return void(null!==d&&(i[p+1]=d));if(l===i[p+1])return void(i[p+2]=d)}p++,null!==l&&p++,null!==d&&p++}-1!==y&&(i.splice(y,0,o),p=y+1),i.splice(p++,0,a),null!==l&&i.splice(p++,0,l),null!==d&&i.splice(p++,0,d)}const pu="ng-template";function el(i,o,a){let l=0,d=!0;for(;l<i.length;){let p=i[l++];if("string"==typeof p&&d){const y=i[l++];if(a&&"class"===p&&-1!==fu(y.toLowerCase(),o,0))return!0}else{if(1===p){for(;l<i.length&&"string"==typeof(p=i[l++]);)if(p.toLowerCase()===o)return!0;return!1}"number"==typeof p&&(d=!1)}}return!1}function gu(i){return 4===i.type&&i.value!==pu}function fs(i,o,a){return o===(4!==i.type||a?i.value:pu)}function yr(i,o,a){let l=4;const d=i.attrs||[],p=function oo(i){for(let o=0;o<i.length;o++)if(Kn(i[o]))return o;return i.length}(d);let y=!1;for(let b=0;b<o.length;b++){const C=o[b];if("number"!=typeof C){if(!y)if(4&l){if(l=2|1&l,""!==C&&!fs(i,C,a)||""===C&&1===o.length){if(Rr(l))return!1;y=!0}}else{const M=8&l?C:o[++b];if(8&l&&null!==i.attrs){if(!el(i.attrs,M,a)){if(Rr(l))return!1;y=!0}continue}const V=tl(8&l?"class":C,d,gu(i),a);if(-1===V){if(Rr(l))return!1;y=!0;continue}if(""!==M){let ee;ee=V>p?"":d[V+1].toLowerCase();const oe=8&l?ee:null;if(oe&&-1!==fu(oe,M,0)||2&l&&M!==ee){if(Rr(l))return!1;y=!0}}}}else{if(!y&&!Rr(l)&&!Rr(C))return!1;if(y&&Rr(C))continue;y=!1,l=C|1&l}}return Rr(l)||y}function Rr(i){return 0==(1&i)}function tl(i,o,a,l){if(null===o)return-1;let d=0;if(l||!a){let p=!1;for(;d<o.length;){const y=o[d];if(y===i)return d;if(3===y||6===y)p=!0;else{if(1===y||2===y){let b=o[++d];for(;"string"==typeof b;)b=o[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=p?1:2}return-1}return function Ta(i,o){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===o)return a;a++}return-1}(o,i)}function Bo(i,o,a=!1){for(let l=0;l<o.length;l++)if(yr(i,o[l],a))return!0;return!1}function ao(i,o){return i?":not("+o.trim()+")":o}function jo(i){let o=i[0],a=1,l=2,d="",p=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&l){const b=i[++a];d+="["+y+(b.length>0?'="'+b+'"':"")+"]"}else 8&l?d+="."+y:4&l&&(d+=" "+y);else""!==d&&!Rr(y)&&(o+=ao(p,d),d=""),l=y,p=p||!Rr(l);a++}return""!==d&&(o+=ao(p,d)),o}function lo(i){return Ir(()=>{const o=mi(i),a={...o,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===Cr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||mr.Emulated,styles:i.styles||Qt,_:null,schemas:i.schemas||null,tView:null,id:""};il(a);const l=i.dependencies;return a.directiveDefs=co(l,!1),a.pipeDefs=co(l,!0),a.id=function Xi(i){let o=0;const a=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const d of a)o=Math.imul(31,o)+d.charCodeAt(0)<<0;return o+=2147483648,"c"+o}(a),a})}function hc(i){return xt(i)||Gn(i)}function fc(i){return null!==i}function mu(i){return Ir(()=>({type:i.type,bootstrap:i.bootstrap||Qt,declarations:i.declarations||Qt,imports:i.imports||Qt,exports:i.exports||Qt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Id(i,o){if(null==i)return gi;const a={};for(const l in i)if(i.hasOwnProperty(l)){let d=i[l],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),a[d]=l,o&&(o[d]=p)}return a}function yu(i){return Ir(()=>{const o=mi(i);return il(o),o})}function pc(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function xt(i){return i[Xr]||null}function Gn(i){return i[so]||null}function Rn(i){return i[hs]||null}function Qi(i){const o=xt(i)||Gn(i)||Rn(i);return null!==o&&o.standalone}function Br(i,o){const a=i[Da]||null;if(!a&&!0===o)throw new Error(`Type ${ie(i)} does not have '\u0275mod' property.`);return a}function mi(i){const o={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputTransforms:null,inputConfig:i.inputs||gi,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||Qt,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Id(i.inputs,o),outputs:Id(i.outputs)}}function il(i){i.features?.forEach(o=>o(i))}function co(i,o){if(!i)return null;const a=o?Rn:hc;return()=>("function"==typeof i?i():i).map(l=>a(l)).filter(fc)}const Zn=0,Qe=1,Ot=2,Pn=3,Pr=4,yi=5,Un=6,ps=7,wn=8,vi=9,Pi=10,bt=11,_i=12,gs=13,Dr=14,An=15,Ho=16,zo=17,Nr=18,jr=19,$r=20,Ji=21,Jr=22,Go=23,Hn=24,Yt=25,xa=1,qo=2,ei=7,Ni=9,qn=11;function Nn(i){return Array.isArray(i)&&"object"==typeof i[xa]}function ur(i){return Array.isArray(i)&&!0===i[xa]}function Ko(i){return 0!=(4&i.flags)}function ni(i){return i.componentOffset>-1}function ms(i){return 1==(1&i.flags)}function lr(i){return!!i.template}function On(i){return 0!=(512&i[Ot])}function Vs(i,o){return i.hasOwnProperty(Vn)?i[Vn]:null}let Cd=pn.WeakRef??class dl{constructor(o){this.ref=o}deref(){return this.ref}},Qo=0,ri=null,fo=!1;function Bn(i){const o=ri;return ri=i,o}class ts{constructor(){this.id=Qo++,this.ref=function Fa(i){return new Cd(i)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[o,a]of this.producers){const l=a.producerNode.deref();if(null!=l&&a.atTrackingVersion===this.trackingVersion){if(l.producerPollStatus(a.seenValueVersion))return!0}else this.producers.delete(o),l?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const o=fo;fo=!0;try{for(const[a,l]of this.consumers){const d=l.consumerNode.deref();null!=d&&d.trackingVersion===l.atTrackingVersion?d.onConsumerDependencyMayHaveChanged():(this.consumers.delete(a),d?.producers.delete(this.id))}}finally{fo=o}}producerAccessed(){if(fo)throw new Error("");if(null===ri)return;let o=ri.producers.get(this.id);void 0===o?(o={consumerNode:ri.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:ri.trackingVersion},ri.producers.set(this.id,o),this.consumers.set(ri.id,o)):(o.seenValueVersion=this.valueVersion,o.atTrackingVersion=ri.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==ri?.consumerAllowSignalWrites}producerPollStatus(o){return this.valueVersion!==o||(this.onProducerUpdateValueVersion(),this.valueVersion!==o)}}let fl=null;function _c(i){const o=Bn(null);try{return i()}finally{Bn(o)}}const Tu=()=>{};class Td extends ts{constructor(o,a,l){super(),this.watch=o,this.schedule=a,this.dirty=!1,this.cleanupFn=Tu,this.registerOnCleanup=d=>{this.cleanupFn=d},this.consumerAllowSignalWrites=l}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const o=Bn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Tu,this.watch(this.registerOnCleanup)}finally{Bn(o)}}cleanup(){this.cleanupFn()}}class Au{constructor(o,a,l){this.previousValue=o,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function gl(){return Ad}function Ad(i){return i.type.prototype.ngOnChanges&&(i.setInput=Bs),sf}function sf(){const i=af(this),o=i?.current;if(o){const a=i.previous;if(a===gi)i.previous=o;else for(let l in o)a[l]=o[l];i.current=null,this.ngOnChanges(o)}}function Bs(i,o,a,l){const d=this.declaredInputs[a],p=af(i)||function Mu(i,o){return i[Md]=o}(i,{previous:gi,current:null}),y=p.current||(p.current={}),b=p.previous,C=b[d];y[d]=new Au(C&&C.currentValue,o,b===gi),i[l]=o}gl.ngInherit=!0;const Md="__ngSimpleChanges__";function af(i){return i[Md]||null}const wi=function(i,o,a){};function Ht(i){for(;Array.isArray(i);)i=i[Zn];return i}function Or(i,o){return Ht(o[i])}function Jt(i,o){return Ht(o[i.index])}function yo(i,o){return i.data[o]}function nr(i,o){const a=o[i];return Nn(a)?a:a[Zn]}function ii(i,o){return null==o?null:i[o]}function E(i){i[zo]=0}function D(i){1024&i[Ot]||(i[Ot]|=1024,B(i,1))}function R(i){1024&i[Ot]&&(i[Ot]&=-1025,B(i,-1))}function B(i,o){let a=i[Pn];if(null===a)return;a[yi]+=o;let l=a;for(a=a[Pn];null!==a&&(1===o&&1===l[yi]||-1===o&&0===l[yi]);)a[yi]+=o,l=a,a=a[Pn]}const Ge={lFrame:Nd(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ru(){return Ge.bindingsEnabled}function xe(){return Ge.lFrame.lView}function en(){return Ge.lFrame.tView}function vl(i){return Ge.lFrame.contextLView=i,i[wn]}function Pu(i){return Ge.lFrame.contextLView=null,i}function rr(){let i=_l();for(;null!==i&&64===i.type;)i=i.parent;return i}function _l(){return Ge.lFrame.currentTNode}function bi(i,o){const a=Ge.lFrame;a.currentTNode=i,a.isParent=o}function wl(){return Ge.lFrame.isParent}function $s(){return Ge.lFrame.bindingIndex++}function cf(i,o){const a=Ge.lFrame;a.bindingIndex=a.bindingRootIndex=i,ra(o)}function ra(i){Ge.lFrame.currentDirectiveIndex=i}function Cc(){return Ge.lFrame.currentQueryIndex}function bl(i){Ge.lFrame.currentQueryIndex=i}function zs(i){const o=i[Qe];return 2===o.type?o.declTNode:1===o.type?i[Un]:null}function Pd(i,o,a){if(a&Ye.SkipSelf){let d=o,p=i;for(;!(d=d.parent,null!==d||a&Ye.Host||(d=zs(p),null===d||(p=p[Dr],10&d.type))););if(null===d)return!1;o=d,i=p}const l=Ge.lFrame=Ba();return l.currentTNode=o,l.lView=i,!0}function Dc(i){const o=Ba(),a=i[Qe];Ge.lFrame=o,o.currentTNode=a.firstChild,o.lView=i,o.tView=a,o.contextLView=i,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Ba(){const i=Ge.lFrame,o=null===i?null:i.child;return null===o?Nd(i):o}function Nd(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function Ng(){const i=Ge.lFrame;return Ge.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const df=Ng;function hf(){const i=Ng();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Hr(){return Ge.lFrame.selectedIndex}function ia(i){Ge.lFrame.selectedIndex=i}function kn(){const i=Ge.lFrame;return yo(i.tView,i.selectedIndex)}let Fu=!0;function Fd(){return Fu}function Gs(i){Fu=i}function Es(i,o){for(let a=o.directiveStart,l=o.directiveEnd;a<l;a++){const p=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:b,ngAfterViewInit:C,ngAfterViewChecked:M,ngOnDestroy:O}=p;y&&(i.contentHooks??=[]).push(-a,y),b&&((i.contentHooks??=[]).push(a,b),(i.contentCheckHooks??=[]).push(a,b)),C&&(i.viewHooks??=[]).push(-a,C),M&&((i.viewHooks??=[]).push(a,M),(i.viewCheckHooks??=[]).push(a,M)),null!=O&&(i.destroyHooks??=[]).push(a,O)}}function Lu(i,o,a){Vu(i,o,3,a)}function Sc(i,o,a,l){(3&i[Ot])===a&&Vu(i,o,a,l)}function Il(i,o){let a=i[Ot];(3&a)===o&&(a&=8191,a+=1,i[Ot]=a)}function Vu(i,o,a,l){const p=l??-1,y=o.length-1;let b=0;for(let C=void 0!==l?65535&i[zo]:0;C<y;C++)if("number"==typeof o[C+1]){if(b=o[C],null!=l&&b>=l)break}else o[C]<0&&(i[zo]+=65536),(b<p||-1==p)&&(Oi(i,a,o,C),i[zo]=(4294901760&i[zo])+C+2),C++}function ja(i,o){wi(4,i,o);const a=Bn(null);try{o.call(i)}finally{Bn(a),wi(5,i,o)}}function Oi(i,o,a,l){const d=a[l]<0,p=a[l+1],b=i[d?-a[l]:a[l]];d?i[Ot]>>13<i[zo]>>16&&(3&i[Ot])===o&&(i[Ot]+=8192,ja(b,p)):ja(b,p)}const sa=-1;class $a{constructor(o,a,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function ff(i){return i!==sa}function Tc(i){return 32767&i}function Is(i,o){let a=function wo(i){return i>>16}(i),l=o;for(;a>0;)l=l[Dr],a--;return l}let ki=!0;function Ha(i){const o=ki;return ki=i,o}const Bu=255,Ac=5;let pf=0;const qs={};function A(i,o){const a=j(i,o);if(-1!==a)return a;const l=o[Qe];l.firstCreatePass&&(i.injectorIndex=o.length,N(l.data,i),N(o,null),N(l.blueprint,null));const d=re(i,o),p=i.injectorIndex;if(ff(d)){const y=Tc(d),b=Is(d,o),C=b[Qe].data;for(let M=0;M<8;M++)o[p+M]=b[y+M]|C[y+M]}return o[p+8]=d,p}function N(i,o){i.push(0,0,0,0,0,0,0,0,o)}function j(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function re(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,d=o;for(;null!==d;){if(l=Mc(d),null===l)return sa;if(a++,d=d[Dr],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return sa}function ce(i,o,a){!function S(i,o,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(Vo)&&(l=a[Vo]),null==l&&(l=a[Vo]=pf++);const d=l&Bu;o.data[i+(d>>Ac)]|=1<<d}(i,o,a)}function et(i,o,a){if(a&Ye.Optional||void 0!==i)return i;De()}function Et(i,o,a,l){if(a&Ye.Optional&&void 0===l&&(l=null),!(a&(Ye.Self|Ye.Host))){const d=i[vi],p=$n(void 0);try{return d?d.get(o,l,a&Ye.Optional):pi(o,l,a&Ye.Optional)}finally{$n(p)}}return et(l,0,a)}function kt(i,o,a,l=Ye.Default,d){if(null!==i){if(2048&o[Ot]&&!(l&Ye.Self)){const y=function Ga(i,o,a,l,d){let p=i,y=o;for(;null!==p&&null!==y&&2048&y[Ot]&&!(512&y[Ot]);){const b=zt(p,y,a,l|Ye.Self,qs);if(b!==qs)return b;let C=p.parent;if(!C){const M=y[$r];if(M){const O=M.get(a,qs,l);if(O!==qs)return O}C=Mc(y),y=y[Dr]}p=C}return d}(i,o,a,l,qs);if(y!==qs)return y}const p=zt(i,o,a,l,qs);if(p!==qs)return p}return Et(o,a,l,d)}function zt(i,o,a,l,d){const p=function ju(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(Vo)?i[Vo]:void 0;return"number"==typeof o?o>=0?o&Bu:Tl:o}(a);if("function"==typeof p){if(!Pd(o,i,l))return l&Ye.Host?et(d,0,l):Et(o,a,l,d);try{const y=p(l);if(null!=y||l&Ye.Optional)return y;De()}finally{df()}}else if("number"==typeof p){let y=null,b=j(i,o),C=sa,M=l&Ye.Host?o[An][Un]:null;for((-1===b||l&Ye.SkipSelf)&&(C=-1===b?re(i,o):o[b+8],C!==sa&&bo(l,!1)?(y=o[Qe],b=Tc(C),o=Is(C,o)):b=-1);-1!==b;){const O=o[Qe];if(oa(p,b,O.data)){const V=Ct(b,o,a,y,l,M);if(V!==qs)return V}C=o[b+8],C!==sa&&bo(l,o[Qe].data[b+8]===M)&&oa(p,b,o)?(y=O,b=Tc(C),o=Is(C,o)):b=-1}}return d}function Ct(i,o,a,l,d,p){const y=o[Qe],b=y.data[i+8],O=Yn(b,y,a,null==l?ni(b)&&ki:l!=y&&0!=(3&b.type),d&Ye.Host&&p===b);return null!==O?cr(o,y,O,b):qs}function Yn(i,o,a,l,d){const p=i.providerIndexes,y=o.data,b=1048575&p,C=i.directiveStart,O=p>>20,ee=d?b+O:i.directiveEnd;for(let oe=l?b:b+O;oe<ee;oe++){const Se=y[oe];if(oe<C&&a===Se||oe>=C&&Se.type===a)return oe}if(d){const oe=y[C];if(oe&&lr(oe)&&oe.type===a)return C}return null}function cr(i,o,a,l){let d=i[a];const p=o.data;if(function Cl(i){return i instanceof $a}(d)){const y=d;y.resolving&&function Le(i,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${i}`:"";throw new se(-200,`Circular dependency in DI detected for ${i}${a}`)}(function me(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():te(i)}(p[a]));const b=Ha(y.canSeeViewProviders);y.resolving=!0;const C=y.injectImpl?$n(y.injectImpl):null;Pd(i,l,Ye.Default);try{d=i[a]=y.factory(void 0,p,i,l),o.firstCreatePass&&a>=l.directiveStart&&function El(i,o,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:p}=o.type.prototype;if(l){const y=Ad(o);(a.preOrderHooks??=[]).push(i,y),(a.preOrderCheckHooks??=[]).push(i,y)}d&&(a.preOrderHooks??=[]).push(0-i,d),p&&((a.preOrderHooks??=[]).push(i,p),(a.preOrderCheckHooks??=[]).push(i,p))}(a,p[a],o)}finally{null!==C&&$n(C),Ha(b),y.resolving=!1,df()}}return d}function oa(i,o,a){return!!(a[o+(i>>Ac)]&1<<i)}function bo(i,o){return!(i&Ye.Self||i&Ye.Host&&o)}class za{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,l){return kt(this._tNode,this._lView,o,dn(l),a)}}function Tl(){return new za(rr(),xe())}function Eo(i){return Ir(()=>{const o=i.prototype.constructor,a=o[Vn]||Ws(o),l=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==l;){const p=d[Vn]||Ws(d);if(p&&p!==a)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function Ws(i){return Ze(i)?()=>{const o=Ws(Oe(i));return o&&o()}:Vs(i)}function Mc(i){const o=i[Qe],a=o.type;return 2===a?o.declTNode:1===a?i[Un]:null}function xc(i){return function Fe(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const a=i.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const p=a[d];if(Kn(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(p===o)return a[d+1];d+=2}}}return null}(rr(),i)}const Ml="__parameters__";function Rl(i,o,a){return Ir(()=>{const l=function xl(i){return function(...a){if(i){const l=i(...a);for(const d in l)this[d]=l[d]}}}(o);function d(...p){if(this instanceof d)return l.apply(this,p),this;const y=new d(...p);return b.annotation=y,b;function b(C,M,O){const V=C.hasOwnProperty(Ml)?C[Ml]:Object.defineProperty(C,Ml,{value:[]})[Ml];for(;V.length<=O;)V.push(null);return(V[O]=V[O]||[]).push(y),C}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}function Bd(i,o){i.forEach(a=>Array.isArray(a)?Bd(a,o):o(a))}function zg(i,o,a){o>=i.length?i.push(a):i.splice(o,0,a)}function zu(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}function si(i,o,a){let l=aa(i,o);return l>=0?i[1|l]=a:(l=~l,function jd(i,o,a,l){let d=i.length;if(d==o)i.push(a,l);else if(1===d)i.push(l,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>o;)i[d]=i[d-2],d--;i[o]=a,i[o+1]=l}}(i,l,o,a)),l}function gf(i,o){const a=aa(i,o);if(a>=0)return i[1|a]}function aa(i,o){return function Rc(i,o,a){let l=0,d=i.length>>a;for(;d!==l;){const p=l+(d-l>>1),y=i[p<<a];if(o===y)return p<<a;y>o?d=p:l=p+1}return~(d<<a)}(i,o,1)}const qd=Kt(Rl("Optional"),8),is=Kt(Rl("SkipSelf"),4);function Fl(i){return 128==(128&i.flags)}var Ks=(()=>((Ks=Ks||{})[Ks.Important=1]="Important",Ks[Ks.DashCase=2]="DashCase",Ks))();const Ll=new Map;let Mv=0;const Vl="__ngContext__";function Gr(i,o){Nn(o)?(i[Vl]=o[jr],function Li(i){Ll.set(i[jr],i)}(o)):i[Vl]=o}let X;function pe(i,o){return X(i,o)}function st(i){const o=i[Pn];return ur(o)?o[Pn]:o}function hr(i){return Ii(i[_i])}function Ss(i){return Ii(i[Pr])}function Ii(i){for(;null!==i&&!ur(i);)i=i[Pr];return i}function ca(i,o,a,l,d){if(null!=l){let p,y=!1;ur(l)?p=l:Nn(l)&&(y=!0,l=l[Zn]);const b=Ht(l);0===i&&null!==a?null==d?Tf(o,a,b):$l(o,a,b,d||null,!0):1===i&&null!==a?$l(o,a,b,d||null,!0):2===i?function pm(i,o,a){const l=hm(i,o);l&&function YS(i,o,a,l){i.removeChild(o,a,l)}(i,l,o,a)}(o,b,y):3===i&&o.destroyNode(b),null!=p&&function Rb(i,o,a,l,d){const p=a[ei];p!==Ht(a)&&ca(o,i,l,p,d);for(let b=qn;b<a.length;b++){const C=a[b];Af(C[Qe],C,i,o,l,p)}}(o,i,p,a,d)}}function Bl(i,o,a){return i.createElement(o,a)}function Sf(i,o){const a=i[Ni],l=a.indexOf(o);R(o),a.splice(l,1)}function cm(i,o){if(i.length<=qn)return;const a=qn+o,l=i[a];if(l){const d=l[Ho];null!==d&&d!==i&&Sf(d,l),o>0&&(i[a-1][Pr]=l[Pr]);const p=zu(i,qn+o);!function th(i,o){Af(i,o,o[bt],2,null,null),o[Zn]=null,o[Un]=null}(l[Qe],l);const y=p[Nr];null!==y&&y.detachView(p[Qe]),l[Pn]=null,l[Pr]=null,l[Ot]&=-129}return l}function Zs(i,o){if(!(256&o[Ot])){const a=o[bt];o[Go]?.destroy(),o[Hn]?.destroy(),a.destroyNode&&Af(i,o,a,3,null,null),function Vc(i){let o=i[_i];if(!o)return jl(i[Qe],i);for(;o;){let a=null;if(Nn(o))a=o[_i];else{const l=o[qn];l&&(a=l)}if(!a){for(;o&&!o[Pr]&&o!==i;)Nn(o)&&jl(o[Qe],o),o=o[Pn];null===o&&(o=i),Nn(o)&&jl(o[Qe],o),a=o&&o[Pr]}o=a}}(o)}}function jl(i,o){if(!(256&o[Ot])){o[Ot]&=-129,o[Ot]|=256,function ZS(i,o){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const d=o[a[l]];if(!(d instanceof $a)){const p=a[l+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const b=d[p[y]],C=p[y+1];wi(4,b,C);try{C.call(b)}finally{wi(5,b,C)}}else{wi(4,d,p);try{p.call(d)}finally{wi(5,d,p)}}}}}(i,o),function KS(i,o){const a=i.cleanup,l=o[ps];if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const y=a[p+3];y>=0?l[y]():l[-y].unsubscribe(),p+=2}else a[p].call(l[a[p+1]]);null!==l&&(o[ps]=null);const d=o[Ji];if(null!==d){o[Ji]=null;for(let p=0;p<d.length;p++)(0,d[p])()}}(i,o),1===o[Qe].type&&o[bt].destroy();const a=o[Ho];if(null!==a&&ur(o[Pn])){a!==o[Pn]&&Sf(a,o);const l=o[Nr];null!==l&&l.detachView(i)}!function Fc(i){Ll.delete(i[jr])}(o)}}function dm(i,o,a){return function bb(i,o,a){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return a[Zn];{const{componentOffset:d}=l;if(d>-1){const{encapsulation:p}=i.data[l.directiveStart+d];if(p===mr.None||p===mr.Emulated)return null}return Jt(l,a)}}(i,o.parent,a)}function $l(i,o,a,l,d){i.insertBefore(o,a,l,d)}function Tf(i,o,a){i.appendChild(o,a)}function Eb(i,o,a,l,d){null!==l?$l(i,o,a,l,d):Tf(i,o,a)}function hm(i,o){return i.parentNode(o)}let Pv,Lv,ih,Tb=function Sb(i,o,a){return 40&i.type?Jt(i,a):null};function Uc(i,o,a,l){const d=dm(i,l,o),p=o[bt],b=function Db(i,o,a){return Tb(i,o,a)}(l.parent||o[Un],l,o);if(null!=d)if(Array.isArray(a))for(let C=0;C<a.length;C++)Eb(p,d,a[C],b,!1);else Eb(p,d,a,b,!1);void 0!==Pv&&Pv(p,l,o,a,d)}function rh(i,o){if(null!==o){const a=o.type;if(3&a)return Jt(o,i);if(4&a)return fm(-1,i[o.index]);if(8&a){const l=o.child;if(null!==l)return rh(i,l);{const d=i[o.index];return ur(d)?fm(-1,d):Ht(d)}}if(32&a)return pe(o,i)()||Ht(i[o.index]);{const l=Ab(i,o);return null!==l?Array.isArray(l)?l[0]:rh(st(i[An]),l):rh(i,o.next)}}return null}function Ab(i,o){return null!==o?i[An][Un].projection[o.projection]:null}function fm(i,o){const a=qn+i+1;if(a<o.length){const l=o[a],d=l[Qe].firstChild;if(null!==d)return rh(l,d)}return o[ei]}function Ov(i,o,a,l,d,p,y){for(;null!=a;){const b=l[a.index],C=a.type;if(y&&0===o&&(b&&Gr(Ht(b),l),a.flags|=2),32!=(32&a.flags))if(8&C)Ov(i,o,a.child,l,d,p,!1),ca(o,i,d,b,p);else if(32&C){const M=pe(a,l);let O;for(;O=M();)ca(o,i,d,O,p);ca(o,i,d,b,p)}else 16&C?xb(i,o,l,a,d,p):ca(o,i,d,b,p);a=y?a.projectionNext:a.next}}function Af(i,o,a,l,d,p){Ov(a,l,i.firstChild,o,d,p,!1)}function xb(i,o,a,l,d,p){const y=a[An],C=y[Un].projection[l.projection];if(Array.isArray(C))for(let M=0;M<C.length;M++)ca(o,i,d,C[M],p);else{let M=C;const O=y[Pn];Fl(l)&&(M.flags|=128),Ov(i,o,M,O,d,p,!0)}}function Nb(i,o,a){""===a?i.removeAttribute(o,"class"):i.setAttribute(o,"class",a)}function XS(i,o,a){const{mergedAttrs:l,classes:d,styles:p}=a;null!==l&&Sa(i,o,l),null!==d&&Nb(i,o,d),null!==p&&function Pb(i,o,a){i.setAttribute(o,"style",a)}(i,o,p)}function kb(i){Lv=i}function Fb(i){return function Bc(){if(void 0===ih&&(ih=null,pn.trustedTypes))try{ih=pn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return ih}()?.createScriptURL(i)||i}class Lb{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Xe})`}}function Ci(i){return i instanceof Lb?i.changingThisBreaksApplicationSecurity:i}function xf(i,o){const a=function jb(i){return i instanceof Lb&&i.getTypeName()||null}(i);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${Xe})`)}return a===o}const Rf=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var fr=(()=>((fr=fr||{})[fr.NONE=0]="NONE",fr[fr.HTML=1]="HTML",fr[fr.STYLE=2]="STYLE",fr[fr.SCRIPT=3]="SCRIPT",fr[fr.URL=4]="URL",fr[fr.RESOURCE_URL=5]="RESOURCE_URL",fr))();function wm(i){const o=Gl();return o?o.sanitize(fr.URL,i)||"":xf(i,"URL")?Ci(i):function gm(i){return(i=String(i)).match(Rf)?i:"unsafe:"+i}(te(i))}function Ui(i){const o=Gl();if(o)return Fb(o.sanitize(fr.RESOURCE_URL,i)||"");if(xf(i,"ResourceURL"))return Fb(Ci(i));throw new se(904,!1)}function qv(i,o,a){return function nN(i,o){return"src"===o&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===o&&("base"===i||"link"===i)?Ui:wm}(o,a)(i)}function Gl(){const i=xe();return i&&i[Pi].sanitizer}class Dn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=wt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Hc=new Dn("ENVIRONMENT_INITIALIZER"),Qb=new Dn("INJECTOR",-1),uT=new Dn("INJECTOR_DEF_TYPES");class lT{get(o,a=gr){if(a===gr){const l=new Error(`NullInjectorError: No provider for ${ie(o)}!`);throw l.name="NullInjectorError",l}return a}}function rN(...i){return{\u0275providers:dT(0,i),\u0275fromNgModule:!0}}function dT(i,...o){const a=[],l=new Set;let d;return Bd(o,p=>{const y=p;Xb(y,a,[],l)&&(d||=[],d.push(y))}),void 0!==d&&hT(d,a),a}function hT(i,o){for(let a=0;a<i.length;a++){const{providers:d}=i[a];bm(d,p=>{o.push(p)})}}function Xb(i,o,a,l){if(!(i=Oe(i)))return!1;let d=null,p=zn(i);const y=!p&&xt(i);if(p||y){if(y&&!y.standalone)return!1;d=i}else{const C=i.ngModule;if(p=zn(C),!p)return!1;d=C}const b=l.has(d);if(y){if(b)return!1;if(l.add(d),y.dependencies){const C="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const M of C)Xb(M,o,a,l)}}else{if(!p)return!1;{if(null!=p.imports&&!b){let M;l.add(d);try{Bd(p.imports,O=>{Xb(O,o,a,l)&&(M||=[],M.push(O))})}finally{}void 0!==M&&hT(M,o)}if(!b){const M=Vs(d)||(()=>new d);o.push({provide:d,useFactory:M,deps:Qt},{provide:uT,useValue:d,multi:!0},{provide:Hc,useValue:()=>$e(d),multi:!0})}const C=p.providers;null==C||b||bm(C,O=>{o.push(O)})}}return d!==i&&void 0!==i.providers}function bm(i,o){for(let a of i)Ne(a)&&(a=a.\u0275providers),Array.isArray(a)?bm(a,o):o(a)}const sN=q({provide:String,useValue:q});function Jb(i){return null!==i&&"object"==typeof i&&sN in i}function eu(i){return"function"==typeof i}const zc=new Dn("Set Injector scope."),uh={},pT={};let Nf;function Em(){return void 0===Nf&&(Nf=new lT),Nf}class tu{}class Im extends tu{get destroyed(){return this._destroyed}constructor(o,a,l,d){super(),this.parent=a,this.source=l,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ch(o,y=>this.processProvider(y)),this.records.set(Qb,kf(void 0,this)),d.has("environment")&&this.records.set(tu,kf(void 0,this));const p=this.records.get(zc);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(uT.multi,Qt,Ye.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of o)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const a=W(this),l=$n(void 0);try{return o()}finally{W(a),$n(l)}}get(o,a=gr,l=Ye.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(Os))return o[Os](this);l=dn(l);const d=W(this),p=$n(void 0);try{if(!(l&Ye.SkipSelf)){let b=this.records.get(o);if(void 0===b){const C=function lh(i){return"function"==typeof i||"object"==typeof i&&i instanceof Dn}(o)&&Xn(o);b=C&&this.injectableDefInScope(C)?kf(Cm(o),uh):null,this.records.set(o,b)}if(null!=b)return this.hydrate(o,b)}return(l&Ye.Self?Em():this.parent).get(o,a=l&Ye.Optional&&a===gr?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[Yr]=y[Yr]||[]).unshift(ie(o)),d)throw y;return function Yi(i,o,a,l){const d=i[Yr];throw o[Z]&&d.unshift(o[Z]),i.message=function io(i,o,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let d=ie(o);if(Array.isArray(o))d=o.map(ie).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let b=o[y];p.push(y+":"+("string"==typeof b?JSON.stringify(b):ie(b)))}d=`{${p.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${i.replace(Lo,"\n  ")}`}("\n"+i.message,d,a,l),i.ngTokenPath=d,i[Yr]=null,i}(y,o,"R3InjectorError",this.source)}throw y}finally{$n(p),W(d)}}resolveInjectorInitializers(){const o=W(this),a=$n(void 0);try{const l=this.get(Hc.multi,Qt,Ye.Self);for(const d of l)d()}finally{W(o),$n(a)}}toString(){const o=[],a=this.records;for(const l of a.keys())o.push(ie(l));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new se(205,!1)}processProvider(o){let a=eu(o=Oe(o))?o:Oe(o&&o.provide);const l=function Of(i){return Jb(i)?kf(void 0,i.useValue):kf(gT(i),uh)}(o);if(eu(o)||!0!==o.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=kf(void 0,uh,!0),d.factory=()=>tr(d.multi),this.records.set(a,d)),a=o,d.multi.push(o)}this.records.set(a,l)}hydrate(o,a){return a.value===uh&&(a.value=pT,a.value=a.factory()),"object"==typeof a.value&&a.value&&function oN(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=Oe(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(o){const a=this._onDestroyHooks.indexOf(o);-1!==a&&this._onDestroyHooks.splice(a,1)}}function Cm(i){const o=Xn(i),a=null!==o?o.factory:Vs(i);if(null!==a)return a;if(i instanceof Dn)throw new se(204,!1);if(i instanceof Function)return function Dm(i){const o=i.length;if(o>0)throw function Pl(i,o){const a=[];for(let l=0;l<i;l++)a.push(o);return a}(o,"?"),new se(204,!1);const a=function Ln(i){return i&&(i[Jn]||i[mn])||null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new se(204,!1)}function gT(i,o,a){let l;if(eu(i)){const d=Oe(i);return Vs(d)||Cm(d)}if(Jb(i))l=()=>Oe(i.useValue);else if(function oh(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...tr(i.deps||[]));else if(function fT(i){return!(!i||!i.useExisting)}(i))l=()=>$e(Oe(i.useExisting));else{const d=Oe(i&&(i.useClass||i.provide));if(!function eE(i){return!!i.deps}(i))return Vs(d)||Cm(d);l=()=>new d(...tr(i.deps))}return l}function kf(i,o,a=!1){return{factory:i,value:o,multi:a?[]:void 0}}function ch(i,o){for(const a of i)Array.isArray(a)?ch(a,o):a&&Ne(a)?ch(a.\u0275providers,o):o(a)}const Ff=new Dn("AppId",{providedIn:"root",factory:()=>Lf}),Lf="ng",Vf=new Dn("Platform Initializer"),dh=new Dn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Wv=new Dn("AnimationModuleType"),Sm=new Dn("CSP nonce",{providedIn:"root",factory:()=>function Mf(){if(void 0!==Lv)return Lv;if(typeof document<"u")return document;throw new se(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let xm=(i,o)=>null;function fh(i,o){return xm(i,o)}class lE{}class Jv{}class dN{resolveComponentFactory(o){throw function bT(i){const o=Error(`No component factory found for ${ie(i)}.`);return o.ngComponent=i,o}(o)}}let zf=(()=>{class i{}return i.NULL=new dN,i})();function ET(){return qc(rr(),xe())}function qc(i,o){return new Gf(Jt(i,o))}let Gf=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=ET,i})();function cE(i){return i instanceof Gf?i.nativeElement:i}class Rm{}let IT=(()=>{class i{constructor(){this.destroyNode=null}}return i.__NG_ELEMENT_ID__=()=>function dE(){const i=xe(),a=nr(rr().index,i);return(Nn(a)?a:i)[bt]}(),i})(),CT=(()=>{class i{}return i.\u0275prov=wt({token:i,providedIn:"root",factory:()=>null}),i})();class qf{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const hE=new qf("16.1.5"),Wf={};function Kf(i){for(;i;){i[Ot]|=64;const o=st(i);if(On(i)&&!o)return i;i=o}return null}function t_(i){return i.ngOriginalError}class ql{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&t_(o);for(;a&&t_(a);)a=t_(a);return a||null}}const fE=new Dn("",{providedIn:"root",factory:()=>!1});function nu(i){return i instanceof Function?i():i}class km extends ts{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(o){this._lView=o}onConsumerDependencyMayHaveChanged(){Kf(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(o,a,l){const d=Bn(this);this.trackingVersion++;try{o(a,l)}finally{Bn(d)}}destroy(){this.trackingVersion++}}let Zf=null;function mE(){return Zf??=new km,Zf}function o_(i,o){return i[o]??mE()}function yE(i,o){const a=mE();a.hasReadASignal&&(i[o]=Zf,a.lView=i,Zf=new km)}const Zt={};function vE(i){a_(en(),xe(),Hr()+i,!1)}function a_(i,o,a,l){if(!l)if(3==(3&o[Ot])){const p=i.preOrderCheckHooks;null!==p&&Lu(o,p,a)}else{const p=i.preOrderHooks;null!==p&&Sc(o,p,0,a)}ia(a)}function NT(i,o=null,a=null,l){const d=OT(i,o,a,l);return d.resolveInjectorInitializers(),d}function OT(i,o=null,a=null,l,d=new Set){const p=[a||Qt,rN(i)];return l=l||("object"==typeof i?void 0:ie(i)),new Im(p,o||Em(),l||null,d)}let Wc=(()=>{class i{static create(a,l){if(Array.isArray(a))return NT({name:""},l,a,"");{const d=a.name??"";return NT({name:d},a.parent,a.providers,d)}}}return i.THROW_IF_NOT_FOUND=gr,i.NULL=new lT,i.\u0275prov=wt({token:i,providedIn:"any",factory:()=>$e(Qb)}),i.__NG_ELEMENT_ID__=-1,i})();function Yf(i,o=Ye.Default){const a=xe();return null===a?$e(i,o):kt(rr(),a,Oe(i),o)}function IE(){throw new Error("invalid")}function Dt(i,o,a,l,d,p,y,b,C,M,O){const V=o.blueprint.slice();return V[Zn]=d,V[Ot]=140|l,(null!==M||i&&2048&i[Ot])&&(V[Ot]|=2048),E(V),V[Pn]=V[Dr]=i,V[wn]=a,V[Pi]=y||i&&i[Pi],V[bt]=b||i&&i[bt],V[vi]=C||i&&i[vi]||null,V[Un]=p,V[jr]=function If(){return Mv++}(),V[Jr]=O,V[$r]=M,V[An]=2==o.type?i[An]:V,V}function Kc(i,o,a,l,d){let p=i.data[o];if(null===p)p=function os(i,o,a,l,d){const p=_l(),y=wl(),C=i.data[o]=function l_(i,o,a,l,d,p){let y=o?o.injectorIndex:-1,b=0;return function _o(){return null!==Ge.skipHydrationRootTNode}()&&(b|=128),{type:a,index:l,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:b,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,a,o,l,d);return null===i.firstChild&&(i.firstChild=C),null!==p&&(y?null==p.child&&null!==C.parent&&(p.child=C):null===p.next&&(p.next=C,C.prev=p)),C}(i,o,a,l,d),function Ua(){return Ge.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=a,p.value=l,p.attrs=d;const y=function ta(){const i=Ge.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return bi(p,!0),p}function Qf(i,o,a,l){if(0===a)return-1;const d=o.length;for(let p=0;p<a;p++)o.push(l),i.blueprint.push(l),i.data.push(null);return d}function kr(i,o,a,l,d){const p=o_(o,Go),y=Hr(),b=2&l;try{if(ia(-1),b&&o.length>Yt&&a_(i,o,Yt,!1),wi(b?2:0,d),b)p.runInContext(a,l,d);else{const M=Bn(null);try{a(l,d)}finally{Bn(M)}}}finally{b&&null===o[Go]&&yE(o,Go),ia(y),wi(b?3:1,d)}}function sr(i,o,a){if(Ko(o)){const l=Bn(null);try{const p=o.directiveEnd;for(let y=o.directiveStart;y<p;y++){const b=i.data[y];b.contentQueries&&b.contentQueries(1,a[y],y)}}finally{Bn(l)}}}function Fm(i,o,a){Ru()&&(function BT(i,o,a,l){const d=a.directiveStart,p=a.directiveEnd;ni(a)&&function HT(i,o,a){const l=Jt(o,i),d=So(a);let y=16;a.signals?y=4096:a.onPush&&(y=64);const b=To(i,Dt(i,d,null,y,l,o,null,i[Pi].rendererFactory.createRenderer(l,a),null,null,null));i[o.index]=b}(o,a,i.data[d+a.componentOffset]),i.firstCreatePass||A(a,o),Gr(l,o);const y=a.initialInputs;for(let b=d;b<p;b++){const C=i.data[b],M=cr(o,i,b,a);Gr(M,o),null!==y&&zT(0,b-d,M,C,0,y),lr(C)&&(nr(a.index,o)[wn]=cr(o,i,b,a))}}(i,o,a,Jt(a,o)),64==(64&a.flags)&&Zc(i,o,a))}function Ce(i,o,a=Jt){const l=o.localNames;if(null!==l){let d=o.index+1;for(let p=0;p<l.length;p+=2){const y=l[p+1],b=-1===y?a(o,i):i[y];i[d++]=b}}}function So(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=Ft(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):o}function Ft(i,o,a,l,d,p,y,b,C,M,O){const V=Yt+l,ee=V+d,oe=function mh(i,o){const a=[];for(let l=0;l<o;l++)a.push(l<i?null:Zt);return a}(V,ee),Se="function"==typeof M?M():M;return oe[Qe]={type:i,blueprint:oe,template:a,queries:null,viewQuery:b,declTNode:o,data:oe.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:ee,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:C,consts:Se,incompleteFirstPass:!1,ssrId:O}}let SE=i=>null;function TE(i,o,a,l){for(let d in i)if(i.hasOwnProperty(d)){a=null===a?{}:a;const p=i[d];null===l?AE(a,o,d,p):l.hasOwnProperty(d)&&AE(a,o,l[d],p)}return a}function AE(i,o,a,l){i.hasOwnProperty(a)?i[a].push(o,l):i[a]=[o,l]}function Ys(i,o,a,l,d,p,y,b){const C=Jt(o,a);let O,M=o.inputs;!b&&null!=M&&(O=M[l])?(h_(i,a,O,l,d),ni(o)&&function VT(i,o){const a=nr(o,i);16&a[Ot]||(a[Ot]|=64)}(a,o.index)):3&o.type&&(l=function LT(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),d=null!=y?y(d,o.value||"",l):d,p.setProperty(C,l,d))}function c_(i,o,a,l){if(Ru()){const d=null===l?null:{"":-1},p=function NE(i,o){const a=i.directiveRegistry;let l=null,d=null;if(a)for(let p=0;p<a.length;p++){const y=a[p];if(Bo(o,y.selectors,!1))if(l||(l=[]),lr(y))if(null!==y.findHostDirectiveDefs){const b=[];d=d||new Map,y.findHostDirectiveDefs(y,b,d),l.unshift(...b,y),Yc(i,o,b.length)}else l.unshift(y),Yc(i,o,0);else d=d||new Map,y.findHostDirectiveDefs?.(y,l,d),l.push(y)}return null===l?null:[l,d]}(i,a);let y,b;null===p?y=b=null:[y,b]=p,null!==y&&xE(i,o,a,y,d,b),d&&function Xf(i,o,a){if(o){const l=i.localNames=[];for(let d=0;d<o.length;d+=2){const p=a[o[d+1]];if(null==p)throw new se(-301,!1);l.push(o[d],p)}}}(a,l,d)}a.mergedAttrs=ks(a.mergedAttrs,a.attrs)}function xE(i,o,a,l,d,p){for(let M=0;M<l.length;M++)ce(A(a,o),i,l[M].type);!function jT(i,o,a){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+a,i.providerIndexes=o}(a,i.data.length,l.length);for(let M=0;M<l.length;M++){const O=l[M];O.providersResolver&&O.providersResolver(O)}let y=!1,b=!1,C=Qf(i,o,l.length,null);for(let M=0;M<l.length;M++){const O=l[M];a.mergedAttrs=ks(a.mergedAttrs,O.hostAttrs),$T(i,a,o,C,O),Bi(C,O,d),null!==O.contentQueries&&(a.flags|=4),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(a.flags|=64);const V=O.type.prototype;!y&&(V.ngOnChanges||V.ngOnInit||V.ngDoCheck)&&((i.preOrderHooks??=[]).push(a.index),y=!0),!b&&(V.ngOnChanges||V.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(a.index),b=!0),C++}!function FT(i,o,a){const d=o.directiveEnd,p=i.data,y=o.attrs,b=[];let C=null,M=null;for(let O=o.directiveStart;O<d;O++){const V=p[O],ee=a?a.get(V):null,Se=ee?ee.outputs:null;C=TE(V.inputs,O,C,ee?ee.inputs:null),M=TE(V.outputs,O,M,Se);const Ue=null===C||null===y||gu(o)?null:OE(C,O,y);b.push(Ue)}null!==C&&(C.hasOwnProperty("class")&&(o.flags|=8),C.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=b,o.inputs=C,o.outputs=M}(i,a,p)}function Zc(i,o,a){const l=a.directiveStart,d=a.directiveEnd,p=a.index,y=function Hs(){return Ge.lFrame.currentDirectiveIndex}();try{ia(p);for(let b=l;b<d;b++){const C=i.data[b],M=o[b];ra(b),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&PE(C,M)}}finally{ia(-1),ra(y)}}function PE(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function Yc(i,o,a){o.componentOffset=a,(i.components??=[]).push(o.index)}function Bi(i,o,a){if(a){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)a[o.exportAs[l]]=i;lr(o)&&(a[""]=i)}}function $T(i,o,a,l,d){i.data[l]=d;const p=d.factory||(d.factory=Vs(d.type)),y=new $a(p,lr(d),Yf);i.blueprint[l]=y,a[l]=y,function RE(i,o,a,l,d){const p=d.hostBindings;if(p){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const b=~o.index;(function UT(i){let o=i.length;for(;o>0;){const a=i[--o];if("number"==typeof a&&a<0)return a}return 0})(y)!=b&&y.push(b),y.push(a,l,p)}}(i,o,l,Qf(i,a,d.hostVars,Zt),d)}function ru(i,o,a,l,d,p){const y=Jt(i,o);!function d_(i,o,a,l,d,p,y){if(null==p)i.removeAttribute(o,d,a);else{const b=null==y?te(p):y(p,l||"",d);i.setAttribute(o,d,b,a)}}(o[bt],y,p,i.value,a,l,d)}function zT(i,o,a,l,d,p){const y=p[o];if(null!==y)for(let b=0;b<y.length;)Jf(l,a,y[b++],y[b++],y[b++])}function Jf(i,o,a,l,d){const p=Bn(null);try{const y=i.inputTransforms;null!==y&&y.hasOwnProperty(l)&&(d=y[l].call(o,d)),null!==i.setInput?i.setInput(o,d,a,l):o[l]=d}finally{Bn(p)}}function OE(i,o,a){let l=null,d=0;for(;d<a.length;){const p=a[d];if(0!==p)if(5!==p){if("number"==typeof p)break;if(i.hasOwnProperty(p)){null===l&&(l=[]);const y=i[p];for(let b=0;b<y.length;b+=2)if(y[b]===o){l.push(p,y[b+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return l}function Lm(i,o,a,l){return[i,!0,!1,o,null,0,l,a,null,null,null]}function Vm(i,o){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const p=a[l+1];if(-1!==p){const y=i.data[p];bl(a[l]),y.contentQueries(2,o[p],p)}}}function To(i,o){return i[_i]?i[gs][Pr]=o:i[_i]=o,i[gs]=o,o}function Um(i,o,a){bl(0);const l=Bn(null);try{o(i,a)}finally{Bn(l)}}function kE(i){return i[ps]||(i[ps]=[])}function ep(i){return i.cleanup||(i.cleanup=[])}function LE(i,o){const a=i[vi],l=a?a.get(ql,null):null;l&&l.handleError(o)}function h_(i,o,a,l,d){for(let p=0;p<a.length;){const y=a[p++],b=a[p++];Jf(i.data[y],o[y],l,b,d)}}function GT(i,o){const a=nr(o,i),l=a[Qe];!function qT(i,o){for(let a=o.length;a<i.blueprint.length;a++)o.push(i.blueprint[a])}(l,a);const d=a[Zn];null!==d&&null===a[Jr]&&(a[Jr]=fh(d,a[vi])),f_(l,a,a[wn])}function f_(i,o,a){Dc(o);try{const l=i.viewQuery;null!==l&&Um(1,l,a);const d=i.template;null!==d&&kr(i,o,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Vm(i,o),i.staticViewQueries&&Um(2,i.viewQuery,a);const p=i.components;null!==p&&function WT(i,o){for(let a=0;a<o.length;a++)GT(i,o[a])}(o,p)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{o[Ot]&=-5,hf()}}let Bm=(()=>{class i{constructor(){this.all=new Set,this.queue=new Map}create(a,l,d){const p=typeof Zone>"u"?null:Zone.current,y=new Td(a,M=>{this.all.has(M)&&this.queue.set(M,p)},d);let b;this.all.add(y),y.notify();const C=()=>{y.cleanup(),b?.(),this.all.delete(y),this.queue.delete(y)};return b=l?.onDestroy(C),{destroy:C}}flush(){if(0!==this.queue.size)for(const[a,l]of this.queue)this.queue.delete(a),l?l.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}}return i.\u0275prov=wt({token:i,providedIn:"root",factory:()=>new i}),i})();function jm(i,o,a){let l=a?i.styles:null,d=a?i.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const b=o[y];"number"==typeof b?p=b:1==p?d=Be(d,b):2==p&&(l=Be(l,b+": "+o[++y]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=d:i.classesWithoutHost=d}function yh(i,o,a,l,d=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&l.push(Ht(p)),ur(p)){for(let b=qn;b<p.length;b++){const C=p[b],M=C[Qe].firstChild;null!==M&&yh(C[Qe],C,M,l)}p[ei]!==p[Zn]&&l.push(p[ei])}const y=a.type;if(8&y)yh(i,o,a.child,l);else if(32&y){const b=pe(a,o);let C;for(;C=b();)l.push(C)}else if(16&y){const b=Ab(o,a);if(Array.isArray(b))l.push(...b);else{const C=st(o[An]);yh(C[Qe],C,b,l,!0)}}a=d?a.projectionNext:a.next}return l}function tp(i,o,a,l=!0){const d=o[Pi].rendererFactory;d.begin&&d.begin();try{BE(i,o,i.template,a)}catch(y){throw l&&LE(o,y),y}finally{d.end&&d.end(),o[Pi].effectManager?.flush()}}function BE(i,o,a,l){const d=o[Ot];if(256!=(256&d)){o[Pi].effectManager?.flush(),Dc(o);try{E(o),function bs(i){return Ge.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&kr(i,o,a,2,l);const y=3==(3&d);if(y){const M=i.preOrderCheckHooks;null!==M&&Lu(o,M,null)}else{const M=i.preOrderHooks;null!==M&&Sc(o,M,0,null),Il(o,0)}if(function p_(i){for(let o=hr(i);null!==o;o=Ss(o)){if(!o[qo])continue;const a=o[Ni];for(let l=0;l<a.length;l++){D(a[l])}}}(o),da(o,2),null!==i.contentQueries&&Vm(i,o),y){const M=i.contentCheckHooks;null!==M&&Lu(o,M)}else{const M=i.contentHooks;null!==M&&Sc(o,M,1),Il(o,1)}!function ss(i,o){const a=i.hostBindingOpCodes;if(null===a)return;const l=o_(o,Hn);try{for(let d=0;d<a.length;d++){const p=a[d];if(p<0)ia(~p);else{const y=p,b=a[++d],C=a[++d];cf(b,y),l.runInContext(C,2,o[y])}}}finally{null===o[Hn]&&yE(o,Hn),ia(-1)}}(i,o);const b=i.components;null!==b&&g_(o,b,0);const C=i.viewQuery;if(null!==C&&Um(2,C,l),y){const M=i.viewCheckHooks;null!==M&&Lu(o,M)}else{const M=i.viewHooks;null!==M&&Sc(o,M,2),Il(o,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),o[Ot]&=-73,R(o)}finally{hf()}}}function da(i,o){for(let a=hr(i);null!==a;a=Ss(a))for(let l=qn;l<a.length;l++)jE(a[l],o)}function YT(i,o,a){jE(nr(o,i),a)}function jE(i,o){if(!function bc(i){return 128==(128&i[Ot])}(i))return;const a=i[Qe];if(80&i[Ot]&&0===o||1024&i[Ot]||2===o)BE(a,i,a.template,i[wn]);else if(i[yi]>0){da(i,1);const d=i[Qe].components;null!==d&&g_(i,d,1)}}function g_(i,o,a){for(let l=0;l<o.length;l++)YT(i,o[l],a)}class np{get rootNodes(){const o=this._lView,a=o[Qe];return yh(a,o,a.firstChild,[])}constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[wn]}set context(o){this._lView[wn]=o}get destroyed(){return 256==(256&this._lView[Ot])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[Pn];if(ur(o)){const a=o[8],l=a?a.indexOf(this):-1;l>-1&&(cm(o,l),zu(a,l))}this._attachedToViewContainer=!1}Zs(this._lView[Qe],this._lView)}onDestroy(o){!function Ee(i,o){if(256==(256&i[Ot]))throw new se(911,!1);null===i[Ji]&&(i[Ji]=[]),i[Ji].push(o)}(this._lView,o)}markForCheck(){Kf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ot]&=-129}reattach(){this._lView[Ot]|=128}detectChanges(){tp(this._lView[Qe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Df(i,o){Af(i,o,o[bt],2,null,null)}(this._lView[Qe],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new se(902,!1);this._appRef=o}}class as extends np{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;tp(o[Qe],o,o[wn],!1)}checkNoChanges(){}get context(){return null}}class rp extends zf{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=xt(o);return new sp(a,this.ngModule)}}function $E(i){const o=[];for(let a in i)i.hasOwnProperty(a)&&o.push({propName:i[a],templateName:a});return o}class QT{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,l){l=dn(l);const d=this.injector.get(o,Wf,l);return d!==Wf||a===Wf?d:this.parentInjector.get(o,a,l)}}class sp extends Jv{get inputs(){const o=this.componentDef,a=o.inputTransforms,l=$E(o.inputs);if(null!==a)for(const d of l)a.hasOwnProperty(d.propName)&&(d.transform=a[d.propName]);return l}get outputs(){return $E(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function Ls(i){return i.map(jo).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,l,d){let p=(d=d||this.ngModule)instanceof tu?d:d?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new QT(o,p):o,b=y.get(Rm,null);if(null===b)throw new se(407,!1);const O={rendererFactory:b,sanitizer:y.get(CT,null),effectManager:y.get(Bm,null)},V=b.createRenderer(null,this.componentDef),ee=this.componentDef.selectors[0][0]||"div",oe=l?function CE(i,o,a,l){const p=l.get(fE,!1)||a===mr.ShadowDom,y=i.selectRootElement(o,p);return function DE(i){SE(i)}(y),y}(V,l,this.componentDef.encapsulation,y):Bl(V,ee,function ip(i){const o=i.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(ee)),tt=this.componentDef.signals?4608:this.componentDef.onPush?576:528,yt=Ft(0,null,null,1,0,null,null,null,null,null,null),Re=Dt(null,yt,null,tt,null,null,O,V,y,null,null);let Vt,un;Dc(Re);try{const gn=this.componentDef;let xi,Xp=null;gn.findHostDirectiveDefs?(xi=[],Xp=new Map,gn.findHostDirectiveDefs(gn,xi,Xp),xi.push(gn)):xi=[gn];const Rx=function m_(i,o){const a=i[Qe],l=Yt;return i[l]=o,Kc(a,l,2,"#host",null)}(Re,oe),Jp=function zE(i,o,a,l,d,p,y){const b=d[Qe];!function GE(i,o,a,l){for(const d of i)o.mergedAttrs=ks(o.mergedAttrs,d.hostAttrs);null!==o.mergedAttrs&&(jm(o,o.mergedAttrs,!0),null!==a&&XS(l,a,o))}(l,i,o,y);let C=null;null!==o&&(C=fh(o,d[vi]));const M=p.rendererFactory.createRenderer(o,a);let O=16;a.signals?O=4096:a.onPush&&(O=64);const V=Dt(d,So(a),null,O,d[i.index],i,p,M,null,null,C);return b.firstCreatePass&&Yc(b,i,l.length-1),To(d,V),d[i.index]=V}(Rx,oe,gn,xi,Re,O,V);un=yo(yt,Yt),oe&&function JT(i,o,a,l){if(l)Sa(i,a,["ng-version",hE.full]);else{const{attrs:d,classes:p}=function uo(i){const o=[],a=[];let l=1,d=2;for(;l<i.length;){let p=i[l];if("string"==typeof p)2===d?""!==p&&o.push(p,i[++l]):8===d&&a.push(p);else{if(!Rr(d))break;d=p}l++}return{attrs:o,classes:a}}(o.selectors[0]);d&&Sa(i,a,d),p&&p.length>0&&Nb(i,a,p.join(" "))}}(V,gn,oe,l),void 0!==a&&function iu(i,o,a){const l=i.projection=[];for(let d=0;d<o.length;d++){const p=a[d];l.push(null!=p?Array.from(p):null)}}(un,this.ngContentSelectors,a),Vt=function XT(i,o,a,l,d,p){const y=rr(),b=d[Qe],C=Jt(y,d);xE(b,d,y,a,null,l);for(let O=0;O<a.length;O++)Gr(cr(d,b,y.directiveStart+O,y),d);Zc(b,d,y),C&&Gr(C,d);const M=cr(d,b,y.directiveStart+y.componentOffset,y);if(i[wn]=d[wn]=M,null!==p)for(const O of p)O(M,o);return sr(b,y,i),M}(Jp,gn,xi,Xp,Re,[su]),f_(yt,Re,null)}finally{hf()}return new HE(this.componentType,Vt,qc(un,Re),Re,un)}}class HE extends lE{constructor(o,a,l,d,p){super(),this.location=l,this._rootLView=d,this._tNode=p,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new as(d),this.componentType=o}setInput(o,a){const l=this._tNode.inputs;let d;if(null!==l&&(d=l[o])){if(this.previousInputValues??=new Map,this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),a))return;const p=this._rootLView;h_(p[Qe],p,d,o,a),this.previousInputValues.set(o,a),Kf(nr(this._tNode.index,p))}}get injector(){return new za(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function su(){const i=rr();Es(xe()[Qe],i)}function y_(i){let o=function op(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;o;){let d;if(lr(i))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new se(903,!1);d=o.\u0275dir}if(d){if(a){l.push(d);const y=i;y.inputs=Wu(i.inputs),y.inputTransforms=Wu(i.inputTransforms),y.declaredInputs=Wu(i.declaredInputs),y.outputs=Wu(i.outputs);const b=d.hostBindings;b&&tA(i,b);const C=d.viewQuery,M=d.contentQueries;if(C&&ap(i,C),M&&qE(i,M),G(i.inputs,d.inputs),G(i.declaredInputs,d.declaredInputs),G(i.outputs,d.outputs),null!==d.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),G(y.inputTransforms,d.inputTransforms)),lr(d)&&d.data.animation){const O=i.data;O.animation=(O.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let y=0;y<p.length;y++){const b=p[y];b&&b.ngInherit&&b(i),b===y_&&(a=!1)}}o=Object.getPrototypeOf(o)}!function eA(i){let o=0,a=null;for(let l=i.length-1;l>=0;l--){const d=i[l];d.hostVars=o+=d.hostVars,d.hostAttrs=ks(d.hostAttrs,a=ks(a,d.hostAttrs))}}(l)}function Wu(i){return i===gi?{}:i===Qt?[]:i}function ap(i,o){const a=i.viewQuery;i.viewQuery=a?(l,d)=>{o(l,d),a(l,d)}:o}function qE(i,o){const a=i.contentQueries;i.contentQueries=a?(l,d,p)=>{o(l,d,p),a(l,d,p)}:o}function tA(i,o){const a=i.hostBindings;i.hostBindings=a?(l,d)=>{o(l,d),a(l,d)}:o}function YE(i){const o=i.inputConfig,a={};for(const l in o)if(o.hasOwnProperty(l)){const d=o[l];Array.isArray(d)&&d[2]&&(a[l]=d[2])}i.inputTransforms=a}function up(i){return!!Di(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function Di(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Si(i,o,a){return!Object.is(i[o],a)&&(i[o]=a,!0)}function b_(i,o,a,l){const d=xe();return Si(d,$s(),o)&&(en(),ru(kn(),d,i,o,a,l)),b_}function _h(i,o,a,l){return Si(i,$s(),a)?o+te(a)+l:Zt}function fI(i,o,a,l,d,p,y,b){const C=xe(),M=en(),O=i+Yt,V=M.firstCreatePass?function pA(i,o,a,l,d,p,y,b,C){const M=o.consts,O=Kc(o,i,4,y||null,ii(M,b));c_(o,a,O,ii(M,C)),Es(o,O);const V=O.tView=Ft(2,O,l,d,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,M,null);return null!==o.queries&&(o.queries.template(o,O),V.queries=o.queries.embeddedTView(O)),O}(O,M,C,o,a,l,d,p,y):M.data[O];bi(V,!1);const ee=pI(M,C,V,i);Fd()&&Uc(M,C,ee,V),Gr(ee,C),To(C,C[O]=Lm(ee,C,ee,V)),ms(V)&&Fm(M,C,V),null!=y&&Ce(C,V,b)}let pI=function gI(i,o,a,l){return Gs(!0),o[bt].createComment("")};function yI(i,o,a){const l=xe();return Si(l,$s(),o)&&Ys(en(),kn(),l,i,o,l[bt],a,!1),yI}function A_(i,o,a,l,d){const y=d?"class":"style";h_(i,a,o.inputs[y],y,l)}function x_(i,o,a,l){const d=xe(),p=en(),y=Yt+i,b=d[bt],C=p.firstCreatePass?function M_(i,o,a,l,d,p){const y=o.consts,C=Kc(o,i,2,l,ii(y,d));return c_(o,a,C,ii(y,p)),null!==C.attrs&&jm(C,C.attrs,!1),null!==C.mergedAttrs&&jm(C,C.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,C),C}(y,p,d,o,a,l):p.data[y],M=vI(p,d,C,b,o,i);d[y]=M;const O=ms(C);return bi(C,!0),XS(b,M,C),32!=(32&C.flags)&&Fd()&&Uc(p,d,M,C),0===function _s(){return Ge.lFrame.elementDepthCount}()&&Gr(M,d),function vo(){Ge.lFrame.elementDepthCount++}(),O&&(Fm(p,d,C),sr(p,C,d)),null!==l&&Ce(d,C),x_}function R_(){let i=rr();wl()?function Nu(){Ge.lFrame.isParent=!1}():(i=i.parent,bi(i,!1));const o=i;(function Ic(i){return Ge.skipHydrationRootTNode===i})(o)&&function xd(){Ge.skipHydrationRootTNode=null}(),function Ec(){Ge.lFrame.elementDepthCount--}();const a=en();return a.firstCreatePass&&(Es(a,i),Ko(i)&&a.queries.elementEnd(i)),null!=o.classesWithoutHost&&function Ld(i){return 0!=(8&i.flags)}(o)&&A_(a,o,xe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Vd(i){return 0!=(16&i.flags)}(o)&&A_(a,o,xe(),o.stylesWithoutHost,!1),R_}function P_(i,o,a,l){return x_(i,o,a,l),R_(),P_}let vI=(i,o,a,l,d,p)=>(Gs(!0),Bl(l,d,function ku(){return Ge.lFrame.currentNamespace}()));function N_(){return xe()}function O_(i){return!!i&&"function"==typeof i.then}function bI(i){return!!i&&"function"==typeof i.subscribe}function Fr(i,o,a,l){const d=xe(),p=en(),y=rr();return function Jm(i,o,a,l,d,p,y){const b=ms(l),M=i.firstCreatePass&&ep(i),O=o[wn],V=kE(o);let ee=!0;if(3&l.type||y){const Ue=Jt(l,o),tt=y?y(Ue):Ue,yt=V.length,Re=y?un=>y(Ht(un[l.index])):l.index;let Vt=null;if(!y&&b&&(Vt=function Xm(i,o,a,l){const d=i.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const y=d[p];if(y===a&&d[p+1]===l){const b=o[ps],C=d[p+2];return b.length>C?b[C]:null}"string"==typeof y&&(p+=2)}return null}(i,o,d,l.index)),null!==Vt)(Vt.__ngLastListenerFn__||Vt).__ngNextListenerFn__=p,Vt.__ngLastListenerFn__=p,ee=!1;else{p=II(l,o,O,p,!1);const un=a.listen(tt,d,p);V.push(p,un),M&&M.push(d,Re,yt,yt+1)}}else p=II(l,o,O,p,!1);const oe=l.outputs;let Se;if(ee&&null!==oe&&(Se=oe[d])){const Ue=Se.length;if(Ue)for(let tt=0;tt<Ue;tt+=2){const gn=o[Se[tt]][Se[tt+1]].subscribe(p),xi=V.length;V.push(p,gn),M&&M.push(d,l.index,xi,-(xi+1))}}}(p,d,d[bt],y,i,o,l),Fr}function EI(i,o,a,l){try{return wi(6,o,a),!1!==a(l)}catch(d){return LE(i,d),!1}finally{wi(7,o,a)}}function II(i,o,a,l,d){return function p(y){if(y===Function)return l;Kf(i.componentOffset>-1?nr(i.index,o):o);let C=EI(o,a,l,y),M=p.__ngNextListenerFn__;for(;M;)C=EI(o,a,M,y)&&C,M=M.__ngNextListenerFn__;return d&&!1===C&&y.preventDefault(),C}}function CI(i=1){return function Og(i){return(Ge.lFrame.contextLView=function kg(i,o){for(;i>0;)o=o[Dr],i--;return o}(i,Ge.lFrame.contextLView))[wn]}(i)}function k_(i,o,a){return F_(i,"",o,"",a),k_}function F_(i,o,a,l,d){const p=xe(),y=_h(p,o,a,l);return y!==Zt&&Ys(en(),kn(),p,i,y,p[bt],d,!1),F_}function ry(i,o){return i<<17|o<<2}function Kl(i){return i>>17&32767}function ed(i){return 2|i}function Zl(i){return(131068&i)>>2}function Ch(i,o){return-131069&i|o<<2}function V_(i){return 1|i}function iy(i,o,a,l,d){const p=i[a+1],y=null===o;let b=l?Kl(p):Zl(p),C=!1;for(;0!==b&&(!1===C||y);){const O=i[b+1];MI(i[b],o)&&(C=!0,i[b+1]=l?V_(O):ed(O)),b=l?Kl(O):Zl(O)}C&&(i[a+1]=l?ed(p):V_(p))}function MI(i,o){return null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&aa(i,o)>=0}function pp(i,o){return function As(i,o,a,l){const d=xe(),p=en(),y=function rs(i){const o=Ge.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,a}(2);p.firstUpdatePass&&function LI(i,o,a,l){const d=i.data;if(null===d[a+1]){const p=d[Hr()],y=function FI(i,o){return o>=i.expandoStartIndex}(i,a);(function H_(i,o){return 0!=(i.flags&(o?8:16))})(p,l)&&null===o&&!y&&(o=!1),o=function TA(i,o,a,l){const d=function Rd(i){const o=Ge.lFrame.currentDirectiveIndex;return-1===o?null:i[o]}(i);let p=l?o.residualClasses:o.residualStyles;if(null===d)0===(l?o.classBindings:o.styleBindings)&&(a=gp(a=$_(null,i,o,a,l),o.attrs,l),p=null);else{const y=o.directiveStylingLast;if(-1===y||i[y]!==d)if(a=$_(d,i,o,a,l),null===p){let C=function AA(i,o,a){const l=a?o.classBindings:o.styleBindings;if(0!==Zl(l))return i[Kl(l)]}(i,o,l);void 0!==C&&Array.isArray(C)&&(C=$_(null,i,o,C[1],l),C=gp(C,o.attrs,l),function MA(i,o,a,l){i[Kl(a?o.classBindings:o.styleBindings)]=l}(i,o,l,C))}else p=function xA(i,o,a){let l;const d=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<d;p++)l=gp(l,i[p].hostAttrs,a);return gp(l,o.attrs,a)}(i,o,l)}return void 0!==p&&(l?o.residualClasses=p:o.residualStyles=p),a}(d,p,o,l),function IA(i,o,a,l,d,p){let y=p?o.classBindings:o.styleBindings,b=Kl(y),C=Zl(y);i[l]=a;let O,M=!1;if(Array.isArray(a)?(O=a[1],(null===O||aa(a,O)>0)&&(M=!0)):O=a,d)if(0!==C){const ee=Kl(i[b+1]);i[l+1]=ry(ee,b),0!==ee&&(i[ee+1]=Ch(i[ee+1],l)),i[b+1]=function EA(i,o){return 131071&i|o<<17}(i[b+1],l)}else i[l+1]=ry(b,0),0!==b&&(i[b+1]=Ch(i[b+1],l)),b=l;else i[l+1]=ry(C,0),0===b?b=l:i[C+1]=Ch(i[C+1],l),C=l;M&&(i[l+1]=ed(i[l+1])),iy(i,O,l,!0),iy(i,O,l,!1),function AI(i,o,a,l,d){const p=d?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof o&&aa(p,o)>=0&&(a[l+1]=V_(a[l+1]))}(o,O,i,l,p),y=ry(b,C),p?o.classBindings=y:o.styleBindings=y}(d,p,o,a,y,l)}}(p,i,y,l),o!==Zt&&Si(d,y,o)&&function uy(i,o,a,l,d,p,y,b){if(!(3&o.type))return;const C=i.data,M=C[b+1],O=function TI(i){return 1==(1&i)}(M)?BI(C,o,a,d,Zl(M),y):void 0;ly(O)||(ly(p)||function bA(i){return 2==(2&i)}(M)&&(p=BI(C,null,a,d,b,y)),function kv(i,o,a,l,d){if(o)d?i.addClass(a,l):i.removeClass(a,l);else{let p=-1===l.indexOf("-")?void 0:Ks.DashCase;null==d?i.removeStyle(a,l,p):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),p|=Ks.Important),i.setStyle(a,l,d,p))}}(l,y,Or(Hr(),a),d,p))}(p,p.data[Hr()],d,d[bt],i,d[y+1]=function PA(i,o){return null==i||""===i||("string"==typeof o?i+=o:"object"==typeof i&&(i=ie(Ci(i)))),i}(o,a),l,y)}(i,o,null,!0),pp}function $_(i,o,a,l,d){let p=null;const y=a.directiveEnd;let b=a.directiveStylingLast;for(-1===b?b=a.directiveStart:b++;b<y&&(p=o[b],l=gp(l,p.hostAttrs,d),p!==i);)b++;return null!==i&&(a.directiveStylingLast=b),l}function gp(i,o,a){const l=a?1:2;let d=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?d=y:d===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),si(i,y,!!a||o[++p]))}return void 0===i?null:i}function BI(i,o,a,l,d,p){const y=null===o;let b;for(;d>0;){const C=i[d],M=Array.isArray(C),O=M?C[1]:C,V=null===O;let ee=a[d+1];ee===Zt&&(ee=V?Qt:void 0);let oe=V?gf(ee,l):O===l?ee:void 0;if(M&&!ly(oe)&&(oe=gf(C,l)),ly(oe)&&(b=oe,y))return b;const Se=i[d+1];d=y?Kl(Se):Zl(Se)}if(null!==o){let C=p?o.residualClasses:o.residualStyles;null!=C&&(b=gf(C,l))}return b}function ly(i){return void 0!==i}function z_(i,o=""){const a=xe(),l=en(),d=i+Yt,p=l.firstCreatePass?Kc(l,d,1,o,null):l.data[d],y=G_(l,a,p,o,i);a[d]=y,Fd()&&Uc(l,a,y,p),bi(p,!1)}let G_=(i,o,a,l,d)=>(Gs(!0),function Do(i,o){return i.createText(o)}(o[bt],l));function HI(i){return q_("",i,""),HI}function q_(i,o,a){const l=xe(),d=_h(l,i,o,a);return d!==Zt&&function qu(i,o,a){const l=Or(o,i);!function Lc(i,o,a){i.setValue(o,a)}(i[bt],l,a)}(l,Hr(),d),q_}const pa=void 0;var ga=["en",[["a","p"],["AM","PM"],pa],[["AM","PM"],pa,pa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],pa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],pa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",pa,"{1} 'at' {0}",pa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function $A(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Zu={};function vp(i){const o=function HA(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=JI(o);if(a)return a;const l=o.split("-")[0];if(a=JI(l),a)return a;if("en"===l)return ga;throw new se(701,!1)}function J_(i){return vp(i)[St.PluralCase]}function JI(i){return i in Zu||(Zu[i]=pn.ng&&pn.ng.common&&pn.ng.common.locales&&pn.ng.common.locales[i]),Zu[i]}var St=(()=>((St=St||{})[St.LocaleId=0]="LocaleId",St[St.DayPeriodsFormat=1]="DayPeriodsFormat",St[St.DayPeriodsStandalone=2]="DayPeriodsStandalone",St[St.DaysFormat=3]="DaysFormat",St[St.DaysStandalone=4]="DaysStandalone",St[St.MonthsFormat=5]="MonthsFormat",St[St.MonthsStandalone=6]="MonthsStandalone",St[St.Eras=7]="Eras",St[St.FirstDayOfWeek=8]="FirstDayOfWeek",St[St.WeekendRange=9]="WeekendRange",St[St.DateFormat=10]="DateFormat",St[St.TimeFormat=11]="TimeFormat",St[St.DateTimeFormat=12]="DateTimeFormat",St[St.NumberSymbols=13]="NumberSymbols",St[St.NumberFormats=14]="NumberFormats",St[St.CurrencyCode=15]="CurrencyCode",St[St.CurrencySymbol=16]="CurrencySymbol",St[St.CurrencyName=17]="CurrencyName",St[St.Currencies=18]="Currencies",St[St.Directionality=19]="Directionality",St[St.PluralCase=20]="PluralCase",St[St.ExtraData=21]="ExtraData",St))();const Dh="en-US";let Yl=Dh;function ad(i,o,a,l,d){if(i=Oe(i),Array.isArray(i))for(let p=0;p<i.length;p++)ad(i[p],o,a,l,d);else{const p=en(),y=xe();let b=eu(i)?i:Oe(i.provide),C=gT(i);const M=rr(),O=1048575&M.providerIndexes,V=M.directiveStart,ee=M.providerIndexes>>20;if(eu(i)||!i.multi){const oe=new $a(C,d,Yf),Se=gw(b,o,d?O:O+ee,V);-1===Se?(ce(A(M,y),p,b),pw(p,i,o.length),o.push(b),M.directiveStart++,M.directiveEnd++,d&&(M.providerIndexes+=1048576),a.push(oe),y.push(oe)):(a[Se]=oe,y[Se]=oe)}else{const oe=gw(b,o,O+ee,V),Se=gw(b,o,O,O+ee),tt=Se>=0&&a[Se];if(d&&!tt||!d&&!(oe>=0&&a[oe])){ce(A(M,y),p,b);const yt=function uu(i,o,a,l,d){const p=new $a(i,a,Yf);return p.multi=[],p.index=o,p.componentProviders=0,_y(p,d,l&&!a),p}(d?yC:mC,a.length,d,l,C);!d&&tt&&(a[Se].providerFactory=yt),pw(p,i,o.length,0),o.push(b),M.directiveStart++,M.directiveEnd++,d&&(M.providerIndexes+=1048576),a.push(yt),y.push(yt)}else pw(p,i,oe>-1?oe:Se,_y(a[d?Se:oe],C,!d&&l));!d&&l&&tt&&a[Se].componentProviders++}}}function pw(i,o,a,l){const d=eu(o),p=function ah(i){return!!i.useClass}(o);if(d||p){const C=(p?Oe(o.useClass):o).prototype.ngOnDestroy;if(C){const M=i.destroyHooks||(i.destroyHooks=[]);if(!d&&o.multi){const O=M.indexOf(a);-1===O?M.push(a,[l,C]):M[O+1].push(l,C)}else M.push(a,C)}}}function _y(i,o,a){return a&&i.componentProviders++,i.multi.push(o)-1}function gw(i,o,a,l){for(let d=a;d<l;d++)if(o[d]===i)return d;return-1}function mC(i,o,a,l){return ud(this.multi,[])}function yC(i,o,a,l){const d=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,b=cr(a,a[Qe],this.providerFactory.index,l);p=b.slice(0,y),ud(d,p);for(let C=y;C<b.length;C++)p.push(b[C])}else p=[],ud(d,p);return p}function ud(i,o){for(let a=0;a<i.length;a++)o.push((0,i[a])());return o}function wy(i,o=[]){return a=>{a.providersResolver=(l,d)=>function gC(i,o,a){const l=en();if(l.firstCreatePass){const d=lr(i);ad(a,l.data,l.blueprint,d,!0),ad(o,l.data,l.blueprint,d,!1)}}(l,d?d(i):i,o)}}class Po{}class xp{}function Rp(i,o){return new mw(i,o??null,[])}class mw extends Po{constructor(o,a,l){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new rp(this);const d=Br(o);this._bootstrapComponents=nu(d.bootstrap),this._r3Injector=OT(o,a,[{provide:Po,useValue:this},{provide:zf,useValue:this.componentFactoryResolver},...l],ie(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class yw extends xp{constructor(o){super(),this.moduleType=o}create(o){return new mw(this.moduleType,o,[])}}class _C extends Po{constructor(o){super(),this.componentFactoryResolver=new rp(this),this.instance=null;const a=new Im([...o.providers,{provide:Po,useValue:this},{provide:zf,useValue:this.componentFactoryResolver}],o.parent||Em(),o.debugName,new Set(["environment"]));this.injector=a,o.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function wC(i,o,a=null){return new _C({providers:i,parent:o,debugName:a,runEnvironmentInitializers:!0}).injector}let cM=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const l=dT(0,a.type),d=l.length>0?wC([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,d)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=wt({token:i,providedIn:"environment",factory:()=>new i($e(tu))}),i})();function bC(i){i.getStandaloneInjector=o=>o.get(cM).getOrCreateStandaloneInjector(i)}function Dw(i){return o=>{setTimeout(i,void 0,o)}}const Qu=class JN extends f.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,l){let d=o,p=a||(()=>null),y=l;if(o&&"object"==typeof o){const C=o;d=C.next?.bind(C),p=C.error?.bind(C),y=C.complete?.bind(C)}this.__isAsync&&(p=Dw(p),d&&(d=Dw(d)),y&&(y=Dw(y)));const b=super.subscribe({next:d,error:p,complete:y});return o instanceof ne.w0&&o.add(b),b}};function _M(){return this._results[Symbol.iterator]()}class Sw{get changes(){return this._changes||(this._changes=new Qu)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Sw.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=_M)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const l=this;l.dirty=!1;const d=function Ds(i){return i.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Hg(i,o,a){if(i.length!==o.length)return!1;for(let l=0;l<i.length;l++){let d=i[l],p=o[l];if(a&&(d=a(d),p=a(p)),p!==d)return!1}return!0}(l._results,d,a))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ld=(()=>{class i{}return i.__NG_ELEMENT_ID__=Np,i})();const va=ld,wM=class extends va{constructor(o,a,l){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(o,a){return this.createEmbeddedViewImpl(o,a,null)}createEmbeddedViewImpl(o,a,l){const y=this._declarationTContainer.tView,b=Dt(this._declarationLView,y,o,4096&this._declarationLView[Ot]?4096:16,null,y.declTNode,null,null,null,a||null,l||null);b[Ho]=this._declarationLView[this._declarationTContainer.index];const M=this._declarationLView[Nr];return null!==M&&(b[Nr]=M.createEmbeddedView(y)),f_(y,b,o),new np(b)}};function Np(){return Tw(rr(),xe())}function Tw(i,o){return 4&i.type?new wM(o,i,qc(i,o)):null}let ec=(()=>{class i{}return i.__NG_ELEMENT_ID__=kp,i})();function kp(){return $C(rr(),xe())}const DM=ec,BC=class extends DM{constructor(o,a,l){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=l}get element(){return qc(this._hostTNode,this._hostLView)}get injector(){return new za(this._hostTNode,this._hostLView)}get parentInjector(){const o=re(this._hostTNode,this._hostLView);if(ff(o)){const a=Is(o,this._hostLView),l=Tc(o);return new za(a[Qe].data[l+8],a)}return new za(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=jC(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-qn}createEmbeddedView(o,a,l){let d,p;"number"==typeof l?d=l:null!=l&&(d=l.index,p=l.injector);const b=o.createEmbeddedViewImpl(a||{},p,null);return this.insertImpl(b,d,false),b}createComponent(o,a,l,d,p){const y=o&&!function Cs(i){return"function"==typeof i}(o);let b;if(y)b=a;else{const Ue=a||{};b=Ue.index,l=Ue.injector,d=Ue.projectableNodes,p=Ue.environmentInjector||Ue.ngModuleRef}const C=y?o:new sp(xt(o)),M=l||this.parentInjector;if(!p&&null==C.ngModule){const tt=(y?M:this.parentInjector).get(tu,null);tt&&(p=tt)}xt(C.componentType??{});const oe=C.create(M,d,null,p);return this.insertImpl(oe.hostView,b,false),oe}insert(o,a){return this.insertImpl(o,a,!1)}insertImpl(o,a,l){const d=o._lView,p=d[Qe];if(function xu(i){return ur(i[Pn])}(d)){const C=this.indexOf(o);if(-1!==C)this.detach(C);else{const M=d[Pn],O=new BC(M,M[Un],M[Pn]);O.detach(O.indexOf(o))}}const y=this._adjustIndex(a),b=this._lContainer;if(function Rv(i,o,a,l){const d=qn+l,p=a.length;l>0&&(a[d-1][Pr]=o),l<p-qn?(o[Pr]=a[d],zg(a,qn+l,o)):(a.push(o),o[Pr]=null),o[Pn]=a;const y=o[Ho];null!==y&&a!==y&&function nh(i,o){const a=i[Ni];o[An]!==o[Pn][Pn][An]&&(i[qo]=!0),null===a?i[Ni]=[o]:a.push(o)}(y,o);const b=o[Nr];null!==b&&b.insertView(i),o[Ot]|=128}(p,d,b,y),!l){const C=fm(y,b),M=d[bt],O=hm(M,b[ei]);null!==O&&function lm(i,o,a,l,d,p){l[Zn]=d,l[Un]=o,Af(i,l,a,1,d,p)}(p,b[Un],M,d,O,C)}return o.attachToViewContainerRef(),zg(Aw(b),y,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=jC(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),l=cm(this._lContainer,a);l&&(zu(Aw(this._lContainer),a),Zs(l[Qe],l))}detach(o){const a=this._adjustIndex(o,-1),l=cm(this._lContainer,a);return l&&null!=zu(Aw(this._lContainer),a)?new np(l):null}_adjustIndex(o,a=0){return o??this.length+a}};function jC(i){return i[8]}function Aw(i){return i[8]||(i[8]=[])}function $C(i,o){let a;const l=o[i.index];return ur(l)?a=l:(a=Lm(l,o,null,i),o[i.index]=a,To(o,a)),TM(a,o,i,l),new BC(a,i,o)}let TM=function HC(i,o,a,l){if(i[ei])return;let d;d=8&a.type?Ht(l):function SM(i,o){const a=i[bt],l=a.createComment(""),d=Jt(o,i);return $l(a,hm(a,d),l,function Cb(i,o){return i.nextSibling(o)}(a,d),!1),l}(o,a),i[ei]=d};class tc{constructor(o){this.queryList=o,this.matches=null}clone(){return new tc(this.queryList)}setDirty(){this.queryList.setDirty()}}class Mw{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const l=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let p=0;p<l;p++){const y=a.getByIndex(p);d.push(this.queries[y.indexInDeclarationView].clone())}return new Mw(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Ay(o,a).matches&&this.queries[a].setDirty()}}class GC{constructor(o,a,l=null){this.predicate=o,this.flags=a,this.read=l}}class xw{constructor(o=[]){this.queries=o}elementStart(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,p=this.getByIndex(l).embeddedTView(o,d);p&&(p.indexInDeclarationView=l,null!==a?a.push(p):a=[p])}return null!==a?new xw(a):null}template(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Rw{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Rw(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const p=l[d];this.matchTNodeWithReadOption(o,a,AM(a,p)),this.matchTNodeWithReadOption(o,a,Yn(a,o,p,!1,!1))}else l===ld?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Yn(a,o,l,!1,!1))}matchTNodeWithReadOption(o,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===Gf||d===ec||d===ld&&4&a.type)this.addMatch(a.index,-2);else{const p=Yn(a,o,d,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,l)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function AM(i,o){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===o)return a[l+1];return null}function xM(i,o,a,l){return-1===a?function MM(i,o){return 11&i.type?qc(i,o):4&i.type?Tw(i,o):null}(o,i):-2===a?function RM(i,o,a){return a===Gf?qc(o,i):a===ld?Tw(o,i):a===ec?$C(o,i):void 0}(i,o,l):cr(i,i[Qe],a,o)}function qC(i,o,a,l){const d=o[Nr].queries[l];if(null===d.matches){const p=i.data,y=a.matches,b=[];for(let C=0;C<y.length;C+=2){const M=y[C];b.push(M<0?null:xM(o,p[M],y[C+1],a.metadata.read))}d.matches=b}return d.matches}function Sy(i,o,a,l){const d=i.queries.getByIndex(a),p=d.matches;if(null!==p){const y=qC(i,o,d,a);for(let b=0;b<p.length;b+=2){const C=p[b];if(C>0)l.push(y[b/2]);else{const M=p[b+1],O=o[-C];for(let V=qn;V<O.length;V++){const ee=O[V];ee[Ho]===ee[Pn]&&Sy(ee[Qe],ee,M,l)}if(null!==O[Ni]){const V=O[Ni];for(let ee=0;ee<V.length;ee++){const oe=V[ee];Sy(oe[Qe],oe,M,l)}}}}}return l}function WC(i){const o=xe(),a=en(),l=Cc();bl(l+1);const d=Ay(a,l);if(i.dirty&&function ml(i){return 4==(4&i[Ot])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const p=d.crossesNgTemplate?Sy(a,o,l,[]):qC(a,o,d,l);i.reset(p,cE),i.notifyOnChanges()}return!0}return!1}function Pw(i,o,a,l){const d=en();if(d.firstCreatePass){const p=rr();(function YC(i,o,a){null===i.queries&&(i.queries=new xw),i.queries.track(new Rw(o,a))})(d,new GC(o,a,l),p.index),function PM(i,o){const a=i.contentQueries||(i.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,o)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}!function ZC(i,o,a){const l=new Sw(4==(4&a));(function u_(i,o,a,l){const d=kE(o);d.push(a),i.firstCreatePass&&ep(i).push(l,d.length-1)})(i,o,l,l.destroy),null===o[Nr]&&(o[Nr]=new Mw),o[Nr].queries.push(new tc(l))}(d,xe(),a)}function dd(){return function KC(i,o){return i[Nr].queries[o].queryList}(xe(),Cc())}function Ay(i,o){return i.queries.getByIndex(o)}function Nw(i){return!!Br(i)}const XM=new Dn("Application Initializer");let hD=(()=>{class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l}),this.appInits=At(XM,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const d of this.appInits){const p=d();if(O_(p))a.push(p);else if(bI(p)){const y=new Promise((b,C)=>{p.subscribe({complete:b,error:C})});a.push(y)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{l()}).catch(d=>{this.reject(d)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Vw=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const kh=new Dn("LocaleId",{providedIn:"root",factory:()=>At(kh,Ye.Optional|Ye.SkipSelf)||function fD(){return typeof $localize<"u"&&$localize.locale||Dh}()}),JM=new Dn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let pD=(()=>{class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new L.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class aO{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let uO=(()=>{class i{compileModuleSync(a){return new yw(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),p=nu(Br(a).declarations).reduce((y,b)=>{const C=xt(b);return C&&y.push(new sp(C)),y},[]);return new aO(l,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function mD(...i){}class us{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qu(!1),this.onMicrotaskEmpty=new Qu(!1),this.onStable=new Qu(!1),this.onError=new Qu(!1),typeof Zone>"u")throw new se(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&a,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function tx(){const i="function"==typeof pn.requestAnimationFrame;let o=pn[i?"requestAnimationFrame":"setTimeout"],a=pn[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&o&&a){const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function pO(i){const o=()=>{!function rx(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(pn,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,yD(i),i.isCheckStableRunning=!0,Oy(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),yD(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,d,p,y,b)=>{try{return ix(i),a.invokeTask(d,p,y,b)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&o(),sx(i)}},onInvoke:(a,l,d,p,y,b,C)=>{try{return ix(i),a.invoke(d,p,y,b,C)}finally{i.shouldCoalesceRunChangeDetection&&o(),sx(i)}},onHasTask:(a,l,d,p)=>{a.hasTask(d,p),l===d&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,yD(i),Oy(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,l,d,p)=>(a.handleError(d,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!us.isInAngularZone())throw new se(909,!1)}static assertNotInAngularZone(){if(us.isInAngularZone())throw new se(909,!1)}run(o,a,l){return this._inner.run(o,a,l)}runTask(o,a,l,d){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+d,o,nx,mD,mD);try{return p.runTask(y,a,l)}finally{p.cancelTask(y)}}runGuarded(o,a,l){return this._inner.runGuarded(o,a,l)}runOutsideAngular(o){return this._outer.run(o)}}const nx={};function Oy(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function yD(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function ix(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function sx(i){i._nesting--,Oy(i)}class gO{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qu,this.onMicrotaskEmpty=new Qu,this.onStable=new Qu,this.onError=new Qu}run(o,a,l){return o.apply(a,l)}runGuarded(o,a,l){return o.apply(a,l)}runOutsideAngular(o){return o()}runTask(o,a,l,d){return o.apply(a,l)}}const ox=new Dn("",{providedIn:"root",factory:vD});function vD(){const i=At(us);let o=!0;const a=new ae.y(d=>{o=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{d.next(o),d.complete()})}),l=new ae.y(d=>{let p;i.runOutsideAngular(()=>{p=i.onStable.subscribe(()=>{us.assertNotInAngularZone(),queueMicrotask(()=>{!o&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(o=!0,d.next(!0))})})});const y=i.onUnstable.subscribe(()=>{us.assertInAngularZone(),o&&(o=!1,i.runOutsideAngular(()=>{d.next(!1)}))});return()=>{p.unsubscribe(),y.unsubscribe()}});return(0,ue.T)(a,l.pipe((0,be.B)()))}const _D=new Dn(""),wD=new Dn("");let Bw,ax=(()=>{class i{constructor(a,l,d){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Bw||(function ux(i){Bw=i}(d),d.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{us.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,d){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:d})}whenStable(a,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,d){return[]}}return i.\u0275fac=function(a){return new(a||i)($e(us),$e(bD),$e(wD))},i.\u0275prov=wt({token:i,factory:i.\u0275fac}),i})(),bD=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return Bw?.findTestabilityInTree(this,a,l)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),rc=null;const ED=new Dn("AllowMultipleToken"),jw=new Dn("PlatformDestroyListeners"),ky=new Dn("appBootstrapListener");class Xu{constructor(o,a){this.name=o,this.token=a}}function Fy(i,o,a=[]){const l=`Platform: ${o}`,d=new Dn(l);return(p=[])=>{let y=Gw();if(!y||y.injector.get(ED,!1)){const b=[...a,...p,{provide:d,useValue:!0}];i?i(b):function pt(i){if(rc&&!rc.get(ED,!1))throw new se(400,!1);(function lx(){!function pl(i){fl=i}(()=>{throw new se(600,!1)})})(),rc=i;const o=i.get(DD);(function Gt(i){i.get(Vf,null)?.forEach(a=>a())})(i)}(function ID(i=[],o){return Wc.create({name:o,providers:[{provide:zc,useValue:"platform"},{provide:jw,useValue:new Set([()=>rc=null])},...i]})}(b,l))}return function Up(i){const o=Gw();if(!o)throw new se(401,!1);return o}()}}function Gw(){return rc?.get(DD)??null}let DD=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const d=function Ai(i="zone.js",o){return"noop"===i?new gO:"zone.js"===i?new us(o):i}(l?.ngZone,function SD(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:l?.ngZoneEventCoalescing,runCoalescing:l?.ngZoneRunCoalescing}));return d.run(()=>{const p=function lM(i,o,a){return new mw(i,o,a)}(a.moduleType,this.injector,function Vy(i){return[{provide:us,useFactory:i},{provide:Hc,multi:!0,useFactory:()=>{const o=At(dx,{optional:!0});return()=>o.initialize()}},{provide:qw,useFactory:AD},{provide:ox,useFactory:vD}]}(()=>d)),y=p.injector.get(ql,null);return d.runOutsideAngular(()=>{const b=d.onError.subscribe({next:C=>{y.handleError(C)}});p.onDestroy(()=>{Ly(this._modules,p),b.unsubscribe()})}),function Bp(i,o,a){try{const l=a();return O_(l)?l.catch(d=>{throw o.runOutsideAngular(()=>i.handleError(d)),d}):l}catch(l){throw o.runOutsideAngular(()=>i.handleError(l)),l}}(y,d,()=>{const b=p.injector.get(hD);return b.runInitializers(),b.donePromise.then(()=>(function nd(i){ut(i,"Expected localeId to be defined"),"string"==typeof i&&(Yl=i.toLowerCase().replace(/_/g,"-"))}(p.injector.get(kh,Dh)||Dh),this._moduleDoBootstrap(p),p))})})}bootstrapModule(a,l=[]){const d=ai({},l);return function $w(i,o,a){const l=new yw(a);return Promise.resolve(l)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(a){const l=a.injector.get(eo);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new se(-403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new se(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(jw,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)($e(Wc))},i.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function ai(i,o){return Array.isArray(o)?o.reduce(ai,i):{...i,...o}}let eo=(()=>{class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=At(qw),this.zoneIsStable=At(ox),this.componentTypes=[],this.components=[],this.isStable=At(pD).hasPendingTasks.pipe((0,Ae.w)(a=>a?(0,U.of)(!1):this.zoneIsStable),(0,he.x)(),(0,be.B)()),this._injector=At(tu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,l){const d=a instanceof Jv;if(!this._injector.get(hD).done)throw!d&&Qi(a),new se(405,!1);let y;y=d?a:this._injector.get(zf).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const b=function cx(i){return i.isBoundToModule}(y)?void 0:this._injector.get(Po),M=y.create(Wc.NULL,[],l||y.selector,b),O=M.location.nativeElement,V=M.injector.get(_D,null);return V?.registerApplication(O),M.onDestroy(()=>{this.detachView(M.hostView),Ly(this.components,M),V?.unregisterApplication(O)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new se(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Ly(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const l=this._injector.get(ky,[]);l.push(...this._bootstrapListeners),l.forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Ly(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new se(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Ly(i,o){const a=i.indexOf(o);a>-1&&i.splice(a,1)}const qw=new Dn("",{providedIn:"root",factory:()=>At(ql).handleError.bind(void 0)});function AD(){const i=At(us),o=At(ql);return a=>i.runOutsideAngular(()=>o.handleError(a))}let dx=(()=>{class i{constructor(){this.zone=At(us),this.applicationRef=At(eo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function MD(){return!1}let RD=(()=>{class i{}return i.__NG_ELEMENT_ID__=Kw,i})();function Kw(i){return function PD(i,o,a){if(ni(i)&&!a){const l=nr(i.index,o);return new np(l,l)}return 47&i.type?new np(o[An],o):null}(rr(),xe(),16==(16&i))}class Mi{constructor(){}supports(o){return up(o)}create(o){return new mx(o)}}const Gp=(i,o)=>o;class mx{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Gp}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,l=this._removalsHead,d=0,p=null;for(;a||l;){const y=!l||a&&a.currentIndex<Wp(l,d,p)?a:l,b=Wp(y,d,p),C=y.currentIndex;if(y===l)d--,l=l._nextRemoved;else if(a=a._next,null==y.previousIndex)d++;else{p||(p=[]);const M=b-d,O=C-d;if(M!=O){for(let ee=0;ee<M;ee++){const oe=ee<p.length?p[ee]:p[ee]=0,Se=oe+ee;O<=Se&&Se<M&&(p[ee]=oe+1)}p[y.previousIndex]=O-M}}b!==C&&o(y,b,C)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!up(o))throw new se(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,p,y,a=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let b=0;b<this.length;b++)p=o[b],y=this._trackByFn(b,p),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,p,y,b)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,y,b),l=!0),a=a._next}else d=0,function oA(i,o){if(Array.isArray(i))for(let a=0;a<i.length;a++)o(i[a]);else{const a=i[Symbol.iterator]();let l;for(;!(l=a.next()).done;)o(l.value)}}(o,b=>{y=this._trackByFn(d,b),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,b,y,d)),Object.is(a.item,b)||this._addIdentityChange(a,b)):(a=this._mismatch(a,b,y,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,l,d){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,d)):o=this._addAfter(new qp(a,l),p,d),o}_verifyReinsertion(o,a,l,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?o=this._reinsertAfter(p,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,p=o._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(o,a,l),this._addToMoves(o,l),o}_moveAfter(o,a,l){return this._unlink(o),this._insertAfter(o,a,l),this._addToMoves(o,l),o}_addAfter(o,a,l){return this._insertAfter(o,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,l){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new FD),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,l=o._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new FD),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class qp{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class yx{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const a=o._prevDup,l=o._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class FD{constructor(){this.map=new Map}put(o){const a=o.trackById;let l=this.map.get(a);l||(l=new yx,this.map.set(a,l)),l.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Wp(i,o,a){const l=i.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+o+d}class Kp{constructor(){}supports(o){return o instanceof Map||Di(o)}create(){return new Jw}}class Jw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||Di(o)))throw new se(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const l=o._prev;return a._next=o,a._prev=l,o._prev=a,l&&(l._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const p=d._prev,y=d._next;return p&&(p._next=y),y&&(y._prev=p),d._next=null,d._prev=null,d}const l=new e0(o);return this._records.set(o,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(l=>a(o[l],l))}}class e0{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function By(){return new Zp([new Mi])}let Zp=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const d=l.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||By()),deps:[[i,new is,new qd]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(null!=l)return l;throw new se(901,!1)}}return i.\u0275prov=wt({token:i,providedIn:"root",factory:By}),i})();function t0(){return new n0([new Kp])}let n0=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const d=l.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||t0()),deps:[[i,new is,new qd]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(l)return l;throw new se(901,!1)}}return i.\u0275prov=wt({token:i,providedIn:"root",factory:t0}),i})();const wx=Fy(null,"core",[]);let r0=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)($e(eo))},i.\u0275mod=mu({type:i}),i.\u0275inj=xn({}),i})();function Yp(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function $y(i){const o=xt(i);if(!o)return null;const a=new sp(o);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return o.standalone},get isSignal(){return o.signals}}}},3106:(ht,Te,k)=>{"use strict";k.d(Te,{Z:()=>Ke});var f=k(9058),ne=k(4537),L=k(4303),ae=k(7879);class ue{constructor(Ze,Ne){this._delegate=Ze,this.firebase=Ne,(0,L._addComponent)(Ze,new ne.wA("app-compat",()=>this,"PUBLIC")),this.container=Ze.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ze){this._delegate.automaticDataCollectionEnabled=Ze}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ze=>{this._delegate.checkDestroyed(),Ze()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(Ze,Ne=L._DEFAULT_ENTRY_NAME){var ot;this._delegate.checkDestroyed();const Xe=this._delegate.container.getProvider(Ze);return!Xe.isInitialized()&&"EXPLICIT"===(null===(ot=Xe.getComponent())||void 0===ot?void 0:ot.instantiationMode)&&Xe.initialize(),Xe.getImmediate({identifier:Ne})}_removeServiceInstance(Ze,Ne=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ze).clearInstance(Ne)}_addComponent(Ze){(0,L._addComponent)(this._delegate,Ze)}_addOrOverwriteComponent(Ze){(0,L._addOrOverwriteComponent)(this._delegate,Ze)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const be=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function he(){const Oe=function Ae(Oe){const Ze={},Ne={__esModule:!0,initializeApp:function se(Le,H={}){const Ie=L.initializeApp(Le,H);if((0,f.r3)(Ze,Ie.name))return Ze[Ie.name];const De=new Oe(Ie,Ne);return Ze[Ie.name]=De,De},app:Xe,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function te(Le){const H=Le.name,Ie=H.replace("-compat","");if(L._registerComponent(Le)&&"PUBLIC"===Le.type){const De=(Pt=Xe())=>{if("function"!=typeof Pt[Ie])throw be.create("invalid-app-argument",{appName:H});return Pt[Ie]()};void 0!==Le.serviceProps&&(0,f.ZB)(De,Le.serviceProps),Ne[Ie]=De,Oe.prototype[Ie]=function(...Pt){return this._getService.bind(this,H).apply(this,Le.multipleInstances?Pt:[])}}return"PUBLIC"===Le.type?Ne[Ie]:null},removeApp:function ot(Le){delete Ze[Le]},useAsService:function me(Le,H){return"serverAuth"===H?null:H},modularAPIs:L}};function Xe(Le){if(!(0,f.r3)(Ze,Le=Le||L._DEFAULT_ENTRY_NAME))throw be.create("no-app",{appName:Le});return Ze[Le]}return Ne.default=Ne,Object.defineProperty(Ne,"apps",{get:function ye(){return Object.keys(Ze).map(Le=>Ze[Le])}}),Xe.App=Oe,Ne}(ue);return Oe.INTERNAL=Object.assign(Object.assign({},Oe.INTERNAL),{createFirebaseNamespace:he,extendNamespace:function Ze(Ne){(0,f.ZB)(Oe,Ne)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),Oe}(),G=new ae.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Oe=self.firebase.SDK_VERSION;Oe&&Oe.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ke=q;!function Pe(Oe){(0,L.registerVersion)("@firebase/app-compat","0.1.30",Oe)}()},4303:(ht,Te,k)=>{"use strict";k.r(Te),k.d(Te,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>xn,_DEFAULT_ENTRY_NAME:()=>le,_addComponent:()=>Ve,_addOrOverwriteComponent:()=>He,_apps:()=>ve,_clearComponents:()=>ft,_components:()=>_e,_getProvider:()=>qe,_registerComponent:()=>ut,_removeServiceInstance:()=>sn,deleteApp:()=>Ln,getApp:()=>cn,getApps:()=>_t,initializeApp:()=>Xn,onLog:()=>vn,registerVersion:()=>Jn,setLogLevel:()=>mn});var f=k(5861),ne=k(4537),L=k(7879),ae=k(9058),ue=k(1878);class U{constructor(Y){this.container=Y}getPlatformInfoString(){return this.container.getProviders().map(W=>{if(function be(z){const Y=z.getComponent();return"VERSION"===Y?.type}(W)){const ke=W.getImmediate();return`${ke.library}/${ke.version}`}return null}).filter(W=>W).join(" ")}}const Ae="@firebase/app",q=new L.Yd("@firebase/app"),le="[DEFAULT]",ge={[Ae]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ve=new Map,_e=new Map;function Ve(z,Y){try{z.container.addComponent(Y)}catch(W){q.debug(`Component ${Y.name} failed to register with FirebaseApp ${z.name}`,W)}}function He(z,Y){z.container.addOrOverwriteComponent(Y)}function ut(z){const Y=z.name;if(_e.has(Y))return q.debug(`There were multiple attempts to register component ${Y}.`),!1;_e.set(Y,z);for(const W of ve.values())Ve(W,z);return!0}function qe(z,Y){const W=z.container.getProvider("heartbeat").getImmediate({optional:!0});return W&&W.triggerHeartbeat(),z.container.getProvider(Y)}function sn(z,Y,W=le){qe(z,Y).clearInstance(W)}function ft(){_e.clear()}const wt=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Lt{constructor(Y,W,ke){this._isDeleted=!1,this._options=Object.assign({},Y),this._config=Object.assign({},W),this._name=W.name,this._automaticDataCollectionEnabled=W.automaticDataCollectionEnabled,this._container=ke,this.container.addComponent(new ne.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Y){this.checkDestroyed(),this._automaticDataCollectionEnabled=Y}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Y){this._isDeleted=Y}checkDestroyed(){if(this.isDeleted)throw wt.create("app-deleted",{appName:this._name})}}const xn="9.9.1";function Xn(z,Y={}){"object"!=typeof Y&&(Y={name:Y});const W=Object.assign({name:le,automaticDataCollectionEnabled:!1},Y),ke=W.name;if("string"!=typeof ke||!ke)throw wt.create("bad-app-name",{appName:String(ke)});const $e=ve.get(ke);if($e){if((0,ae.vZ)(z,$e.options)&&(0,ae.vZ)(W,$e.config))return $e;throw wt.create("duplicate-app",{appName:ke})}const mt=new ne.H0(ke);for(const dn of _e.values())mt.addComponent(dn);const At=new Lt(z,W,mt);return ve.set(ke,At),At}function cn(z=le){const Y=ve.get(z);if(!Y)throw wt.create("no-app",{appName:z});return Y}function _t(){return Array.from(ve.values())}function Ln(z){return zn.apply(this,arguments)}function zn(){return(zn=(0,f.Z)(function*(z){const Y=z.name;ve.has(Y)&&(ve.delete(Y),yield Promise.all(z.container.getProviders().map(W=>W.delete())),z.isDeleted=!0)})).apply(this,arguments)}function Jn(z,Y,W){var ke;let $e=null!==(ke=ge[z])&&void 0!==ke?ke:z;W&&($e+=`-${W}`);const mt=$e.match(/\s|\//),At=Y.match(/\s|\//);if(mt||At){const dn=[`Unable to register library "${$e}" with version "${Y}":`];return mt&&dn.push(`library name "${$e}" contains illegal characters (whitespace or "/")`),mt&&At&&dn.push("and"),At&&dn.push(`version name "${Y}" contains illegal characters (whitespace or "/")`),void q.warn(dn.join(" "))}ut(new ne.wA(`${$e}-version`,()=>({library:$e,version:Y}),"VERSION"))}function vn(z,Y){if(null!==z&&"function"!=typeof z)throw wt.create("invalid-log-argument");(0,L.Am)(z,Y)}function mn(z){(0,L.Ub)(z)}const fi="firebase-heartbeat-database",Ye=1,nt="firebase-heartbeat-store";let Tt=null;function $n(){return Tt||(Tt=(0,ue.X3)(fi,Ye,{upgrade:(z,Y)=>{0===Y&&z.createObjectStore(nt)}}).catch(z=>{throw wt.create("storage-open",{originalErrorMessage:z.message})})),Tt}function er(){return(er=(0,f.Z)(function*(z){var Y;try{return(yield $n()).transaction(nt).objectStore(nt).get(Zi(z))}catch(W){throw wt.create("storage-get",{originalErrorMessage:null===(Y=W)||void 0===Y?void 0:Y.message})}})).apply(this,arguments)}function pn(z,Y){return In.apply(this,arguments)}function In(){return(In=(0,f.Z)(function*(z,Y){var W;try{const $e=(yield $n()).transaction(nt,"readwrite");return yield $e.objectStore(nt).put(Y,Zi(z)),$e.done}catch(ke){throw wt.create("storage-set",{originalErrorMessage:null===(W=ke)||void 0===W?void 0:W.message})}})).apply(this,arguments)}function Zi(z){return`${z.name}!${z.options.appId}`}class an{constructor(Y){this.container=Y,this._heartbeatsCache=null;const W=this.container.getProvider("app").getImmediate();this._storage=new Lo(W),this._heartbeatsCachePromise=this._storage.read().then(ke=>(this._heartbeatsCache=ke,ke))}triggerHeartbeat(){var Y=this;return(0,f.Z)(function*(){const ke=Y.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),$e=Yr();if(null===Y._heartbeatsCache&&(Y._heartbeatsCache=yield Y._heartbeatsCachePromise),Y._heartbeatsCache.lastSentHeartbeatDate!==$e&&!Y._heartbeatsCache.heartbeats.some(mt=>mt.date===$e))return Y._heartbeatsCache.heartbeats.push({date:$e,agent:ke}),Y._heartbeatsCache.heartbeats=Y._heartbeatsCache.heartbeats.filter(mt=>{const At=new Date(mt.date).valueOf();return Date.now()-At<=2592e6}),Y._storage.overwrite(Y._heartbeatsCache)})()}getHeartbeatsHeader(){var Y=this;return(0,f.Z)(function*(){if(null===Y._heartbeatsCache&&(yield Y._heartbeatsCachePromise),null===Y._heartbeatsCache||0===Y._heartbeatsCache.heartbeats.length)return"";const W=Yr(),{heartbeatsToSend:ke,unsentEntries:$e}=function Qr(z,Y=1024){const W=[];let ke=z.slice();for(const $e of z){const mt=W.find(At=>At.agent===$e.agent);if(mt){if(mt.dates.push($e.date),J(W)>Y){mt.dates.pop();break}}else if(W.push({agent:$e.agent,dates:[$e.date]}),J(W)>Y){W.pop();break}ke=ke.slice(1)}return{heartbeatsToSend:W,unsentEntries:ke}}(Y._heartbeatsCache.heartbeats),mt=(0,ae.L)(JSON.stringify({version:2,heartbeats:ke}));return Y._heartbeatsCache.lastSentHeartbeatDate=W,$e.length>0?(Y._heartbeatsCache.heartbeats=$e,yield Y._storage.overwrite(Y._heartbeatsCache)):(Y._heartbeatsCache.heartbeats=[],Y._storage.overwrite(Y._heartbeatsCache)),mt})()}}function Yr(){return(new Date).toISOString().substring(0,10)}class Lo{constructor(Y){this.app=Y,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Y=this;return(0,f.Z)(function*(){return(yield Y._canUseIndexedDBPromise)&&(yield function pi(z){return er.apply(this,arguments)}(Y.app))||{heartbeats:[]}})()}overwrite(Y){var W=this;return(0,f.Z)(function*(){var ke;if(yield W._canUseIndexedDBPromise){const mt=yield W.read();return pn(W.app,{lastSentHeartbeatDate:null!==(ke=Y.lastSentHeartbeatDate)&&void 0!==ke?ke:mt.lastSentHeartbeatDate,heartbeats:Y.heartbeats})}})()}add(Y){var W=this;return(0,f.Z)(function*(){var ke;if(yield W._canUseIndexedDBPromise){const mt=yield W.read();return pn(W.app,{lastSentHeartbeatDate:null!==(ke=Y.lastSentHeartbeatDate)&&void 0!==ke?ke:mt.lastSentHeartbeatDate,heartbeats:[...mt.heartbeats,...Y.heartbeats]})}})()}}function J(z){return(0,ae.L)(JSON.stringify({version:2,heartbeats:z})).length}!function Z(z){ut(new ne.wA("platform-logger",Y=>new U(Y),"PRIVATE")),ut(new ne.wA("heartbeat",Y=>new an(Y),"PRIVATE")),Jn(Ae,"0.7.29",z),Jn(Ae,"0.7.29","esm2017"),Jn("fire-js","")}("")},4537:(ht,Te,k)=>{"use strict";k.d(Te,{H0:()=>Ae,wA:()=>L});var f=k(5861),ne=k(9058);class L{constructor(q,G,ie){this.name=q,this.instanceFactory=G,this.type=ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const ae="[DEFAULT]";class ue{constructor(q,G){this.name=q,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const G=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(G)){const ie=new ne.BH;if(this.instancesDeferred.set(G,ie),this.isInitialized(G)||this.shouldAutoInitialize())try{const Be=this.getOrInitializeService({instanceIdentifier:G});Be&&ie.resolve(Be)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate(q){var G;const ie=this.normalizeInstanceIdentifier(q?.identifier),Be=null!==(G=q?.optional)&&void 0!==G&&G;if(!this.isInitialized(ie)&&!this.shouldAutoInitialize()){if(Be)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ie})}catch(Pe){if(Be)return null;throw Pe}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function be(he){return"EAGER"===he.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[G,ie]of this.instancesDeferred.entries()){const Be=this.normalizeInstanceIdentifier(G);try{const Pe=this.getOrInitializeService({instanceIdentifier:Be});ie.resolve(Pe)}catch{}}}}clearInstance(q=ae){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,f.Z)(function*(){const G=Array.from(q.instances.values());yield Promise.all([...G.filter(ie=>"INTERNAL"in ie).map(ie=>ie.INTERNAL.delete()),...G.filter(ie=>"_delete"in ie).map(ie=>ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=ae){return this.instances.has(q)}getOptions(q=ae){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:G={}}=q,ie=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(ie))throw Error(`${this.name}(${ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Be=this.getOrInitializeService({instanceIdentifier:ie,options:G});for(const[Pe,Ke]of this.instancesDeferred.entries())ie===this.normalizeInstanceIdentifier(Pe)&&Ke.resolve(Be);return Be}onInit(q,G){var ie;const Be=this.normalizeInstanceIdentifier(G),Pe=null!==(ie=this.onInitCallbacks.get(Be))&&void 0!==ie?ie:new Set;Pe.add(q),this.onInitCallbacks.set(Be,Pe);const Ke=this.instances.get(Be);return Ke&&q(Ke,Be),()=>{Pe.delete(q)}}invokeOnInitCallbacks(q,G){const ie=this.onInitCallbacks.get(G);if(ie)for(const Be of ie)try{Be(q,G)}catch{}}getOrInitializeService({instanceIdentifier:q,options:G={}}){let ie=this.instances.get(q);if(!ie&&this.component&&(ie=this.component.instanceFactory(this.container,{instanceIdentifier:(he=q,he===ae?void 0:he),options:G}),this.instances.set(q,ie),this.instancesOptions.set(q,G),this.invokeOnInitCallbacks(ie,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,ie)}catch{}var he;return ie||null}normalizeInstanceIdentifier(q=ae){return this.component?this.component.multipleInstances?q:ae:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ae{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const G=this.getProvider(q.name);if(G.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);G.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const G=new ue(q,this);return this.providers.set(q,G),G}getProviders(){return Array.from(this.providers.values())}}},7879:(ht,Te,k)=>{"use strict";k.d(Te,{Am:()=>he,Ub:()=>Ae,Yd:()=>be,in:()=>ne});const f=[];var ne=(()=>((ne=ne||{})[ne.DEBUG=0]="DEBUG",ne[ne.VERBOSE=1]="VERBOSE",ne[ne.INFO=2]="INFO",ne[ne.WARN=3]="WARN",ne[ne.ERROR=4]="ERROR",ne[ne.SILENT=5]="SILENT",ne))();const L={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},ae=ne.INFO,ue={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},U=(q,G,...ie)=>{if(G<q.logLevel)return;const Be=(new Date).toISOString(),Pe=ue[G];if(!Pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Pe](`[${Be}]  ${q.name}:`,...ie)};class be{constructor(G){this.name=G,this._logLevel=ae,this._logHandler=U,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in ne))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?L[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...G),this._logHandler(this,ne.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...G),this._logHandler(this,ne.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...G),this._logHandler(this,ne.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...G),this._logHandler(this,ne.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...G),this._logHandler(this,ne.ERROR,...G)}}function Ae(q){f.forEach(G=>{G.setLogLevel(q)})}function he(q,G){for(const ie of f){let Be=null;G&&G.level&&(Be=L[G.level]),ie.userLogHandler=null===q?null:(Pe,Ke,...Oe)=>{const Ze=Oe.map(Ne=>{if(null==Ne)return null;if("string"==typeof Ne)return Ne;if("number"==typeof Ne||"boolean"==typeof Ne)return Ne.toString();if(Ne instanceof Error)return Ne.message;try{return JSON.stringify(Ne)}catch{return null}}).filter(Ne=>Ne).join(" ");Ke>=(Be??Pe.logLevel)&&q({level:ne[Ke].toLowerCase(),message:Ze,args:Oe,type:Pe.name})}}}},1878:(ht,Te,k)=>{"use strict";k.d(Te,{Lj:()=>se,X3:()=>Xe});var f=k(5861);const ne=(H,Ie)=>Ie.some(De=>H instanceof De);let L,ae;const be=new WeakMap,Ae=new WeakMap,he=new WeakMap,q=new WeakMap,G=new WeakMap;let Pe={get(H,Ie,De){if(H instanceof IDBTransaction){if("done"===Ie)return Ae.get(H);if("objectStoreNames"===Ie)return H.objectStoreNames||he.get(H);if("store"===Ie)return De.objectStoreNames[1]?void 0:De.objectStore(De.objectStoreNames[0])}return Ne(H[Ie])},set:(H,Ie,De)=>(H[Ie]=De,!0),has:(H,Ie)=>H instanceof IDBTransaction&&("done"===Ie||"store"===Ie)||Ie in H};function Ze(H){return"function"==typeof H?function Oe(H){return H!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function U(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(H)?function(...Ie){return H.apply(ot(this),Ie),Ne(be.get(this))}:function(...Ie){return Ne(H.apply(ot(this),Ie))}:function(Ie,...De){const Pt=H.call(ot(this),Ie,...De);return he.set(Pt,Ie.sort?Ie.sort():[Ie]),Ne(Pt)}}(H):(H instanceof IDBTransaction&&function Be(H){if(Ae.has(H))return;const Ie=new Promise((De,Pt)=>{const Wt=()=>{H.removeEventListener("complete",nn),H.removeEventListener("error",hn),H.removeEventListener("abort",hn)},nn=()=>{De(),Wt()},hn=()=>{Pt(H.error||new DOMException("AbortError","AbortError")),Wt()};H.addEventListener("complete",nn),H.addEventListener("error",hn),H.addEventListener("abort",hn)});Ae.set(H,Ie)}(H),ne(H,function ue(){return L||(L=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(H,Pe):H)}function Ne(H){if(H instanceof IDBRequest)return function ie(H){const Ie=new Promise((De,Pt)=>{const Wt=()=>{H.removeEventListener("success",nn),H.removeEventListener("error",hn)},nn=()=>{De(Ne(H.result)),Wt()},hn=()=>{Pt(H.error),Wt()};H.addEventListener("success",nn),H.addEventListener("error",hn)});return Ie.then(De=>{De instanceof IDBCursor&&be.set(De,H)}).catch(()=>{}),G.set(Ie,H),Ie}(H);if(q.has(H))return q.get(H);const Ie=Ze(H);return Ie!==H&&(q.set(H,Ie),G.set(Ie,H)),Ie}const ot=H=>G.get(H);function Xe(H,Ie,{blocked:De,upgrade:Pt,blocking:Wt,terminated:nn}={}){const hn=indexedDB.open(H,Ie),fn=Ne(hn);return Pt&&hn.addEventListener("upgradeneeded",Qn=>{Pt(Ne(hn.result),Qn.oldVersion,Qn.newVersion,Ne(hn.transaction))}),De&&hn.addEventListener("blocked",()=>De()),fn.then(Qn=>{nn&&Qn.addEventListener("close",()=>nn()),Wt&&Qn.addEventListener("versionchange",()=>Wt())}).catch(()=>{}),fn}function se(H,{blocked:Ie}={}){const De=indexedDB.deleteDatabase(H);return Ie&&De.addEventListener("blocked",()=>Ie()),Ne(De).then(()=>{})}const ye=["get","getKey","getAll","getAllKeys","count"],te=["put","add","delete","clear"],me=new Map;function Le(H,Ie){if(!(H instanceof IDBDatabase)||Ie in H||"string"!=typeof Ie)return;if(me.get(Ie))return me.get(Ie);const De=Ie.replace(/FromIndex$/,""),Pt=Ie!==De,Wt=te.includes(De);if(!(De in(Pt?IDBIndex:IDBObjectStore).prototype)||!Wt&&!ye.includes(De))return;const nn=function(){var hn=(0,f.Z)(function*(fn,...Qn){const xr=this.transaction(fn,Wt?"readwrite":"readonly");let le=xr.store;return Pt&&(le=le.index(Qn.shift())),(yield Promise.all([le[De](...Qn),Wt&&xr.done]))[0]});return function(Qn){return hn.apply(this,arguments)}}();return me.set(Ie,nn),nn}!function Ke(H){Pe=H(Pe)}(H=>({...H,get:(Ie,De,Pt)=>Le(Ie,De)||H.get(Ie,De,Pt),has:(Ie,De)=>!!Le(Ie,De)||H.has(Ie,De)}))},5861:(ht,Te,k)=>{"use strict";function f(L,ae,ue,U,be,Ae,he){try{var q=L[Ae](he),G=q.value}catch(ie){return void ue(ie)}q.done?ae(G):Promise.resolve(G).then(U,be)}function ne(L){return function(){var ae=this,ue=arguments;return new Promise(function(U,be){var Ae=L.apply(ae,ue);function he(G){f(Ae,U,be,he,q,"next",G)}function q(G){f(Ae,U,be,he,q,"throw",G)}he(void 0)})}}k.d(Te,{Z:()=>ne})},7582:(ht,Te,k)=>{"use strict";function ae(le,ge){var ve={};for(var _e in le)Object.prototype.hasOwnProperty.call(le,_e)&&ge.indexOf(_e)<0&&(ve[_e]=le[_e]);if(null!=le&&"function"==typeof Object.getOwnPropertySymbols){var Ve=0;for(_e=Object.getOwnPropertySymbols(le);Ve<_e.length;Ve++)ge.indexOf(_e[Ve])<0&&Object.prototype.propertyIsEnumerable.call(le,_e[Ve])&&(ve[_e[Ve]]=le[_e[Ve]])}return ve}function ie(le,ge,ve,_e){return new(ve||(ve=Promise))(function(He,ut){function qe(Ut){try{ft(_e.next(Ut))}catch(wt){ut(wt)}}function sn(Ut){try{ft(_e.throw(Ut))}catch(wt){ut(wt)}}function ft(Ut){Ut.done?He(Ut.value):function Ve(He){return He instanceof ve?He:new ve(function(ut){ut(He)})}(Ut.value).then(qe,sn)}ft((_e=_e.apply(le,ge||[])).next())})}function se(le){return this instanceof se?(this.v=le,this):new se(le)}function ye(le,ge,ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,_e=ve.apply(le,ge||[]),He=[];return Ve={},ut("next"),ut("throw"),ut("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve;function ut(Lt){_e[Lt]&&(Ve[Lt]=function(xn){return new Promise(function(Xn,cn){He.push([Lt,xn,Xn,cn])>1||qe(Lt,xn)})})}function qe(Lt,xn){try{!function sn(Lt){Lt.value instanceof se?Promise.resolve(Lt.value.v).then(ft,Ut):wt(He[0][2],Lt)}(_e[Lt](xn))}catch(Xn){wt(He[0][3],Xn)}}function ft(Lt){qe("next",Lt)}function Ut(Lt){qe("throw",Lt)}function wt(Lt,xn){Lt(xn),He.shift(),He.length&&qe(He[0][0],He[0][1])}}function me(le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,ge=le[Symbol.asyncIterator];return ge?ge.call(le):(le=function Oe(le){var ge="function"==typeof Symbol&&Symbol.iterator,ve=ge&&le[ge],_e=0;if(ve)return ve.call(le);if(le&&"number"==typeof le.length)return{next:function(){return le&&_e>=le.length&&(le=void 0),{value:le&&le[_e++],done:!le}}};throw new TypeError(ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(le),ve={},_e("next"),_e("throw"),_e("return"),ve[Symbol.asyncIterator]=function(){return this},ve);function _e(He){ve[He]=le[He]&&function(ut){return new Promise(function(qe,sn){!function Ve(He,ut,qe,sn){Promise.resolve(sn).then(function(ft){He({value:ft,done:qe})},ut)}(qe,sn,(ut=le[He](ut)).done,ut.value)})}}}k.d(Te,{FC:()=>ye,KL:()=>me,_T:()=>ae,mG:()=>ie,qq:()=>se}),"function"==typeof SuppressedError&&SuppressedError}},ht=>{ht(ht.s=1538)}]);